/*! grafana - v4.0.0-1478693311beta1 - 2016-11-09
 * Copyright (c) 2016 Torkel Ã–degaard; Licensed Apache-2.0 */

System.register(["angular","lodash"],function(a){function b(){return{restrict:"E",templateUrl:"public/app/features/dashboard/submenu/submenu.html",controller:e,bindToController:!0,controllerAs:"ctrl",scope:{dashboard:"="}}}var c,d,e;return a("submenuDirective",b),{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(a,b,c,d){this.$rootScope=a,this.variableSrv=b,this.templateSrv=c,this.$location=d,this.annotations=this.dashboard.templating.list,this.variables=this.variableSrv.variables}return a.$inject=["$rootScope","variableSrv","templateSrv","$location"],a.prototype.annotationStateChanged=function(){this.$rootScope.$broadcast("refresh")},a.prototype.getValuesForTag=function(a,b){return this.variableSrv.getValuesForTag(a,b)},a.prototype.variableUpdated=function(a){var b=this;this.variableSrv.variableUpdated(a).then(function(){b.$rootScope.$emit("template-variable-value-updated"),b.$rootScope.$broadcast("refresh")})},a.prototype.openEditView=function(a){var b=d["default"].extend(this.$location.search(),{editview:a});this.$location.search(b)},a.prototype.exitBuildMode=function(){this.dashboard.toggleEditMode()},a}(),a("SubmenuCtrl",e),c["default"].module("grafana.directives").directive("dashboardSubmenu",b)}}});