/*! grafana - v4.0.0-1478693311beta1 - 2016-11-09
 * Copyright (c) 2016 Torkel Ã–degaard; Licensed Apache-2.0 */

System.register(["lodash","./variable"],function(a){var b,c,d;return{setters:[function(a){b=a},function(a){c=a}],execute:function(){d=function(){function a(a){this.model=a,this.defaults={type:"adhoc",name:"",label:"",hide:0,datasource:null,filters:[]},c.assignModelProperties(this,a,this.defaults)}return a.$inject=["model"],a.prototype.setValue=function(a){return Promise.resolve()},a.prototype.getModel=function(){return c.assignModelProperties(this.model,this,this.defaults),this.model},a.prototype.updateOptions=function(){return Promise.resolve()},a.prototype.dependsOn=function(a){return!1},a.prototype.setValueFromUrl=function(a){return b["default"].isArray(a)||(a=[a]),this.filters=a.map(function(a){var b=a.split("|");return{key:b[0],operator:b[1],value:b[2]}}),Promise.resolve()},a.prototype.getValueForUrl=function(){return this.filters.map(function(a){return a.key+"|"+a.operator+"|"+a.value})},a.prototype.setFilters=function(a){this.filters=a},a}(),a("AdhocVariable",d),c.variableTypes.adhoc={name:"Ad hoc filters",ctor:d,description:"Add key/value filters on the fly"}}}});