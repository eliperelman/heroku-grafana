/*! grafana - v3.1.1-1470047149 - 2016-08-01
 * Copyright (c) 2016 Torkel Ödegaard; Licensed Apache-2.0 */

"bundle";System.registerDynamic("bootstrap",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a){"use strict";a(function(){a.support.transition=function(){var a=function(){var a,b=document.createElement("bootstrap"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(a in c)if(void 0!==b.style[a])return c[a]}();return a&&{end:a}}()})}(window.jQuery),!function(a){"use strict";function b(){a(".dropdown-backdrop").remove(),a(d).each(function(){c(a(this)).removeClass("open")})}function c(b){var c,d=b.attr("data-target");return d||(d=b.attr("href"),d=d&&/#[A-Za-z]/.test(d)&&d.replace(/.*(?=#[^\s]*$)/,"")),c=d&&a(d),c&&c.length||(c=b.parent()),c}var d="[data-toggle=dropdown]",e=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};e.prototype={constructor:e,toggle:function(d){var e,f,g=a(this);if(!g.is(".disabled, :disabled"))return e=c(g),f=e.hasClass("open"),b(),f||("ontouchstart"in document.documentElement&&a('<div class="dropdown-backdrop"/>').insertBefore(a(this)).on("click",b),e.toggleClass("open")),g.focus(),!1},keydown:function(b){var e,f,g,h,i;if(/(38|40|27)/.test(b.keyCode)&&(e=a(this),b.preventDefault(),b.stopPropagation(),!e.is(".disabled, :disabled"))){if(g=c(e),h=g.hasClass("open"),!h||h&&27==b.keyCode)return 27==b.which&&g.find(d).focus(),e.click();f=a("[role=menu] li:not(.divider):visible a",g),f.length&&(i=f.index(f.filter(":focus")),38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<f.length-1&&i++,~i||(i=0),f.eq(i).focus())}}};var f=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("dropdown");d||c.data("dropdown",d=new e(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=e,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=f,this},a(document).on("click.dropdown.data-api",b).on("click.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown.data-api",d,e.prototype.toggle).on("keydown.dropdown.data-api",d+", [role=menu]",e.prototype.keydown)}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};b.prototype={constructor:b,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,c=a.Event("show");this.$element.trigger(c),this.isShown||c.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var c=a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body),b.$element.show(),c&&b.$element[0].offsetWidth,b.$element.addClass("in").attr("aria-hidden",!1),b.enforceFocus(),c?b.$element.one(a.support.transition.end,function(){b.$element.focus().trigger("shown")}):b.$element.focus().trigger("shown")}))},hide:function(b){b&&b.preventDefault();b=a.Event("hide"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var b=this;a(document).on("focusin.modal",function(a){b.$element[0]===a.target||b.$element.has(a.target).length||b.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(b){27==b.which&&a.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),b.hideModal()})},hideModal:function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?a.proxy(this.$element[0].focus,this.$element[0]):a.proxy(this.hide,this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b):b()):b&&b()}};var c=a.fn.modal;a.fn.modal=function(c){return this.each(function(){var d=a(this),e=d.data("modal"),f=a.extend({},a.fn.modal.defaults,d.data(),"object"==typeof c&&c);e||d.data("modal",e=new b(this,f)),"string"==typeof c?e[c]():f.show&&e.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f).one("hide",function(){c.focus()})})}(window.jQuery),!function(a){"use strict";var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f,g,h,i;for(this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,g=this.options.trigger.split(" "),i=g.length;i--;)h=g[i],"click"==h?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):"manual"!=h&&(e="hover"==h?"mouseenter":"focus",f="hover"==h?"mouseleave":"blur",this.$element.on(e+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,a.proxy(this.leave,this)));this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c,d=a.fn[this.type].defaults,e={};return this._options&&a.each(this._options,function(a,b){d[a]!=b&&(e[a]=b)},this),c=a(b.currentTarget)[this.type](e).data(this.type),c.options.delay&&c.options.delay.show?(clearTimeout(this.timeout),c.hoverState="in",void(this.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show))):c.show()},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),c.options.delay&&c.options.delay.hide?(c.hoverState="out",void(this.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide))):c.hide()},show:function(){var b,c,d,e,f,g,h=a.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(h),h.isDefaultPrevented())return;switch(b=this.tip(),this.setContent(),this.options.animation&&b.addClass("fade"),f="function"==typeof this.options.placement?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement,b.detach().css({top:0,left:0,display:"block"}),this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element),c=this.getPosition(),d=b[0].offsetWidth,e=b[0].offsetHeight,f){case"bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":g={top:c.top+c.height/2-e/2,left:c.left+c.width};break;case"topLeft":g={top:c.top-e,left:c.left+c.width/2-.1*d};break;case"topRight":g={top:c.top-e,left:c.left+c.width/2-.9*d};break;case"rightTop":g={top:c.top+c.height/2-.1*e,left:c.left+c.width};break;case"rightBottom":g={top:c.top+c.height/2-.9*e,left:c.left+c.width};break;case"bottomLeft":g={top:c.top+c.height,left:c.left+c.width/2-.1*d};break;case"bottomRight":g={top:c.top+c.height,left:c.left+c.width/2-.9*d};break;case"leftTop":g={top:c.top+c.height/2-.1*e,left:c.left-d};break;case"leftBottom":g={top:c.top+c.height/2-.9*e,left:c.left-d}}this.applyPlacement(g,f),this.$element.trigger("shown")}},applyPlacement:function(a,b){var c,d,e,f,g=this.tip(),h=g[0].offsetWidth,i=g[0].offsetHeight;g.offset(a).addClass(b).addClass("in"),c=g[0].offsetWidth,d=g[0].offsetHeight,"top"==b&&d!=i&&(a.top=a.top+i-d,f=!0),"bottom"==b||"top"==b?(e=0,a.left<0&&(e=a.left*-2,a.left=0,g.offset(a),c=g[0].offsetWidth,d=g[0].offsetHeight),this.replaceArrow(e-h+c,c,"left")):this.replaceArrow(d-i,d,"top"),f&&g.offset(a)},replaceArrow:function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){function b(){var b=setTimeout(function(){c.off(a.support.transition.end).detach()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.detach()})}var c=this.tip(),d=a.Event("hide");if(this.$element.trigger(d),!d.isDefaultPrevented())return c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?b():c.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},tip:function(){return this.$tip=this.$tip||a(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(b){var c=b?a(b.currentTarget)[this.type](this._options).data(this.type):this;c.tip().hasClass("in")?c.hide():c.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("tooltip"),f="object"==typeof c&&c;e||d.data("tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(window.jQuery),!function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var b,c,d,e=this.element,f=e.closest("ul:not(.dropdown-menu)"),g=e.attr("data-target");g||(g=e.attr("href"),g=g&&g.replace(/.*(?=#[^\s]*$)/,"")),e.parent("li").hasClass("active")||(b=f.find(".active:last a")[0],d=a.Event("show",{relatedTarget:b}),e.trigger(d),d.isDefaultPrevented()||(c=a(g),this.activate(e.parent("li"),f),this.activate(c,c.parent(),function(){e.trigger({type:"shown",relatedTarget:b})})))},activate:function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e):e(),f.removeClass("in")}};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("tab");e||d.data("tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.typeahead.defaults,c),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=a(this.options.menu),this.shown=!1,this.listen()};b.prototype={constructor:b,select:function(){var a=this.$menu.find(".active").attr("data-value")||this.$element.val();return this.$element.val(this.updater(a)).change(),this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:b.top+b.height,left:b.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(b){var c;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(c=a.isFunction(this.source)?this.source(this.query,a.proxy(this.process,this)):this.source,c?this.process(c):this)},process:function(b){var c=this;return b=a.grep(b,function(a){return c.matcher(a)}),b=this.sorter(b),b.length?this.render(b.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){for(var b,c=[],d=[],e=[];b=a.shift();)b.toLowerCase().indexOf(this.query.toLowerCase())?~b.indexOf(this.query)?d.push(b):e.push(b):c.push(b);return c.concat(d,e)},highlighter:function(a){var b=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return b?a.replace(new RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"}):a},render:function(b){var c=this;return b=a(b).map(function(b,d){return b=a(c.options.item).attr("data-value",d),b.find("a").html(c.highlighter(d)),b[0]}),this.$menu.html(b),this},next:function(b){var c=this.$menu.find(".active").removeClass("active"),d=c.next();d.length||(d=a(this.$menu.find("li")[0])),d.addClass("active")},prev:function(a){var b=this.$menu.find(".active").removeClass("active"),c=b.prev();c.length||(c=this.$menu.find("li").last()),c.addClass("active")},listen:function(){this.$element.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this)).on("mouseleave","li",a.proxy(this.mouseleave,this))},destroy:function(){this.$element.off().removeData("typeahead"),this.$menu.off()},eventSupported:function(a){var b=a in this.$element;return b||(this.$element.setAttribute(a,"return;"),b="function"==typeof this.$element[a]),b},move:function(a){if(this.shown&&(!a.shiftKey||40!==a.keyCode)){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}},keydown:function(b){this.suppressKeyPressRepeat=~a.inArray(b.keyCode,[40,38,9,13,27,57]),this.move(b)},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}13===a.keyCode&&"undefined"==typeof this.$menu.find(".active").attr("data-value")?this.$element.submit():(a.stopPropagation(),a.preventDefault())},focus:function(a){this.focused=!0},blur:function(a){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(a){a.stopPropagation(),a.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(b){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),a(b.currentTarget).addClass("active")},mouseleave:function(a){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var c=a.fn.typeahead;a.fn.typeahead=function(c){return this.each(function(){var d=a(this),e=d.data("typeahead"),f="object"==typeof c&&c;e||d.data("typeahead",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},a.fn.typeahead.Constructor=b,a.fn.typeahead.noConflict=function(){return a.fn.typeahead=c,this},a(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(b){var c=a(this);c.data("typeahead")||c.typeahead(c.data())})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.options=a.extend({},a.fn.affix.defaults,c),this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)).on("click.affix.data-api",a.proxy(function(){setTimeout(a.proxy(this.checkPosition,this),1)},this)),this.$element=a(b),this.checkPosition()};b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b,c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.bottom,h=f.top,i="affix affix-top affix-bottom";"object"!=typeof f&&(g=h=f),"function"==typeof h&&(h=f.top()),"function"==typeof g&&(g=f.bottom()),b=!(null!=this.unpin&&d+this.unpin<=e.top)&&(null!=g&&e.top+this.$element.height()>=c-g?"bottom":null!=h&&d<=h&&"top"),this.affixed!==b&&(this.affixed=b,this.unpin="bottom"==b?e.top-d:null,this.$element.removeClass(i).addClass("affix"+(b?"-"+b:"")))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("affix"),f="object"==typeof c&&c;e||d.data("affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.defaults={offset:0},a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(window.jQuery)}(this),d()}),System.registerDynamic("vendor/filesaver.js",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){var b=a.saveAs,b=b||navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(a){"use strict";var b=a.document,c=function(){return a.URL||a.webkitURL||a},d=a.URL||a.webkitURL||a,e=b.createElementNS("http://www.w3.org/1999/xhtml","a"),f=!a.externalHost&&"download"in e,g=function(c){var d=b.createEvent("MouseEvents");d.initMouseEvent("click",!0,!1,a,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(d)},h=a.webkitRequestFileSystem,i=a.requestFileSystem||h||a.mozRequestFileSystem,j=function(b){(a.setImmediate||a.setTimeout)(function(){throw b},0)},k="application/octet-stream",l=0,m=[],n=function(){for(var a=m.length;a--;){var b=m[a];"string"==typeof b?d.revokeObjectURL(b):b.remove()}m.length=0},o=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(f){j(f)}}},p=function(b,d){var j,n,p,q=this,r=b.type,s=!1,t=function(){var a=c().createObjectURL(b);return m.push(a),a},u=function(){o(q,"writestart progress write writeend".split(" "))},v=function(){!s&&j||(j=t(b)),n?n.location.href=j:window.open(j,"_blank"),q.readyState=q.DONE,u()},w=function(a){return function(){if(q.readyState!==q.DONE)return a.apply(this,arguments)}},x={create:!0,exclusive:!1};return q.readyState=q.INIT,d||(d="download"),f?(j=t(b),e.href=j,e.download=d,g(e),q.readyState=q.DONE,void u()):(a.chrome&&r&&r!==k&&(p=b.slice||b.webkitSlice,b=p.call(b,0,b.size,k),s=!0),h&&"download"!==d&&(d+=".download"),(r===k||h)&&(n=a),i?(l+=b.size,void i(a.TEMPORARY,l,w(function(a){a.root.getDirectory("saved",x,w(function(a){var c=function(){a.getFile(d,x,w(function(a){a.createWriter(w(function(c){c.onwriteend=function(b){n.location.href=a.toURL(),m.push(a),q.readyState=q.DONE,o(q,"writeend",b)},c.onerror=function(){var a=c.error;a.code!==a.ABORT_ERR&&v()},"writestart progress write abort".split(" ").forEach(function(a){c["on"+a]=q["on"+a]}),c.write(b),q.abort=function(){c.abort(),q.readyState=q.DONE},q.readyState=q.WRITING}),v)}),v)};a.getFile(d,{create:!1},w(function(a){a.remove(),c()}),w(function(a){a.code===a.NOT_FOUND_ERR?c():v()}))}),v)}),v)):void v())},q=p.prototype,r=function(a,b){return new p(a,b)};return q.abort=function(){var a=this;a.readyState=a.DONE,o(a,"abort")},q.readyState=q.INIT=0,q.WRITING=1,q.DONE=2,q.error=q.onwritestart=q.onprogress=q.onwrite=q.onabort=q.onerror=q.onwriteend=null,a.addEventListener("unload",n,!1),r}(self);a.saveAs=b}(this),d()}),System.registerDynamic("angular-strap",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){angular.module("$strap.config",[]).value("$strapConfig",{}),angular.module("$strap.filters",["$strap.config"]),angular.module("$strap.directives",["$strap.config"]),angular.module("$strap",["$strap.filters","$strap.directives","$strap.config"]),angular.module("$strap.directives").factory("$modal",["$rootScope","$compile","$http","$timeout","$q","$templateCache","$strapConfig",function(a,b,c,d,e,f,g){var h=function(h){function i(h){var i=angular.extend({show:!0},g.modal,h),j=i.scope?i.scope:a.$new(),k=i.template;return e.when(i.templateHtml||f.get(k)||c.get(k,{cache:!0}).then(function(a){return a.data})).then(function(a){var c=j.$id;k&&(c+=k.replace(".html","").replace(/[\/|\.|:]/g,"-"));var e=$('<div class="modal hide" tabindex="-1"></div>').attr("id",c).html(a);return i.modalClass&&e.addClass(i.modalClass),$("body").append(e),d(function(){b(e)(j)}),j.$modal=function(a){e.modal(a)},angular.forEach(["show","hide"],function(a){j[a]=function(){e.modal(a)}}),j.dismiss=j.hide,angular.forEach(["show","shown","hide","hidden"],function(a){e.on(a,function(b){j.$emit("modal-"+a,b)})}),e.on("shown",function(a){$("input[autofocus], textarea[autofocus]",e).first().trigger("focus")}),e.on("hidden",function(a){i.persist||j.$destroy()}),j.$on("$destroy",function(){e.remove()}),e.modal(i),e})}return new i(h)};return h}]),angular.module("$strap.directives").directive("bsTooltip",["$parse","$compile",function(a,b){return{restrict:"A",scope:!0,link:function(b,c,d,e){var f=a(d.bsTooltip),g=(f.assign,f(b));b.$watch(d.bsTooltip,function(a,b){a!==b&&(g=a)}),c.on("show",function(a){$(".tooltip.in").each(function(){var a=$(this),b=a.data("tooltip");b&&!b.$element.is(c)&&a.tooltip("hide")})}),c.tooltip({title:function(){return angular.isFunction(g)?g.apply(null,arguments):g},html:!0,container:"body"});var h=c.data("tooltip");h.show=function(){var a=$.fn.tooltip.Constructor.prototype.show.apply(this,arguments);return this.tip().data("tooltip",this),a},b._tooltip=function(a){c.tooltip(a)},b.hide=function(){c.tooltip("hide")},b.show=function(){c.tooltip("show")},b.dismiss=b.hide}}}]),angular.module("$strap.directives").directive("bsTypeahead",["$parse",function(a){return{restrict:"A",require:"?ngModel",link:function(b,c,d,e){var f=a(d.bsTypeahead),g=(f.assign,f(b));b.$watch(d.bsTypeahead,function(a,b){a!==b&&(g=a)}),c.attr("data-provide","typeahead"),c.typeahead({source:function(a){return angular.isFunction(g)?g.apply(null,arguments):g},minLength:d.minLength||1,items:d.items,updater:function(a){return e&&b.$apply(function(){e.$setViewValue(a)}),b.$emit("typeahead-updated",a),a}});var h=c.data("typeahead");h.lookup=function(a){var b;return this.query=this.$element.val()||"",this.query.length<this.options.minLength?this.shown?this.hide():this:(b=$.isFunction(this.source)?this.source(this.query,$.proxy(this.process,this)):this.source,b?this.process(b):this)},d.matchAll&&(h.matcher=function(a){return!0}),"0"===d.minLength&&setTimeout(function(){c.on("focus",function(){0===c.val().length&&setTimeout(c.typeahead.bind(c,"lookup"),200)})})}}}])}(this),d()}),System.registerDynamic("angular-route",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a,b,c){"use strict";function d(){function a(a,c){return b.extend(Object.create(a),c)}function c(a,b){var c=b.caseInsensitiveMatch,d={originalPath:a,regexp:a},e=d.keys=[];return a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[\?\*])?/g,function(a,b,c,d){var f="?"===d||"*?"===d?"?":null,g="*"===d||"*?"===d?"*":null;return e.push({name:c,optional:!!f}),b=b||"",""+(f?"":b)+"(?:"+(f?b:"")+(g&&"(.+?)"||"([^/]+)")+(f||"")+")"+(f||"")}).replace(/([\/$\*])/g,"\\$1"),d.regexp=new RegExp("^"+a+"$",c?"i":""),d}var d={};this.when=function(a,e){var f=b.copy(e);if(b.isUndefined(f.reloadOnSearch)&&(f.reloadOnSearch=!0),b.isUndefined(f.caseInsensitiveMatch)&&(f.caseInsensitiveMatch=this.caseInsensitiveMatch),d[a]=b.extend(f,a&&c(a,f)),a){var g="/"==a[a.length-1]?a.substr(0,a.length-1):a+"/";d[g]=b.extend({redirectTo:a},c(g,f))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(a){return"string"==typeof a&&(a={redirectTo:a}),this.when(null,a),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(c,e,f,g,h,j,k){function l(a,b){var c=b.keys,d={};if(!b.regexp)return null;var e=b.regexp.exec(a);if(!e)return null;for(var f=1,g=e.length;f<g;++f){var h=c[f-1],i=e[f];h&&i&&(d[h.name]=i)}return d}function m(a){var d=t.current;q=o(),r=q&&d&&q.$$route===d.$$route&&b.equals(q.pathParams,d.pathParams)&&!q.reloadOnSearch&&!s,r||!d&&!q||c.$broadcast("$routeChangeStart",q,d).defaultPrevented&&a&&a.preventDefault()}function n(){var a=t.current,d=q;r?(a.params=d.params,b.copy(a.params,f),c.$broadcast("$routeUpdate",a)):(d||a)&&(s=!1,t.current=d,d&&d.redirectTo&&(b.isString(d.redirectTo)?e.path(p(d.redirectTo,d.params)).search(d.params).replace():e.url(d.redirectTo(d.pathParams,e.path(),e.search())).replace()),g.when(d).then(function(){if(d){var a,c,e=b.extend({},d.resolve);return b.forEach(e,function(a,c){e[c]=b.isString(a)?h.get(a):h.invoke(a,null,null,c)}),b.isDefined(a=d.template)?b.isFunction(a)&&(a=a(d.params)):b.isDefined(c=d.templateUrl)&&(b.isFunction(c)&&(c=c(d.params)),b.isDefined(c)&&(d.loadedTemplateUrl=k.valueOf(c),a=j(c))),b.isDefined(a)&&(e.$template=a),g.all(e)}}).then(function(e){d==t.current&&(d&&(d.locals=e,b.copy(d.params,f)),c.$broadcast("$routeChangeSuccess",d,a))},function(b){d==t.current&&c.$broadcast("$routeChangeError",d,a,b)}))}function o(){var c,f;return b.forEach(d,function(d,g){!f&&(c=l(e.path(),d))&&(f=a(d,{params:b.extend({},e.search(),c),pathParams:c}),f.$$route=d)}),f||d[null]&&a(d[null],{params:{},pathParams:{}})}function p(a,c){var d=[];return b.forEach((a||"").split(":"),function(a,b){if(0===b)d.push(a);else{var e=a.match(/(\w+)(?:[?*])?(.*)/),f=e[1];d.push(c[f]),d.push(e[2]||""),delete c[f]}}),d.join("")}var q,r,s=!1,t={routes:d,reload:function(){s=!0;var a={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,s=!1}};c.$evalAsync(function(){m(a),a.defaultPrevented||n()})},updateParams:function(a){if(!this.current||!this.current.$$route)throw i("norout","Tried updating route when with no current route");a=b.extend({},this.current.params,a),e.path(p(this.current.$$route.originalPath,a)),e.search(a)}};return c.$on("$locationChangeStart",m),c.$on("$locationChangeSuccess",n),t}]}function e(){this.$get=function(){return{}}}function f(a,c,d){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(e,f,g,h,i){function j(){n&&(d.cancel(n),n=null),l&&(l.$destroy(),l=null),m&&(n=d.leave(m),n.then(function(){n=null}),m=null)}function k(){var g=a.current&&a.current.locals,h=g&&g.$template;if(b.isDefined(h)){var k=e.$new(),n=a.current,q=i(k,function(a){d.enter(a,null,m||f).then(function(){!b.isDefined(o)||o&&!e.$eval(o)||c()}),j()});m=q,l=n.scope=k,l.$emit("$viewContentLoaded"),l.$eval(p)}else j()}var l,m,n,o=g.autoscroll,p=g.onload||"";e.$on("$routeChangeSuccess",k),k()}}}function g(a,b,c){return{restrict:"ECA",priority:-400,link:function(d,e){var f=c.current,g=f.locals;e.html(g.$template);var h=a(e.contents());if(f.controller){g.$scope=d;var i=b(f.controller,g);f.controllerAs&&(d[f.controllerAs]=i),e.data("$ngControllerController",i),e.children().data("$ngControllerController",i)}d[f.resolveAs||"$resolve"]=g,h(d)}}}var h=b.module("ngRoute",["ng"]).provider("$route",d).run(["$route",b.noop]),i=b.$$minErr("ngRoute");h.provider("$routeParams",e),h.directive("ngView",f),h.directive("ngView",g),f.$inject=["$route","$anchorScroll","$animate"],g.$inject=["$compile","$controller","$route"]}(window,window.angular)}(this),d()}),System.registerDynamic("angular-sanitize",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a,b,c){"use strict";function d(){var a=!1;this.$get=["$$sanitizeUri",function(c){return a&&b.extend(x,v),function(a){var b=[];return g(a,j(b,function(a,b){return!/^unsafe:/.test(c(a,b))})),b.join("")}}],this.enableSvg=function(c){return b.isDefined(c)?(a=c,this):a}}function e(a){var c=[],d=j(c,b.noop);return d.chars(a),c.join("")}function f(a,c){var d,e={},f=a.split(",");for(d=0;d<f.length;d++)e[c?b.lowercase(f[d]):f[d]]=!0;return e}function g(a,b){null===a||a===c?a="":"string"!=typeof a&&(a=""+a),l.innerHTML=a;var d=5;do{if(0===d)throw m("uinput","Failed to sanitize html because the input is unstable");d--,document.documentMode<=11&&k(l),a=l.innerHTML,l.innerHTML=a}while(a!==l.innerHTML);for(var e=l.firstChild;e;){switch(e.nodeType){case 1:b.start(e.nodeName.toLowerCase(),h(e.attributes));break;case 3:b.chars(e.textContent)}var f;if(!(f=e.firstChild)&&(1==e.nodeType&&b.end(e.nodeName.toLowerCase()),f=e.nextSibling,!f))for(;null==f&&(e=e.parentNode,e!==l);)f=e.nextSibling,1==e.nodeType&&b.end(e.nodeName.toLowerCase());e=f}for(;e=l.firstChild;)l.removeChild(e)}function h(a){for(var b={},c=0,d=a.length;c<d;c++){var e=a[c];b[e.name]=e.value}return b}function i(a){return a.replace(/&/g,"&amp;").replace(n,function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1);return"&#"+(1024*(b-55296)+(c-56320)+65536)+";"}).replace(o,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function j(a,c){var d=!1,e=b.bind(a,a.push);return{start:function(a,f){a=b.lowercase(a),!d&&w[a]&&(d=a),d||x[a]!==!0||(e("<"),e(a),b.forEach(f,function(d,f){var g=b.lowercase(f),h="img"===a&&"src"===g||"background"===g;B[g]!==!0||y[g]===!0&&!c(d,h)||(e(" "),e(f),e('="'),e(i(d)),e('"'))}),e(">"))},end:function(a){a=b.lowercase(a),d||x[a]!==!0||p[a]===!0||(e("</"),e(a),e(">")),a==d&&(d=!1)},chars:function(a){d||e(i(a))}}}function k(a){if(a.nodeType===Node.ELEMENT_NODE)for(var b=a.attributes,c=0,d=b.length;c<d;c++){var e=b[c],f=e.name.toLowerCase();"xmlns:ns1"!==f&&0!==f.indexOf("ns1:")||(a.removeAttributeNode(e),c--,d--)}var g=a.firstChild;g&&k(g),g=a.nextSibling,g&&k(g)}var l,m=b.$$minErr("$sanitize"),n=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,o=/([^\#-~ |!])/g,p=f("area,br,col,hr,img,wbr"),q=f("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),r=f("rp,rt"),s=b.extend({},r,q),t=b.extend({},q,f("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),u=b.extend({},r,f("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),v=f("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),w=f("script,style"),x=b.extend({},p,t,u,s),y=f("background,cite,href,longdesc,src,xlink:href"),z=f("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),A=f("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),B=b.extend({},y,A,z);
!function(a){var b;if(!a.document||!a.document.implementation)throw m("noinert","Can't create an inert html document");b=a.document.implementation.createHTMLDocument("inert");var c=b.documentElement||b.getDocumentElement(),d=c.getElementsByTagName("body");if(1===d.length)l=d[0];else{var e=b.createElement("html");l=b.createElement("body"),e.appendChild(l),b.appendChild(e)}}(a),b.module("ngSanitize",[]).provider("$sanitize",d),b.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,d=/^mailto:/i,f=b.$$minErr("linky"),g=b.isString;return function(h,i,j){function k(a){a&&q.push(e(a))}function l(a,c){var d;if(q.push("<a "),b.isFunction(j)&&(j=j(a)),b.isObject(j))for(d in j)q.push(d+'="'+j[d]+'" ');else j={};!b.isDefined(i)||"target"in j||q.push('target="',i,'" '),q.push('href="',a.replace(/"/g,"&quot;"),'">'),k(c),q.push("</a>")}if(null==h||""===h)return h;if(!g(h))throw f("notstring","Expected string but received: {0}",h);for(var m,n,o,p=h,q=[];m=p.match(c);)n=m[0],m[2]||m[4]||(n=(m[3]?"http://":"mailto:")+n),o=m.index,k(p.substr(0,o)),l(n,m[0].replace(d,"")),p=p.substring(o+m[0].length);return k(p),a(q.join(""))}}])}(window,window.angular)}(this),d()}),System.registerDynamic("angular-dragdrop",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a){"use strict";function b(){return"ondrag"in document.createElement("a")}function c(a){a.dataTransfer&&"none"===a.dataTransfer.dropEffect&&("copy"===a.dataTransfer.effectAllowed||"move"===a.dataTransfer.effectAllowed?a.dataTransfer.dropEffect=a.dataTransfer.effectAllowed:"copyMove"!==a.dataTransfer.effectAllowed&&"copymove"!==a.dataTransfer.effectAllowed||(a.dataTransfer.dropEffect=a.ctrlKey?"copy":"move"))}if(!b())return void a.module("ang-drag-drop",[]);window.jQuery&&-1===window.jQuery.event.props.indexOf("dataTransfer")&&window.jQuery.event.props.push("dataTransfer");var d=a.module("ang-drag-drop",[]);d.directive("uiDraggable",["$parse","$rootScope","$dragImage",function(b,d,e){return function(f,g,h){function i(a){setTimeout(function(){g.unbind("$destroy",i)},0);var e=h.dragChannel||"defaultchannel";if(d.$broadcast("ANGULAR_DRAG_END",a,e),c(a),a.dataTransfer&&"none"!==a.dataTransfer.dropEffect)if(h.onDropSuccess){var j=b(h.onDropSuccess);f.$evalAsync(function(){j(f,{$event:a})})}else if(h.onDropFailure){var k=b(h.onDropFailure);f.$evalAsync(function(){k(f,{$event:a})})}g.removeClass(n)}function j(c){var j=!m||l.classList.contains(k);if(!l.classList.contains("resize-panel-handle"))if(j){var o=h.dragChannel||"defaultchannel",p="";h.drag&&(p=f.$eval(h.drag));var q=h.dragImage||null;g.addClass(n),g.bind("$destroy",i);var r=!(document.uniqueID||window.opera);if(q&&r){var s=b(h.dragImage);f.$apply(function(){var b=s(f,{$event:c});if(b&&(a.isString(b)&&(b=e.generate(b)),b.image)){var d=b.xOffset||0,g=b.yOffset||0;c.dataTransfer.setDragImage(b.image,d,g)}})}var t={data:p,channel:o},u=a.toJson(t);c.dataTransfer.setData("text",u),c.dataTransfer.effectAllowed="copyMove",d.$broadcast("ANGULAR_DRAG_START",c,o,t)}else c.preventDefault()}var k,l,m=!1,n=h.draggingClass||"on-dragging";g.attr("draggable",!1),f.$watch(h.uiDraggable,function(a){a?(g.attr("draggable",a),g.bind("dragend",i),g.bind("dragstart",j)):(g.removeAttr("draggable"),g.unbind("dragend",i),g.unbind("dragstart",j))}),a.isString(h.dragHandleClass)&&(m=!0,k=h.dragHandleClass.trim()||"drag-handle",g.bind("mousedown",function(a){l=a.target}))}}]),d.directive("uiOnDrop",["$parse","$rootScope",function(b,d){return function(e,f,g){function h(a){a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation();var c=b(g.uiOnDragOver);return e.$evalAsync(function(){c(e,{$event:a,$channel:o})}),!1}function i(a){a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),n--,0===n&&(e.$evalAsync(function(){t(e,{$event:a,$channel:o})}),f.addClass(q),f.removeClass(r));var c=b(g.uiOnDragLeave);e.$evalAsync(function(){c(e,{$event:a,$channel:o})})}function j(a){a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),0===n&&(e.$evalAsync(function(){s(e,{$event:a,$channel:o})}),f.removeClass(q),f.addClass(r)),n++;var c=b(g.uiOnDragEnter);e.$evalAsync(function(){c(e,{$event:a,$channel:o})}),d.$broadcast("ANGULAR_HOVER",p)}function k(d){d.preventDefault&&d.preventDefault(),d.stopPropagation&&d.stopPropagation();var h=d.dataTransfer.getData("text");h=a.fromJson(h),c(d);var i=b(g.uiOnDrop);e.$evalAsync(function(){i(e,{$data:h.data,$event:d,$channel:h.channel})}),f.removeClass(q),n=0}function l(a,b){if("*"===b)return!0;var c=new RegExp("(\\s|[,])+("+a+")(\\s|[,])+","i");return c.test(","+b+",")}function m(a){return a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.dataTransfer.dropEffect="none",!1}var n=0,o=g.dropChannel||"defaultchannel",p="",q=g.dragEnterClass||"on-drag-enter",r=g.dragHoverClass||"on-drag-hover",s=b(g.onDragEnter),t=b(g.onDragLeave),u=d.$on("ANGULAR_DRAG_START",function(a,c,d,n){p=d;var r=!0;if(l(d,o)||(r=!1),r&&g.dropValidate){var s=b(g.dropValidate);r=s(e,{$drop:{scope:e,element:f},$event:c,$data:n.data,$channel:n.channel})}r?(f.bind("dragover",h),f.bind("dragenter",j),f.bind("dragleave",i),f.bind("drop",k),f.addClass(q)):(f.bind("dragover",m),f.bind("dragenter",m),f.bind("dragleave",m),f.bind("drop",m),f.removeClass(q))}),v=d.$on("ANGULAR_DRAG_END",function(a,b,c){f.unbind("dragover",h),f.unbind("dragenter",j),f.unbind("dragleave",i),f.unbind("drop",k),f.removeClass(r),f.removeClass(q),f.unbind("dragover",m),f.unbind("dragenter",m),f.unbind("dragleave",m),f.unbind("drop",m)});e.$on("$destroy",function(){u(),v()}),g.$observe("dropChannel",function(a){a&&(o=a)})}}]),d.constant("$dragImageConfig",{height:20,width:200,padding:10,font:"bold 11px Arial",fontColor:"#eee8d5",backgroundColor:"#93a1a1",xOffset:0,yOffset:0}),d.service("$dragImage",["$dragImageConfig",function(b){function c(a,b,c){var e=a.measureText(b).width;if(e<c.width)return b;for(;e+c.padding>c.width;)b=b.substring(0,b.length-1),e=a.measureText(b+d).width;return b+d}var d="…";this.generate=function(d,e){var f=a.extend({},b,e||{}),g=document.createElement("canvas");g.height=f.height,g.width=f.width;var h=g.getContext("2d");h.fillStyle=f.backgroundColor,h.fillRect(0,0,f.width,f.height),h.font=f.font,h.fillStyle=f.fontColor;var i=c(h,d,f);h.fillText(i,4,f.padding+4);var j=new Image;return j.src=g.toDataURL(),{image:j,xOffset:f.xOffset,yOffset:f.yOffset}}}])}(angular)}(this),d()}),System.registerDynamic("angular-bindonce",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(){"use strict";var a=angular.module("pasvaz.bindonce",[]);a.directive("bindonce",function(){var a=function(a){if(a&&0!==a.length){var b=angular.lowercase(""+a);a=!("f"===b||"0"===b||"false"===b||"no"===b||"n"===b||"[]"===b)}else a=!1;return a},b=parseInt((/msie (\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10);isNaN(b)&&(b=parseInt((/trident\/.*; rv:(\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10));var c={restrict:"AM",controller:["$scope","$element","$attrs","$interpolate",function(c,d,e,f){var g=function(b,c,d){var e="show"===c?"":"none",f="hide"===c?"":"none";b.css("display",a(d)?e:f)},h=function(a,b){if(angular.isObject(b)&&!angular.isArray(b)){var c=[];angular.forEach(b,function(a,b){a&&c.push(b)}),b=c}b&&a.addClass(angular.isArray(b)?b.join(" "):b)},i=function(a,b){a.transclude(b,function(b){var c=a.element.parent(),d=a.element&&a.element[a.element.length-1],e=c&&c[0]||d&&d.parentNode,f=d&&d.nextSibling||null;angular.forEach(b,function(a){e.insertBefore(a,f)})})},j={watcherRemover:void 0,binders:[],group:e.boName,element:d,ran:!1,addBinder:function(a){this.binders.push(a),this.ran&&this.runBinders()},setupWatcher:function(a){var b=this;this.watcherRemover=c.$watch(a,function(a){void 0!==a&&(b.removeWatcher(),b.checkBindonce(a))},!0)},checkBindonce:function(a){var b=this,c=a.$promise?a.$promise.then:a.then;"function"==typeof c?c(function(){b.runBinders()}):b.runBinders()},removeWatcher:function(){void 0!==this.watcherRemover&&(this.watcherRemover(),this.watcherRemover=void 0)},runBinders:function(){for(;this.binders.length>0;){var c=this.binders.shift();if(!this.group||this.group==c.group){var d=c.scope.$eval(c.interpolate?f(c.value):c.value);switch(c.attr){case"boIf":a(d)&&i(c,c.scope.$new());break;case"boSwitch":var e,j=c.controller[0];(e=j.cases["!"+d]||j.cases["?"])&&(c.scope.$eval(c.attrs.change),angular.forEach(e,function(a){i(a,c.scope.$new())}));break;case"boSwitchWhen":var k=c.controller[0];k.cases["!"+c.attrs.boSwitchWhen]=k.cases["!"+c.attrs.boSwitchWhen]||[],k.cases["!"+c.attrs.boSwitchWhen].push({transclude:c.transclude,element:c.element});break;case"boSwitchDefault":var k=c.controller[0];k.cases["?"]=k.cases["?"]||[],k.cases["?"].push({transclude:c.transclude,element:c.element});break;case"hide":case"show":g(c.element,c.attr,d);break;case"class":h(c.element,d);break;case"text":c.element.text(d);break;case"html":c.element.html(d);break;case"style":c.element.css(d);break;case"disabled":c.element.prop("disabled",d);break;case"src":c.element.attr(c.attr,d),b&&c.element.prop("src",d);break;case"attr":angular.forEach(c.attrs,function(a,b){var d,e;b.match(/^boAttr./)&&c.attrs[b]&&(d=b.replace(/^boAttr/,"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e=c.scope.$eval(c.attrs[b]),c.element.attr(d,e))});break;case"href":case"alt":case"title":case"id":case"value":c.element.attr(c.attr,d)}}}this.ran=!0}};angular.extend(this,j)}],link:function(a,b,c,d){var e=c.bindonce&&a.$eval(c.bindonce);void 0!==e?d.checkBindonce(e):(d.setupWatcher(c.bindonce),b.bind("$destroy",d.removeWatcher))}};return c}),angular.forEach([{directiveName:"boShow",attribute:"show"},{directiveName:"boHide",attribute:"hide"},{directiveName:"boClass",attribute:"class"},{directiveName:"boText",attribute:"text"},{directiveName:"boBind",attribute:"text"},{directiveName:"boHtml",attribute:"html"},{directiveName:"boSrcI",attribute:"src",interpolate:!0},{directiveName:"boSrc",attribute:"src"},{directiveName:"boHrefI",attribute:"href",interpolate:!0},{directiveName:"boHref",attribute:"href"},{directiveName:"boAlt",attribute:"alt"},{directiveName:"boTitle",attribute:"title"},{directiveName:"boId",attribute:"id"},{directiveName:"boStyle",attribute:"style"},{directiveName:"boDisabled",attribute:"disabled"},{directiveName:"boValue",attribute:"value"},{directiveName:"boAttr",attribute:"attr"},{directiveName:"boIf",transclude:"element",terminal:!0,priority:1e3},{directiveName:"boSwitch",require:"boSwitch",controller:function(){this.cases={}}},{directiveName:"boSwitchWhen",transclude:"element",priority:800,require:"^boSwitch"},{directiveName:"boSwitchDefault",transclude:"element",priority:800,require:"^boSwitch"}],function(b){var c=200;return a.directive(b.directiveName,function(){var a={priority:b.priority||c,transclude:b.transclude||!1,terminal:b.terminal||!1,require:["^bindonce"].concat(b.require||[]),controller:b.controller,compile:function(a,c,d){return function(a,c,e,f){var g=f[0],h=e.boParent;if(h&&g.group!==h){var i=g.element.parent();g=void 0;for(var j;9!==i[0].nodeType&&i.length;){if((j=i.data("$bindonceController"))&&j.group===h){g=j;break}i=i.parent()}if(!g)throw new Error("No bindonce controller: "+h)}g.addBinder({element:c,attr:b.attribute||b.directiveName,attrs:e,value:e[b.directiveName],interpolate:b.interpolate,group:h,transclude:d,controller:f.slice(1),scope:a})}}};return a})})}()}(this),d()}),System.registerDynamic("angular-ui",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.position","ui.bootstrap.dateparser","ui.bootstrap.datepicker","ui.bootstrap.tabs"]),angular.module("ui.bootstrap.tpls",["template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/tabs/tab.html","template/tabs/tabset.html"]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$log","$locale","orderByFilter",function(a,b,c){function d(a){var b=[],d=a.split("");return angular.forEach(g,function(c,e){var f=a.indexOf(e);if(f>-1){a=a.split(""),d[f]="("+c.regex+")",a[f]="$";for(var g=f+1,h=f+e.length;g<h;g++)d[g]="",a[g]="$";a=a.join(""),b.push({index:f,apply:c.apply})}}),{regex:new RegExp("^"+d.join("")+"$"),map:c(b,"index")}}function e(a,b,c){return!(c<1)&&(1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3!==b&&5!==b&&8!==b&&10!==b||c<31)}var f=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var g={yyyy:{regex:"\\d{4}",apply:function(a){this.year=+a}},yy:{regex:"\\d{2}",apply:function(a){this.year=+a+2e3}},y:{regex:"\\d{1,4}",apply:function(a){this.year=+a}},MMMM:{regex:b.DATETIME_FORMATS.MONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.MONTH.indexOf(a)}},MMM:{regex:b.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.SHORTMONTH.indexOf(a)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1}},M:{regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},EEEE:{regex:b.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:b.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(a){this.hours=+a}},hh:{regex:"0[0-9]|1[0-2]",apply:function(a){this.hours=+a}},H:{regex:"1?[0-9]|2[0-3]",apply:function(a){this.hours=+a}},h:{regex:"[0-9]|1[0-2]",apply:function(a){this.hours=+a}},mm:{regex:"[0-5][0-9]",apply:function(a){this.minutes=+a}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(a){this.minutes=+a}},sss:{regex:"[0-9][0-9][0-9]",apply:function(a){this.milliseconds=+a}},ss:{regex:"[0-5][0-9]",apply:function(a){this.seconds=+a}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(a){this.seconds=+a}},a:{regex:b.DATETIME_FORMATS.AMPMS.join("|"),apply:function(a){12===this.hours&&(this.hours=0),"PM"===a&&(this.hours+=12)}}};this.parse=function(c,g,h){if(!angular.isString(c)||!g)return c;g=b.DATETIME_FORMATS[g]||g,g=g.replace(f,"\\$&"),this.parsers[g]||(this.parsers[g]=d(g));var i=this.parsers[g],j=i.regex,k=i.map,l=c.match(j);if(l&&l.length){var m,n;angular.isDate(h)&&!isNaN(h.getTime())?m={year:h.getFullYear(),month:h.getMonth(),date:h.getDate(),hours:h.getHours(),minutes:h.getMinutes(),seconds:h.getSeconds(),milliseconds:h.getMilliseconds()}:(h&&a.warn("dateparser:","baseDate is not a valid date"),m={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var o=1,p=l.length;o<p;o++){var q=k[o-1];q.apply&&q.apply.call(m,l[o])}return e(m.year,m.month,m.date)&&(n=new Date(m.year,m.month,m.date,m.hours,m.minutes,m.seconds,m.milliseconds||0)),n}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig","$datepickerSuppressError",function(a,b,c,d,e,f,g,h){var i=this,j={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(c,e){i[c]=angular.isDefined(b[c])?e<6?d(b[c])(a.$parent):a.$parent.$eval(b[c]):g[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){i[d]=a?new Date(a):null,i.refreshView()}):i[d]=g[d]?new Date(g[d]):null}),angular.forEach(["minMode","maxMode"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(c){i[d]=angular.isDefined(c)?c:b[d],a[d]=i[d],("minMode"==d&&i.modes.indexOf(a.datepickerMode)<i.modes.indexOf(i[d])||"maxMode"==d&&i.modes.indexOf(a.datepickerMode)>i.modes.indexOf(i[d]))&&(a.datepickerMode=i[d])}):(i[d]=g[d]||null,a[d]=i[d])}),a.datepickerMode=a.datepickerMode||g.datepickerMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(b.initDate)?(this.activeDate=a.$parent.$eval(b.initDate)||new Date,a.$parent.$watch(b.initDate,function(a){a&&(j.$isEmpty(j.$modelValue)||j.$invalid)&&(i.activeDate=a,i.refreshView())})):this.activeDate=new Date,a.isActive=function(b){return 0===i.compare(b.date,i.activeDate)&&(a.activeDateId=b.uid,!0)},this.init=function(a){j=a,j.$render=function(){i.render()}},this.render=function(){if(j.$viewValue){var a=new Date(j.$viewValue),b=!isNaN(a);b?this.activeDate=a:h||e.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=j.$viewValue?new Date(j.$viewValue):null;j.$setValidity("dateDisabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=j.$viewValue?new Date(j.$viewValue):null;return{date:a,label:f(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date),customClass:this.customClass(a)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},this.fixTimeZone=function(a){var b=a.getHours();a.setHours(23===b?b+2:0)},a.select=function(b){if(a.datepickerMode===i.minMode){var c=j.$viewValue?new Date(j.$viewValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),j.$setViewValue(c),j.$render()}else i.activeDate=b,a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=i.activeDate.getFullYear()+a*(i.step.years||0),c=i.activeDate.getMonth()+a*(i.step.months||0);i.activeDate.setFullYear(b,c,1),i.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===i.maxMode&&1===b||a.datepickerMode===i.minMode&&b===-1||(a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var k=function(){i.element[0].focus()};a.$on("datepicker.focus",k),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),i.shortcutPropagation||b.stopPropagation(),"enter"===c||"space"===c){if(i.isDisabled(i.activeDate))return;a.select(i.activeDate),k()}else!b.ctrlKey||"up"!==c&&"down"!==c?(i.handleKeyDown(c,b),i.refreshView()):(a.toggleMode("up"===c?1:-1),k())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}).directive("daypicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(b,c,d,e){function f(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?i[b]:29}function g(a,b){for(var c,d=new Array(b),f=new Date(a),g=0;g<b;)c=new Date(f),e.fixTimeZone(c),d[g++]=c,f.setDate(f.getDate()+1);return d}function h(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}b.showWeeks=e.showWeeks,e.step={months:1},e.element=c;var i=[31,28,31,30,31,30,31,31,30,31,30,31];e._refreshView=function(){var c=e.activeDate.getFullYear(),d=e.activeDate.getMonth(),f=new Date(c,d,1),i=e.startingDay-f.getDay(),j=i>0?7-i:-i,k=new Date(f);j>0&&k.setDate(-j+1);for(var l=g(k,42),m=0;m<42;m++)l[m]=angular.extend(e.createDateObject(l[m],e.formatDay),{secondary:l[m].getMonth()!==d,uid:b.uniqueId+"-"+m});b.labels=new Array(7);for(var n=0;n<7;n++)b.labels[n]={abbr:a(l[n].date,e.formatDayHeader),full:a(l[n].date,"EEEE")};if(b.title=a(e.activeDate,e.formatDayTitle),b.rows=e.split(l,7),b.showWeeks){b.weekNumbers=[];for(var o=(11-e.startingDay)%7,p=b.rows.length,q=0;q<p;q++)b.weekNumbers.push(h(b.rows[q][o].date))}},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},e.handleKeyDown=function(a,b){var c=e.activeDate.getDate();if("left"===a)c-=1;else if("up"===a)c-=7;else if("right"===a)c+=1;else if("down"===a)c+=7;else if("pageup"===a||"pagedown"===a){var d=e.activeDate.getMonth()+("pageup"===a?-1:1);e.activeDate.setMonth(d,1),c=Math.min(f(e.activeDate.getFullYear(),e.activeDate.getMonth()),c)}else"home"===a?c=1:"end"===a&&(c=f(e.activeDate.getFullYear(),e.activeDate.getMonth()));e.activeDate.setDate(c)},e.refreshView()}}}]).directive("monthpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(b,c,d,e){e.step={years:1},e.element=c,e._refreshView=function(){for(var c,d=new Array(12),f=e.activeDate.getFullYear(),g=0;g<12;g++)c=new Date(f,g,1),e.fixTimeZone(c),d[g]=angular.extend(e.createDateObject(c,e.formatMonth),{uid:b.uniqueId+"-"+g});b.title=a(e.activeDate,e.formatMonthTitle),b.rows=e.split(d,3)},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},e.handleKeyDown=function(a,b){var c=e.activeDate.getMonth();if("left"===a)c-=1;else if("up"===a)c-=3;else if("right"===a)c+=1;else if("down"===a)c+=3;else if("pageup"===a||"pagedown"===a){var d=e.activeDate.getFullYear()+("pageup"===a?-1:1);e.activeDate.setFullYear(d)}else"home"===a?c=0:"end"===a&&(c=11);e.activeDate.setMonth(c)},e.refreshView()}}}]).directive("yearpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(a,b,c,d){function e(a){return parseInt((a-1)/f,10)*f+1}var f=d.yearRange;d.step={years:f},d.element=b,d._refreshView=function(){for(var b,c=new Array(f),g=0,h=e(d.activeDate.getFullYear());g<f;g++)b=new Date(h+g,0,1),d.fixTimeZone(b),c[g]=angular.extend(d.createDateObject(b,d.formatYear),{uid:a.uniqueId+"-"+g});a.title=[c[0].label,c[f-1].label].join(" - "),a.rows=d.split(c,5)},d.compare=function(a,b){return a.getFullYear()-b.getFullYear()},d.handleKeyDown=function(a,b){var c=d.activeDate.getFullYear();"left"===a?c-=1:"up"===a?c-=5:"right"===a?c+=1:"down"===a?c+=5:"pageup"===a||"pagedown"===a?c+=("pageup"===a?-1:1)*d.step.years:"home"===a?c=e(d.activeDate.getFullYear()):"end"===a&&(c=e(d.activeDate.getFullYear())+f-1),d.activeDate.setFullYear(c)},d.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).directive("datepickerPopup",["$compile","$parse","$document","$rootScope","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(a,b,c,d,e,f,g,h,i){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(j,k,l,m){function n(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function o(a){angular.isNumber(a)&&(a=new Date(a));{if(!a)return null;if(angular.isDate(a)&&!isNaN(a))return a;if(angular.isString(a)){var b=g.parse(a,q,j.date);return isNaN(b)?void 0:b}}}function p(a,b){var c=a||b;if(!l.ngRequired&&!c)return!0;if(angular.isNumber(c)&&(c=new Date(c)),c){if(angular.isDate(c)&&!isNaN(c))return!0;if(angular.isString(c)){var d=g.parse(c,q);return!isNaN(d)}return!1}return!0}var q,r=angular.isDefined(l.closeOnDateSelection)?j.$parent.$eval(l.closeOnDateSelection):h.closeOnDateSelection,s=angular.isDefined(l.datepickerAppendToBody)?j.$parent.$eval(l.datepickerAppendToBody):h.appendToBody,t=angular.isDefined(l.onOpenFocus)?j.$parent.$eval(l.onOpenFocus):h.onOpenFocus,u=angular.isDefined(l.datepickerPopupTemplateUrl)?l.datepickerPopupTemplateUrl:h.datepickerPopupTemplateUrl,v=angular.isDefined(l.datepickerTemplateUrl)?l.datepickerTemplateUrl:h.datepickerTemplateUrl,w={};j.showButtonBar=angular.isDefined(l.showButtonBar)?j.$parent.$eval(l.showButtonBar):h.showButtonBar,j.getText=function(a){return j[a+"Text"]||h[a+"Text"]},j.isDisabled=function(a){return"today"===a&&(a=new Date),j.watchData.minDate&&j.compare(a,w.minDate)<0||j.watchData.maxDate&&j.compare(a,w.maxDate)>0},j.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())};var x=!1;if(h.html5Types[l.type]?(q=h.html5Types[l.type],x=!0):(q=l.datepickerPopup||h.datepickerPopup,l.$observe("datepickerPopup",function(a,b){var c=a||h.datepickerPopup;if(c!==q&&(q=c,m.$modelValue=null,!q))throw new Error("datepickerPopup must have a date format specified.")})),!q)throw new Error("datepickerPopup must have a date format specified.");if(x&&l.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var y=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");y.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":u});var z=angular.element(y.children()[0]);if(z.attr("template-url",v),x&&"month"===l.type&&(z.attr("datepicker-mode",'"month"'),z.attr("min-mode","month")),l.datepickerOptions){var A=j.$parent.$eval(l.datepickerOptions);A&&A.initDate&&(j.initDate=A.initDate,z.attr("init-date","initDate"),delete A.initDate),angular.forEach(A,function(a,b){z.attr(n(b),a)})}j.watchData={},angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(a){if(l[a]){var c=b(l[a]);if(j.$parent.$watch(c,function(b){j.watchData[a]=b,"minDate"!==a&&"maxDate"!==a||(w[a]=new Date(b))}),z.attr(n(a),"watchData."+a),"datepickerMode"===a){var d=c.assign;j.$watch("watchData."+a,function(a,b){angular.isFunction(d)&&a!==b&&d(j.$parent,a)})}}}),l.dateDisabled&&z.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),l.showWeeks&&z.attr("show-weeks",l.showWeeks),l.customClass&&z.attr("custom-class","customClass({ date: date, mode: mode })"),x?m.$formatters.push(function(a){return j.date=a,a}):(m.$$parserName="date",m.$validators.date=p,m.$parsers.unshift(o),m.$formatters.push(function(a){return j.date=a,m.$isEmpty(a)?a:f(a,q)})),j.dateSelection=function(a){angular.isDefined(a)&&(j.date=a);var b=j.date?f(j.date,q):null;k.val(b),m.$setViewValue(b),r&&(j.isOpen=!1,k[0].focus())},m.$viewChangeListeners.push(function(){j.date=g.parse(m.$viewValue,q,j.date)});var B=function(a){!j.isOpen||k[0].contains(a.target)||y[0].contains(a.target)||j.$apply(function(){j.isOpen=!1})},C=function(a){27===a.which&&j.isOpen?(a.preventDefault(),a.stopPropagation(),j.$apply(function(){j.isOpen=!1}),k[0].focus()):40!==a.which||j.isOpen||(a.preventDefault(),a.stopPropagation(),j.$apply(function(){j.isOpen=!0}))};k.bind("keydown",C),j.keydown=function(a){27===a.which&&(j.isOpen=!1,k[0].focus())},j.$watch("isOpen",function(a){a?(j.position=s?e.offset(k):e.position(k),j.position.top=j.position.top+k.prop("offsetHeight"),i(function(){t&&j.$broadcast("datepicker.focus"),c.bind("click",B)},0,!1)):c.unbind("click",B)}),j.select=function(a){if("today"===a){var b=new Date;angular.isDate(j.date)?(a=new Date(j.date),a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate())):a=new Date(b.setHours(0,0,0,0))}j.dateSelection(a)},j.close=function(){j.isOpen=!1,k[0].focus()};var D=a(y)(j);y.remove(),s?c.find("body").append(D):k.after(D),j.$on("$destroy",function(){j.isOpen===!0&&(d.$$phase||j.$apply(function(){j.isOpen=!1})),D.remove(),k.unbind("keydown",C),c.unbind("click",B)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect(),a.selectCalled=!1)}),a.active=!0,a.selectCalled||(a.onSelect(),a.selectCalled=!0)},b.addTab=function(a){c.push(a),1===c.length&&a.active!==!1?a.active=!0:a.active?b.select(a):a.active=!1},b.removeTab=function(a){var e=c.indexOf(a);if(a.active&&c.length>1&&!d){var f=e==c.length-1?e-1:e+1;b.select(c[f])}c.splice(e,1)};var d;a.$on("$destroy",function(){d=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(a,b,c){a.vertical=!!angular.isDefined(c.vertical)&&a.$parent.$eval(c.vertical),a.justified=!!angular.isDefined(c.justified)&&a.$parent.$eval(c.justified)}}}).directive("tab",["$parse","$log",function(a,b){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(c,d,e,f,g){c.$watch("active",function(a){a&&f.select(c)}),c.disabled=!1,e.disable&&c.$parent.$watch(a(e.disable),function(a){c.disabled=!!a}),e.disabled&&(b.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),c.$parent.$watch(a(e.disabled),function(a){c.disabled=!!a})),c.select=function(){c.disabled||(c.active=!0)},f.addTab(c),c.$on("$destroy",function(){f.removeTab(c)}),c.$transcludeFn=g;
}}}]).directive("tabHeadingTransclude",function(){return{restrict:"A",require:"^tab",link:function(a,b,c,d){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}).directive("tabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||a.hasAttribute("x-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase()||"x-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}} nav-tabs-alt" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}])}(this),d()}),System.register("app/app.js",["bootstrap","vendor/filesaver","lodash-src","angular-strap","angular-route","angular-sanitize","angular-dragdrop","angular-bindonce","angular-ui","jquery","angular","app/core/config","lodash","./core/core"],function(a){var b,c,d,e,f,g;return{setters:[function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){b=a},function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){g=function(){function a(){this.preBootModules=[],this.registerFunctions={},this.ngModuleDependencies=[]}return a.prototype.useModule=function(a){return this.preBootModules?this.preBootModules.push(a):e["default"].extend(a,this.registerFunctions),this.ngModuleDependencies.push(a.name),a},a.prototype.init=function(){var a=this,g=c["default"].module("grafana",[]);g.constant("grafanaVersion","@grafanaVersion@"),g.config(["$locationProvider","$controllerProvider","$compileProvider","$filterProvider","$httpProvider","$provide",function(b,c,e,f,g,h){"development"!==d["default"].buildInfo.env&&e.debugInfoEnabled(!1),g.useApplyAsync(!0),a.registerFunctions.controller=c.register,a.registerFunctions.directive=e.directive,a.registerFunctions.factory=h.factory,a.registerFunctions.service=h.service,a.registerFunctions.filter=f.register,h.decorator("$http",["$delegate","$templateCache",function(a,b){var c=a.get;return a.get=function(a,d){return a.match(/\.html$/)&&(b.get(a)||(a+="?v="+(new Date).getTime())),c(a,d)},a}])}]),this.ngModuleDependencies=["grafana.core","ngRoute","ngSanitize","$strap.directives","ang-drag-drop","grafana","pasvaz.bindonce","ui.bootstrap","ui.bootstrap.tpls"];var h=["controllers","directives","factories","services","filters","routes"];e["default"].each(h,function(b){var d="grafana."+b;a.useModule(c["default"].module(d,[]))}),this.useModule(f.coreModule);var i=[System["import"]("app/features/all")];Promise.all(i).then(function(){b["default"].fn.tooltip.defaults.animation=!1,c["default"].bootstrap(document,a.ngModuleDependencies).invoke(function(){e["default"].each(a.preBootModules,function(b){e["default"].extend(b,a.registerFunctions)}),a.preBootModules=null})})["catch"](function(a){console.log("Application boot failed:",a)})},a}(),a("GrafanaApp",g),a("default",new g)}}}),function(){var a=System.amdDefine;a("app/features/panellinks/linkSrv.js",["angular","lodash","app/core/utils/kbn"],function(a,b,c){"use strict";a.module("grafana.services").service("linkSrv",["templateSrv","timeSrv",function(a,d){this.getLinkUrl=function(b){var c=a.replace(b.url||""),e={};if(b.keepTime){var f=d.timeRangeForUrl();e.from=f.from,e.to=f.to}return b.includeVars&&a.fillVariableValuesForUrl(e),this.addParamsToUrl(c,e)},this.addParamsToUrl=function(a,c){var d=[];return b.each(c,function(a,c){null!==a&&(a===!0?d.push(c):b.isArray(a)?b.each(a,function(a){d.push(c+"="+encodeURIComponent(a))}):d.push(c+"="+encodeURIComponent(a)))}),0===d.length?a:this.appendToQueryString(a,d.join("&"))},this.appendToQueryString=function(a,c){if(!b.isUndefined(c)&&null!==c&&""!==c){var d=a.indexOf("?");d!==-1?a.length-d>1&&(a+="&"):a+="?",a+=c}return a},this.getAnchorInfo=function(b){var c={};return c.href=this.getLinkUrl(b),c.title=a.replace(b.title||""),c},this.getPanelLinkAnchorInfo=function(b,e){var f={};if("absolute"===b.type)f.target=b.targetBlank?"_blank":"_self",f.href=a.replace(b.url||"",e),f.title=a.replace(b.title||"",e);else if(b.dashUri)f.href="dashboard/"+b.dashUri+"?",f.title=a.replace(b.title||"",e),f.target=b.targetBlank?"_blank":"";else{f.title=a.replace(b.title||"",e);var g=c.slugifyForUrl(b.dashboard||"");f.href="dashboard/db/"+g+"?"}var h={};if(b.keepTime){var i=d.timeRangeForUrl();h.from=i.from,h.to=i.to}return b.includeVars&&a.fillVariableValuesForUrl(h,e),f.href=this.addParamsToUrl(f.href,h),b.params&&(f.href=this.appendToQueryString(f.href,a.replace(b.params,e))),f}}])})}(),function(){var a=System.amdDefine;a("app/features/panellinks/module.js",["angular","lodash","./linkSrv"],function(a,b){"use strict";a.module("grafana.directives").directive("panelLinksEditor",function(){return{scope:{panel:"="},restrict:"E",controller:"PanelLinksEditorCtrl",templateUrl:"public/app/features/panellinks/module.html",link:function(){}}}).controller("PanelLinksEditorCtrl",["$scope","backendSrv",function(a,c){a.panel.links=a.panel.links||[],a.addLink=function(){a.panel.links.push({type:"dashboard"})},a.searchDashboards=function(a,d){c.search({query:a}).then(function(a){var c=b.map(a,function(a){return a.title});d(c)})},a.dashboardChanged=function(a){c.search({query:a.dashboard}).then(function(c){var d=b.findWhere(c,{title:a.dashboard});d&&(a.dashUri=d.uri,a.title=d.title)})},a.deleteLink=function(c){a.panel.links=b.without(a.panel.links,c)}}])})}(),function(){var a=System.amdDefine;a("app/features/dashlinks/module.js",["angular","lodash"],function(a,b){"use strict";var c=a.module("grafana.directives"),d={"external link":"fa-external-link",dashboard:"fa-th-large",question:"fa-question",info:"fa-info",bolt:"fa-bolt",doc:"fa-file-text-o",cloud:"fa-cloud"};c.directive("dashLinksEditor",function(){return{restrict:"E",controller:"DashLinkEditorCtrl",templateUrl:"public/app/features/dashlinks/editor.html",link:function(){}}}),c.directive("dashLinksContainer",function(){return{scope:{links:"="},restrict:"E",controller:"DashLinksContainerCtrl",template:'<dash-link ng-repeat="link in generatedLinks" link="link"></dash-link>',link:function(){}}}),c.directive("dashLink",["$compile","linkSrv",function(a,b){return{restrict:"E",link:function(c,d){function e(){var a=b.getAnchorInfo(f);j.text(a.title),h.attr("href",a.href)}var f=c.link,g='<div class="submenu-item dropdown"><a class="pointer dash-nav-link" data-placement="bottom"'+(f.asDropdown?' ng-click="fillDropdown(link)" data-toggle="dropdown"':"")+"><i></i> <span></span></a>";f.asDropdown&&(g+='<ul class="dropdown-menu" role="menu"><li ng-repeat="dash in link.searchHits"><a href="{{dash.url}}"><i class="fa fa-th-large"></i> {{dash.title}}</a></li></ul>'),d.html(g),a(d.contents())(c);var h=d.find("a"),i=d.find("i"),j=d.find("span");d.find("a").tooltip({title:c.link.tooltip,html:!0,container:"body"}),i.attr("class","fa fa-fw "+c.link.icon),h.attr("target",c.link.target),f.asDropdown&&c.$last&&d.find(".dropdown-menu").addClass("pull-right"),e(),c.$on("refresh",e)}}}]),c.controller("DashLinksContainerCtrl",["$scope","$rootScope","$q","backendSrv","dashboardSrv","linkSrv",function(a,c,e,f,g,h){function i(b){return"dashboards"===b.type?b.tags?b.asDropdown?e.when([{title:b.title,tags:b.tags,keepTime:b.keepTime,includeVars:b.includeVars,icon:"fa fa-bars",asDropdown:!0}]):a.searchDashboards(b,7):(console.log("Dashboard link missing tag"),e.when([])):"link"===b.type?e.when([{url:b.url,title:b.title,icon:d[b.icon],tooltip:b.tooltip,target:b.targetBlank?"_blank":"_self",keepTime:b.keepTime,includeVars:b.includeVars}]):e.when([])}function j(){var c=b.map(a.links,i);e.all(c).then(function(c){a.generatedLinks=b.flatten(c)})}var k=g.getCurrent().id;a.searchDashboards=function(a,c){return f.search({tag:a.tags,limit:c}).then(function(c){return b.reduce(c,function(b,c){return c.id!==k&&b.push({title:c.title,url:"dashboard/"+c.uri,icon:"fa fa-th-large",keepTime:a.keepTime,includeVars:a.includeVars}),b},[])})},a.fillDropdown=function(c){a.searchDashboards(c,100).then(function(a){b.each(a,function(a){a.url=h.getLinkUrl(a)}),c.searchHits=a})},j(),c.onAppEvent("dash-links-updated",j,a)}]),c.controller("DashLinkEditorCtrl",["$scope","$rootScope",function(a,c){a.iconMap=d,a.dashboard.links=a.dashboard.links||[],a.addLink=function(){a.dashboard.links.push({type:"dashboards",icon:"external link"}),a.updateSubmenuVisibility(),a.updated()},a.moveLink=function(c,d){b.move(a.dashboard.links,c,c+d),a.updated()},a.updated=function(){c.appEvent("dash-links-updated")},a.deleteLink=function(b){a.dashboard.links.splice(b,1),a.updateSubmenuVisibility(),a.updated()}}])})}(),function(){var a=System.amdDefine;a("app/features/annotations/editor_ctrl.js",["angular","lodash","jquery"],function(a,b,c){"use strict";var d=a.module("grafana.controllers");d.controller("AnnotationsEditorCtrl",["$scope","datasourceSrv",function(d,e){var f={name:"",datasource:null,iconColor:"rgba(255, 96, 96, 1)",enable:!0};d.init=function(){d.mode="list",d.datasources=e.getAnnotationSources(),d.annotations=d.dashboard.annotations.list,d.reset(),d.$watch("mode",function(a){"new"===a&&d.reset()})},d.datasourceChanged=function(){return e.get(d.currentAnnotation.datasource).then(function(a){d.currentDatasource=a,d.currentAnnotation.datasource=d.currentAnnotation.datasource})},d.edit=function(a){d.currentAnnotation=a,d.currentIsNew=!1,d.datasourceChanged(),d.mode="edit",c(".tooltip.in").remove()},d.reset=function(){d.currentAnnotation=a.copy(f),d.currentAnnotation.datasource=d.datasources[0].name,d.currentIsNew=!0,d.datasourceChanged()},d.update=function(){d.reset(),d.mode="list",d.broadcastRefresh()},d.add=function(){d.annotations.push(d.currentAnnotation),d.reset(),d.mode="list",d.updateSubmenuVisibility(),d.broadcastRefresh()},d.removeAnnotation=function(a){var c=b.indexOf(d.annotations,a);d.annotations.splice(c,1),d.updateSubmenuVisibility(),d.broadcastRefresh()}}])})}(),function(){var a=System.amdDefine;a("app/features/annotations/annotations_srv.js",["angular","lodash","./editor_ctrl"],function(a,b){"use strict";var c=a.module("grafana.services");c.service("annotationsSrv",["$rootScope","$q","datasourceSrv","alertSrv","timeSrv",function(c,d,e,f,g){function h(a){console.log("Annotation error: ",a);var b=a.message||"Annotation query failed";f.set("Annotations error",b,"error")}var i,j=[],k=this;this.init=function(){c.onAppEvent("refresh",this.clearCache,c),c.onAppEvent("dashboard-initialized",this.clearCache,c)},this.clearCache=function(){i=null,j=[]},this.getAnnotations=function(f){if(0===f.annotations.list.length)return d.when(null);if(i)return i;k.dashboard=f;var l=b.where(f.annotations.list,{enable:!0}),m=g.timeRange(),n=g.timeRange(!1),o=b.map(l,function(b){return b.snapshotData?void k.receiveAnnotationResults(b.snapshotData):e.get(b.datasource).then(function(c){var d={range:m,rangeRaw:n,annotation:b};return c.annotationQuery(d).then(k.receiveAnnotationResults).then(function(c){f.snapshot&&(b.snapshotData=a.copy(c))}).then(null,h)},this)});return i=d.all(o).then(function(){return j})["catch"](function(a){c.appEvent("alert-error",["Annotations failed",a.message||a])})},this.receiveAnnotationResults=function(a){for(var b=0;b<a.length;b++)k.addAnnotation(a[b]);return a},this.addAnnotation=function(a){j.push({annotation:a.annotation,min:a.time,max:a.time,eventType:a.annotation.name,title:a.title,tags:a.tags,text:a.text,score:1})},this.init()}])})}(),function(){var a=System.amdDefine;a("app/features/templating/editorCtrl.js",["angular","lodash"],function(a,b){"use strict";var c=a.module("grafana.controllers");c.controller("TemplateEditorCtrl",["$scope","datasourceSrv","templateSrv","templateValuesSrv",function(c,d,e,f){var g={type:"query",datasource:null,refresh:0,name:"",hide:0,options:[],includeAll:!1,multi:!1};c.variableTypes=[{value:"query",text:"Query"},{value:"interval",text:"Interval"},{value:"datasource",text:"Data source"},{value:"custom",text:"Custom"},{value:"constant",text:"Constant"}],c.refreshOptions=[{value:0,text:"Never"},{value:1,text:"On Dashboard Load"},{value:2,text:"On Time Range Change"}],c.hideOptions=[{value:0,text:""},{value:1,text:"Label"},{value:2,text:"Variable"}],c.init=function(){c.mode="list",c.datasourceTypes={},c.datasources=b.filter(d.getMetricSources(),function(a){return c.datasourceTypes[a.meta.id]={text:a.meta.name,value:a.meta.id},!a.meta.builtIn}),c.datasourceTypes=b.map(c.datasourceTypes,function(a){return a}),c.variables=e.variables,c.reset(),c.$watch("mode",function(a){"new"===a&&c.reset()}),c.$watch("current.datasource",function(a){"new"===c.mode&&d.get(a).then(function(a){a.meta.defaultMatchFormat&&(c.current.allFormat=a.meta.defaultMatchFormat,c.current.multiFormat=a.meta.defaultMatchFormat)})})},c.add=function(){c.isValid()&&(c.variables.push(c.current),c.update(),c.updateSubmenuVisibility())},c.isValid=function(){if(!c.current.name)return c.appEvent("alert-warning",["Validation","Template variable requires a name"]),!1;if(!c.current.name.match(/^\w+$/))return c.appEvent("alert-warning",["Validation","Only word and digit characters are allowed in variable names"]),!1;var a=b.findWhere(c.variables,{name:c.current.name});return!a||a===c.current||(c.appEvent("alert-warning",["Validation","Variable with the same name already exists"]),!1)},c.runQuery=function(){return f.updateOptions(c.current).then(null,function(a){a.data&&a.data.message&&(a.message=a.data.message),c.appEvent("alert-error",["Templating","Template variables could not be initialized: "+a.message])})},c.edit=function(a){c.current=a,c.currentIsNew=!1,c.mode="edit",void 0===c.current.datasource&&(c.current.datasource=null,c.current.type="query",c.current.allFormat="glob")},c.duplicate=function(b){c.current=a.copy(b),c.variables.push(c.current),c.current.name="copy_of_"+b.name,c.updateSubmenuVisibility()},c.update=function(){c.isValid()&&c.runQuery().then(function(){c.reset(),c.mode="list"})},c.reset=function(){c.currentIsNew=!0,c.current=a.copy(g)},c.showSelectionOptions=function(){if(c.current){if("query"===c.current.type)return!0;if("custom"===c.current.type)return!0}return!1},c.typeChanged=function(){"interval"===c.current.type&&(c.current.query="1m,10m,30m,1h,6h,12h,1d,7d,14d,30d",c.current.refresh=0),"query"===c.current.type&&(c.current.query=""),"constant"===c.current.type&&(c.current.query="",c.current.refresh=0,c.current.hide=2),"datasource"===c.current.type&&(c.current.query=c.datasourceTypes[0].value,c.current.regex="",c.current.refresh=1)},c.removeVariable=function(a){var d=b.indexOf(c.variables,a);c.variables.splice(d,1),c.updateSubmenuVisibility()}}])})}(),function(){var a=System.amdDefine;a("app/features/templating/templateValuesSrv.js",["angular","lodash","app/core/utils/kbn"],function(a,b,c){"use strict";var d=a.module("grafana.services");d.service("templateValuesSrv",["$q","$rootScope","datasourceSrv","$location","templateSrv","timeSrv",function(d,e,f,g,h,i){function j(){return{text:"None",value:"",isNone:!0}}var k=this;this.variableLock={},e.onAppEvent("refresh",function(){var a=b.findWhere(k.variables,{type:"interval"});a&&k.updateAutoInterval(a);var c=k.variables.filter(function(a){return 2===a.refresh}).map(function(a){return k.updateOptions(a)});return d.all(c)},e),this.init=function(a){this.variables=a.templating.list,h.init(this.variables);var c=g.search(),e=[];this.variableLock={},b.forEach(this.variables,function(a){k.variableLock[a.name]=d.defer()});for(var f=0;f<this.variables.length;f++){var i=this.variables[f];e.push(this.processVariable(i,c))}return d.all(e)},this.processVariable=function(a,c){var e=[],f=k.variableLock[a.name];return"query"===a.type&&b.forEach(this.variables,function(b){(h.containsVariable(a.query,b.name)||h.containsVariable(a.datasource,b.name))&&e.push(k.variableLock[b.name].promise)}),d.all(e).then(function(){var d=c["var-"+a.name];return void 0!==d?k.setVariableFromUrl(a,d).then(f.resolve):1===a.refresh||2===a.refresh?k.updateOptions(a).then(function(){b.isEmpty(a.current)&&a.options.length&&k.setVariableValue(a,a.options[0]),f.resolve()}):void("interval"===a.type?(k.updateAutoInterval(a),f.resolve()):f.resolve())})["finally"](function(){delete k.variableLock[a.name]})},this.setVariableFromUrl=function(a,c){var e=d.when(!0);return a.refresh&&(e=this.updateOptions(a)),e.then(function(){var d=b.find(a.options,function(a){return a.text===c||a.value===c});return d=d||{text:c,value:c},k.updateAutoInterval(a),k.setVariableValue(a,d,!0)})},this.updateAutoInterval=function(a){if(a.auto){a.options.length&&"auto"!==a.options[0].text&&a.options.unshift({text:"auto",value:"$__auto_interval"});var b=c.calculateInterval(i.timeRange(),a.auto_count,a.auto_min?">"+a.auto_min:null);h.setGrafanaVariable("$__auto_interval",b)}},this.setVariableValue=function(c,d){return c.current=a.copy(d),b.isArray(c.current.text)&&(c.current.text=c.current.text.join(" + ")),k.selectOptionsForCurrentValue(c),h.updateTemplateData(),this.updateOptionsInChildVariables(c)},this.variableUpdated=function(a){return h.updateTemplateData(),this.updateOptionsInChildVariables(a)},this.updateOptionsInChildVariables=function(a){if(k.variableLock[a.name])return d.when();var c=b.map(k.variables,function(b){if(b!==a)return h.containsVariable(b.query,a.name)||h.containsVariable(b.datasource,a.name)?k.updateOptions(b):void 0});return d.all(c)},this._updateNonQueryVariable=function(a){return"datasource"===a.type?void k.updateDataSourceVariable(a):"constant"===a.type?void(a.options=[{text:a.query,value:a.query}]):(a.options=b.map(a.query.split(/[,]+/),function(a){return{text:a.trim(),value:a.trim()}}),"interval"===a.type?void k.updateAutoInterval(a):void("custom"===a.type&&a.includeAll&&k.addAllOption(a)))},this.updateDataSourceVariable=function(a){var b,d=[],e=f.getMetricSources({skipVariables:!0});a.regex&&(b=c.stringToJsRegex(h.replace(a.regex)));for(var g=0;g<e.length;g++){var i=e[g];i.meta.id===a.query&&(b&&!b.exec(i.name)||d.push({text:i.name,value:i.name}))}0===d.length&&d.push({text:"No data sources found",value:""}),a.options=d},this.updateOptions=function(a){return"query"!==a.type?(k._updateNonQueryVariable(a),k.validateVariableSelectionState(a)):f.get(a.datasource).then(b.partial(this.updateOptionsFromMetricFindQuery,a)).then(b.partial(this.updateTags,a)).then(b.partial(this.validateVariableSelectionState,a))},this.selectOptionsForCurrentValue=function(a){var c,d,e,f,g=[];for(c=0;c<a.options.length;c++)if(f=a.options[c],f.selected=!1,b.isArray(a.current.value))for(d=0;d<a.current.value.length;d++)e=a.current.value[d],f.value===e&&(f.selected=!0,g.push(f));else f.value===a.current.value&&(f.selected=!0,g.push(f));return g},this.validateVariableSelectionState=function(a){if(!a.current){if(!a.options.length)return;return k.setVariableValue(a,a.options[0],!1)}if(b.isArray(a.current.value)){var c=k.selectOptionsForCurrentValue(a);return c=0===c.length?a.options[0]:{value:b.map(c,function(a){return a.value}),text:b.map(c,function(a){return a.text}).join(" + ")},k.setVariableValue(a,c,!1)}var e=b.findWhere(a.options,{text:a.current.text});return e?k.setVariableValue(a,e,!1):a.options.length?k.setVariableValue(a,a.options[0]):d.when(null)},this.updateTags=function(a,b){return a.useTags?b.metricFindQuery(a.tagsQuery).then(function(c){a.tags=[];for(var d=0;d<c.length;d++)a.tags.push(c[d].text);return b}):(delete a.tags,b)},this.updateOptionsFromMetricFindQuery=function(a,b){return b.metricFindQuery(a.query).then(function(c){return a.options=k.metricNamesToVariableValues(a,c),a.includeAll&&k.addAllOption(a),a.options.length||a.options.push(j()),b})},this.getValuesForTag=function(a,c){return f.get(a.datasource).then(function(d){var e=a.tagValuesQuery.replace("$tag",c);return d.metricFindQuery(e).then(function(a){return b.map(a,function(a){return a.text})})})},this.metricNamesToVariableValues=function(a,d){var e,f,g,i;for(f={},a.regex&&(e=c.stringToJsRegex(h.replace(a.regex))),g=0;g<d.length;g++){var j=d[g],k=j.value||j.text,l=j.text||j.value;if(b.isNumber(k)&&(k=k.toString()),b.isNumber(l)&&(l=l.toString()),e){if(i=e.exec(k),!i)continue;i.length>1&&(k=i[1],l=k)}f[k]={text:l,value:k}}return b.sortBy(f,"text")},this.addAllOption=function(a){a.options.unshift({text:"All",value:"$__all"})}}])})}(),function(){var a=System.amdDefine;a("app/features/templating/templateSrv.js",["angular","lodash","./editorCtrl","./templateValuesSrv"],function(a,b){"use strict";var c=a.module("grafana.services");c.service("templateSrv",function(){function a(a){return a.replace(/[\\^$*+?.()|[\]{}\/]/g,"\\$&")}function c(a){return a.replace(/([\!\*\+\-\=<>\s\&\|\(\)\[\]\{\}\^\~\?\:\\/"])/g,"\\$1")}var d=this;this._regex=/\$(\w+)|\[\[([\s\S]+?)\]\]/g,this._index={},this._texts={},this._grafanaVariables={},this.init=function(a){this.variables=a,this.updateTemplateData()},this.updateTemplateData=function(){this._index={};for(var a=0;a<this.variables.length;a++){var b=this.variables[a];b.current&&(b.current.isNone||b.current.value)&&(this._index[b.name]=b)}},this.luceneFormat=function(a){if("string"==typeof a)return c(a);var d=b.map(a,function(a){return'"'+c(a)+'"'});return"("+d.join(" OR ")+")"},this.formatValue=function(c,d,e){if(e=e||{},"function"==typeof d)return d(c,e,this.formatValue);switch(d){case"regex":if("string"==typeof c)return a(c);var f=b.map(c,a);return"("+f.join("|")+")";case"lucene":return this.luceneFormat(c,d,e);case"pipe":return"string"==typeof c?c:c.join("|");default:return"string"==typeof c?c:"{"+c.join(",")+"}"}},this.setGrafanaVariable=function(a,b){this._grafanaVariables[a]=b},this.variableExists=function(a){this._regex.lastIndex=0;var b=this._regex.exec(a);return b&&void 0!==d._index[b[1]||b[2]]},this.containsVariable=function(b,c){if(!b)return!1;c=a(c);var d=new RegExp("\\$("+c+")(?:\\W|$)|\\[\\[("+c+")\\]\\]","g"),e=d.exec(b);return null!==e},this.highlightVariablesAsHtml=function(a){return a&&b.isString(a)?(a=b.escape(a),this._regex.lastIndex=0,a.replace(this._regex,function(a,b,c){return d._index[b||c]?'<span class="template-variable">'+a+"</span>":a})):a},this.getAllValue=function(a){if(a.allValue)return a.allValue;for(var b=[],c=1;c<a.options.length;c++)b.push(a.options[c].value);return b},this.replace=function(a,b,c){if(!a)return a;var e,f,g;return this._regex.lastIndex=0,a.replace(this._regex,function(a,h,i){if(e=d._index[h||i],b&&(g=b[h||i]))return d.formatValue(g.value,c,e);if(!e)return a;if(f=d._grafanaVariables[e.current.value])return d.formatValue(f,c,e);if(g=e.current.value,d.isAllValue(g)&&(g=d.getAllValue(e),e.allValue))return g;var j=d.formatValue(g,c,e);return j})},this.isAllValue=function(a){return"$__all"===a||Array.isArray(a)&&"$__all"===a[0]},this.replaceWithText=function(a,b){if(!a)return a;var c;return this._regex.lastIndex=0,a.replace(this._regex,function(a,e,f){if(b){var g=b[e||f];if(g)return g.text}return c=d._index[e||f],c?d._grafanaVariables[c.current.value]||c.current.text:a})},this.fillVariableValuesForUrl=function(a,c){b.each(this.variables,function(b){var d=b.current,e=d.value;"All"===d.text&&(e="All"),c&&void 0!==c[b.name]&&(e=c[b.name].value),a["var-"+b.name]=e})}})})}(),System.register("app/features/dashboard/dashboard_ctrl.js",["app/core/config","angular","app/core/core_module"],function(a){var b,c,d,e;return{setters:[function(a){b=a},function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(a,d,e,f,g,h,i,j,k,l,m){this.$scope=a,this.$rootScope=d,a.editor={index:0},a.panels=b["default"].panels;var n;a.setupDashboard=function(b){var c=h.create(b.dashboard,b.meta);h.setCurrent(c),f.init(c),g.init(c)["finally"](function(){j.init(c),i.init(c,a),a.dashboard=c,a.dashboardMeta=c.meta,a.dashboardViewState=k.create(a),e.shortcuts(a),a.updateSubmenuVisibility(),a.setWindowTitleAndTheme(),a.appEvent("dashboard-initialized",a.dashboard)})["catch"](function(b){b.data&&b.data.message&&(b.message=b.data.message),a.appEvent("alert-error",["Dashboard init failed","Template variables could not be initialized: "+b.message])})},a.templateVariableUpdated=function(){j.update(a.dashboard)},a.updateSubmenuVisibility=function(){a.submenuEnabled=a.dashboard.isSubmenuFeaturesEnabled()},a.setWindowTitleAndTheme=function(){window.document.title=b["default"].window_title_prefix+a.dashboard.title},a.broadcastRefresh=function(){d.$broadcast("refresh")},a.addRow=function(a,b){a.rows.push(b)},a.addRowDefault=function(){a.resetRow(),a.row.title="New row",a.addRow(a.dashboard,a.row)},a.resetRow=function(){a.row={title:"",height:"250px",editable:!0}},a.showJsonEditor=function(b,c){var e=d.$new();e.object=c.object,e.updateHandler=c.updateHandler,a.appEvent("show-dash-editor",{src:"public/app/partials/edit_json.html",scope:e})},a.onDrop=function(b,c,e){var f=a.dashboard.getPanelInfoById(b);if(e){var g=a.dashboard.getPanelInfoById(e.id);g.row.panels[g.index]=f.panel,f.row.panels[f.index]=e;var h=f.panel.span;f.panel.span=e.span,e.span=h}else f.row.panels.splice(f.index,1),f.panel.span=12-a.dashboard.rowSpan(c),c.panels.push(f.panel);d.$broadcast("render")},a.registerWindowResizeEvent=function(){c["default"].element(window).bind("resize",function(){m.cancel(n),n=m(function(){a.$broadcast("render")},200)}),a.$on("$destroy",function(){c["default"].element(window).unbind("resize")})},a.timezoneChanged=function(){
d.$broadcast("refresh")}}return a.$inject=["$scope","$rootScope","dashboardKeybindings","timeSrv","templateValuesSrv","dashboardSrv","unsavedChangesSrv","dynamicDashboardSrv","dashboardViewStateSrv","contextSrv","$timeout"],a.prototype.init=function(a){this.$scope.resetRow(),this.$scope.registerWindowResizeEvent(),this.$scope.onAppEvent("show-json-editor",this.$scope.showJsonEditor),this.$scope.onAppEvent("template-variable-value-updated",this.$scope.templateVariableUpdated),this.$scope.setupDashboard(a)},a}(),a("DashboardCtrl",e),d["default"].controller("DashboardCtrl",e)}}}),function(){var a=System.amdDefine;a("app/features/dashboard/dashboardLoaderSrv.js",["angular","moment","lodash","jquery","app/core/utils/kbn","app/core/utils/datemath","./impression_store","app/core/config"],function(a,b,c,d,e,f,g){"use strict";var h=a.module("grafana.services");h.service("dashboardLoaderSrv",["backendSrv","dashboardSrv","datasourceSrv","$http","$q","$timeout","contextSrv","$routeParams","$rootScope",function(a,h,i,j,k,l,m,n,o){var p=this;this._dashboardLoadFailed=function(a,b){return b=b||!1,{meta:{canStar:!1,isSnapshot:b,canDelete:!1,canSave:!1,canEdit:!1,dashboardNotFound:!0},dashboard:{title:a}}},this.loadDashboard=function(b,c){var d;return d="script"===b?this._loadScriptedDashboard(c):"snapshot"===b?a.get("/api/snapshots/"+n.slug)["catch"](function(){return p._dashboardLoadFailed("Snapshot not found",!0)}):a.getDashboard(n.type,n.slug)["catch"](function(){return p._dashboardLoadFailed("Not found")}),d.then(function(a){return a.meta.dashboardNotFound!==!0&&g.impressions.addDashboardImpression(a.dashboard.id),a}),d},this._loadScriptedDashboard=function(a){var b="public/dashboards/"+a.replace(/\.(?!js)/,"/")+"?"+(new Date).getTime();return j({url:b,method:"GET"}).then(this._executeScript).then(function(a){return{meta:{fromScript:!0,canDelete:!1,canSave:!1,canStar:!1},dashboard:a.data}},function(a){return console.log("Script dashboard error "+a),o.appEvent("alert-error",["Script Error","Please make sure it exists and returns a valid dashboard"]),p._dashboardLoadFailed("Scripted dashboard")})},this._executeScript=function(a){var g={dashboardSrv:h,datasourceSrv:i,$q:k},j=new Function("ARGS","kbn","dateMath","_","moment","window","document","$","jQuery","services",a.data),m=j(n,e,f,c,b,window,document,d,d,g);if(c.isFunction(m)){var o=k.defer();return m(function(a){l(function(){o.resolve({data:a})})}),o.promise}return{data:m}}}])})}(),System.register("app/features/dashboard/dashnav/dashnav.js",["lodash","moment","angular"],function(a){function b(){return{restrict:"E",templateUrl:"public/app/features/dashboard/dashnav/dashnav.html",controller:f,transclude:!0}}var c,d,e,f;return a("dashNavDirective",b),{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a,b,f,g,h,i,j,k){a.init=function(){if(a.onAppEvent("save-dashboard",a.saveDashboard),a.onAppEvent("delete-dashboard",a.deleteDashboard),a.onAppEvent("quick-snapshot",a.quickSnapshot),a.showSettingsMenu=a.dashboardMeta.canEdit||a.contextSrv.isEditor,a.dashboardMeta.isSnapshot){a.showSettingsMenu=!1;var b=a.dashboardMeta;a.titleTooltip="Created: &nbsp;"+d["default"](b.created).calendar(),b.expires&&(a.titleTooltip+="<br>Expires: &nbsp;"+d["default"](b.expires).fromNow()+"<br>")}},a.openEditView=function(a){var b=c["default"].extend(g.search(),{editview:a});g.search(b)},a.starDashboard=function(){a.dashboardMeta.isStarred?i["delete"]("/api/user/stars/dashboard/"+a.dashboard.id).then(function(){a.dashboardMeta.isStarred=!1}):i.post("/api/user/stars/dashboard/"+a.dashboard.id).then(function(){a.dashboardMeta.isStarred=!0})},a.shareDashboard=function(b){var c=a.$new();c.tabIndex=b,a.appEvent("show-modal",{src:"public/app/features/dashboard/partials/shareModal.html",scope:c})},a.quickSnapshot=function(){a.shareDashboard(1)},a.openSearch=function(){a.appEvent("show-dash-search")},a.hideTooltip=function(b){e["default"].element(b.currentTarget).tooltip("hide"),a.appEvent("hide-dash-search")},a.makeEditable=function(){a.dashboard.editable=!0;var b=a.dashboard.getSaveModelClone();i.saveDashboard(b,{overwrite:!1}).then(function(c){a.dashboard.version=c.version,a.appEvent("dashboard-saved",a.dashboard),a.appEvent("alert-success",["Dashboard saved","Saved as "+b.title]),window.location.href=window.location.href},a.handleSaveDashError)},a.saveDashboard=function(b){if(a.dashboardMeta.canSave!==!1){var c=a.dashboard.getSaveModelClone();i.saveDashboard(c,b).then(function(b){a.dashboard.version=b.version,a.appEvent("dashboard-saved",a.dashboard);var d="/dashboard/db/"+b.slug;d!==g.path()&&g.url(d),a.appEvent("alert-success",["Dashboard saved","Saved as "+c.title])},a.handleSaveDashError)}},a.handleSaveDashError=function(b){b.data&&"version-mismatch"===b.data.status&&(b.isHandled=!0,a.appEvent("confirm-modal",{title:"Conflict",text:"Someone else has updated this dashboard.",text2:"Would you still like to save this dashboard?",yesText:"Save & Overwrite",icon:"fa-warning",onConfirm:function(){a.saveDashboard({overwrite:!0})}})),b.data&&"name-exists"===b.data.status&&(b.isHandled=!0,a.appEvent("confirm-modal",{title:"Conflict",text:"Dashboard with the same name exists.",text2:"Would you still like to save this dashboard?",yesText:"Save & Overwrite",icon:"fa-warning",onConfirm:function(){a.saveDashboard({overwrite:!0})}})),b.data&&"plugin-dashboard"===b.data.status&&(b.isHandled=!0,a.appEvent("confirm-modal",{title:"Plugin Dashboard",text:b.data.message,text2:"Your changes will be lost when you update the plugin. Use Save As to create custom version.",yesText:"Overwrite",icon:"fa-warning",altActionText:"Save As",onAltAction:function(){a.saveDashboardAs()},onConfirm:function(){a.saveDashboard({overwrite:!0})}}))},a.deleteDashboard=function(){a.appEvent("confirm-modal",{title:"Delete",text:"Do you want to delete this dashboard?",text2:a.dashboard.title,icon:"fa-trash",yesText:"Delete",onConfirm:function(){a.deleteDashboardConfirmed()}})},a.deleteDashboardConfirmed=function(){i["delete"]("/api/dashboards/db/"+a.dashboardMeta.slug).then(function(){a.appEvent("alert-success",["Dashboard Deleted",a.dashboard.title+" has been deleted"]),g.url("/")})},a.saveDashboardAs=function(){var c=b.$new();c.clone=a.dashboard.getSaveModelClone(),c.clone.editable=!0,c.clone.hideControls=!1,a.appEvent("show-modal",{src:"public/app/features/dashboard/partials/saveDashboardAs.html",scope:c,modalClass:"modal--narrow"})},a.viewJson=function(){var b=a.dashboard.getSaveModelClone(),c=e["default"].toJson(b,!0),d="data:application/json,"+encodeURIComponent(c);window.open(d)},a.snapshot=function(){a.dashboard.snapshot=!0,b.$broadcast("refresh"),j(function(){a.dashboard.snapshot=!1,a.appEvent("dashboard-snapshot-cleanup")},1e3)},a.editJson=function(){var b=a.dashboard.getSaveModelClone();a.appEvent("show-json-editor",{object:b})},a.stopPlaylist=function(){h.stop(1)},a.init()}return a.$inject=["$scope","$rootScope","alertSrv","$location","playlistSrv","backendSrv","$timeout","datasourceSrv"],a}(),a("DashNavCtrl",f),e["default"].module("grafana.directives").directive("dashnav",b)}}}),System.register("app/features/dashboard/submenu/submenu.js",["angular"],function(a){function b(){return{restrict:"E",templateUrl:"public/app/features/dashboard/submenu/submenu.html",controller:d,bindToController:!0,controllerAs:"ctrl",scope:{dashboard:"="}}}var c,d;return a("submenuDirective",b),{setters:[function(a){c=a}],execute:function(){d=function(){function a(a,b,c,d){this.$rootScope=a,this.templateValuesSrv=b,this.templateSrv=c,this.$location=d,this.annotations=this.dashboard.templating.list,this.variables=this.dashboard.templating.list}return a.$inject=["$rootScope","templateValuesSrv","templateSrv","$location"],a.prototype.disableAnnotation=function(a){a.enable=!a.enable,this.$rootScope.$broadcast("refresh")},a.prototype.getValuesForTag=function(a,b){return this.templateValuesSrv.getValuesForTag(a,b)},a.prototype.variableUpdated=function(a){var b=this;this.templateValuesSrv.variableUpdated(a).then(function(){b.$rootScope.$emit("template-variable-value-updated"),b.$rootScope.$broadcast("refresh")})},a}(),a("SubmenuCtrl",d),c["default"].module("grafana.directives").directive("dashboardSubmenu",b)}}}),function(){var a=System.amdDefine;a("app/features/dashboard/saveDashboardAsCtrl.js",["angular"],function(a){"use strict";var b=a.module("grafana.controllers");b.controller("SaveDashboardAsCtrl",["$scope","backendSrv","$location",function(a,b,c){function d(d){return b.saveDashboard(a.clone,d).then(function(b){a.appEvent("alert-success",["Dashboard saved","Saved as "+a.clone.title]),c.url("/dashboard/db/"+b.slug),a.appEvent("dashboard-saved",a.clone),a.dismiss()})}a.init=function(){a.clone.id=null,a.clone.editable=!0,a.clone.title=a.clone.title+" Copy",delete a.clone.autoUpdate},a.keyDown=function(b){13===b.keyCode&&a.saveClone()},a.saveClone=function(){d({overwrite:!1}).then(null,function(b){b.data&&"name-exists"===b.data.status&&(b.isHandled=!0,a.appEvent("confirm-modal",{title:"Conflict",text:"Dashboard with the same name exists.",text2:"Would you still like to save this dashboard?",yesText:"Save & Overwrite",icon:"fa-warning",onConfirm:function(){d({overwrite:!0})}}))})}}])})}(),function(){var a=System.amdDefine;a("app/features/dashboard/rowCtrl.js",["angular","lodash","app/core/config"],function(a,b,c){"use strict";var d=a.module("grafana.controllers");d.controller("RowCtrl",["$scope","$rootScope","$timeout",function(a,d,e){var f={title:"Row",height:"150px",collapse:!1,editable:!0,panels:[]};b.defaults(a.row,f),a.init=function(){a.editor={index:0}},a.togglePanelMenu=function(b){a.showPanelMenu=!a.showPanelMenu,a.panelMenuPos=b},a.toggleRow=function(a){a.collapse=!a.collapse},a.addPanel=function(b){a.dashboard.addPanel(b,a.row)},a.deleteRow=function(){function c(){a.dashboard.rows=b.without(a.dashboard.rows,a.row)}return a.row.panels.length?void a.appEvent("confirm-modal",{title:"Delete",text:"Are you sure you want to delete this row?",icon:"fa-trash",yesText:"Delete",onConfirm:function(){c()}}):void c()},a.editRow=function(){a.appEvent("show-dash-editor",{src:"public/app/partials/roweditor.html",scope:a.$new()})},a.moveRow=function(c){var d=a.dashboard.rows,e=b.indexOf(d,a.row),f=e;switch(c){case"up":f=e-1;break;case"down":f=e+1;break;case"top":f=0;break;case"bottom":f=d.length-1;break;default:f=e}f>=0&&f<=d.length-1&&b.move(d,e,f)},a.addPanelDefault=function(b){var d=12,f=12-a.dashboard.rowSpan(a.row),g={title:c.new_panel_title,error:!1,span:f<d&&f>0?f:d,editable:!0,type:b,isNew:!0};a.addPanel(g),e(function(){a.dashboardViewState.update({fullscreen:!0,edit:!0,panelId:g.id})})},a.setHeight=function(b){a.row.height=b,a.$broadcast("render")},a.init()}]),d.directive("rowHeight",function(){return function(a,c){a.$watchGroup(["row.collapse","row.height"],function(){c.css({minHeight:a.row.collapse?"5px":a.row.height})}),a.onAppEvent("panel-fullscreen-enter",function(d,e){var f=b.findWhere(a.row.panels,{id:e.panelId});f||c.hide()}),a.onAppEvent("panel-fullscreen-exit",function(){c.show()})}}),d.directive("panelWidth",function(){return function(a,b){function c(){d||(b[0].style.width=a.panel.span/1.2*10+"%")}var d=!1;a.onAppEvent("panel-fullscreen-enter",function(c,e){d=!0,a.panel.id!==e.panelId?b.hide():b[0].style.width="100%"}),a.onAppEvent("panel-fullscreen-exit",function(e,f){d=!1,a.panel.id!==f.panelId&&b.show(),c()}),a.$watch("panel.span",c),d&&b.hide()}}),d.directive("panelDropZone",function(){return function(a,b){a.$on("ANGULAR_DRAG_START",function(){var c=12-a.dashboard.rowSpan(a.row);c>0&&(b.find(".panel-container").css("height",a.row.height),b[0].style.width=c/1.2*10+"%",b.show())}),a.$on("ANGULAR_DRAG_END",function(){b.hide()})}})})}(),function(){var a=System.amdDefine;a("app/features/dashboard/shareModalCtrl.js",["angular","lodash","require","app/core/config"],function(a,b,c,d){"use strict";var e=a.module("grafana.controllers");e.controller("ShareModalCtrl",["$scope","$rootScope","$location","$timeout","timeSrv","$element","templateSrv","linkSrv",function(b,c,e,f,g,h,i,j){b.options={forCurrent:!0,includeTemplateVars:!0,theme:"current"},b.editor={index:b.tabIndex||0},b.init=function(){b.modeSharePanel=!!b.panel,b.tabs=[{title:"Link",src:"shareLink.html"}],b.modeSharePanel?(b.modalTitle="Share Panel",b.tabs.push({title:"Embed",src:"shareEmbed.html"})):b.modalTitle="Share",b.dashboard.meta.isSnapshot||b.tabs.push({title:"Snapshot",src:"shareSnapshot.html"}),b.dashboard.meta.isSnapshot||b.tabs.push({title:"Export",src:"shareExport.html"}),b.buildUrl()},b.buildUrl=function(){var c=e.absUrl(),f=c.indexOf("?");f!==-1&&(c=c.substring(0,f));var h=a.copy(e.search()),k=g.timeRange();h.from=k.from.valueOf(),h.to=k.to.valueOf(),b.options.includeTemplateVars&&i.fillVariableValuesForUrl(h),b.options.forCurrent||(delete h.from,delete h.to),"current"!==b.options.theme&&(h.theme=b.options.theme),b.modeSharePanel?(h.panelId=b.panel.id,h.fullscreen=!0):(delete h.panelId,delete h.fullscreen),b.shareUrl=j.addParamsToUrl(c,h);var l=b.shareUrl;l=l.replace(d.appSubUrl+"/dashboard/",d.appSubUrl+"/dashboard-solo/"),l=l.replace("&fullscreen","").replace("&edit",""),b.iframeHtml='<iframe src="'+l+'" width="450" height="200" frameborder="0"></iframe>',b.imageUrl=l.replace(d.appSubUrl+"/dashboard-solo/",d.appSubUrl+"/render/dashboard-solo/"),b.imageUrl+="&width=1000",b.imageUrl+="&height=500"}}]),e.directive("clipboardButton",function(){return function(a,b){c(["vendor/zero_clipboard"],function(a){a.config({swfPath:d.appSubUrl+"/public/vendor/zero_clipboard.swf"}),new a(b[0])})}})})}(),function(){var a=System.amdDefine;a("app/features/dashboard/shareSnapshotCtrl.js",["angular","lodash"],function(a,b){"use strict";var c=a.module("grafana.controllers");c.controller("ShareSnapshotCtrl",["$scope","$rootScope","$location","backendSrv","$timeout","timeSrv",function(a,c,d,e,f,g){a.snapshot={name:a.dashboard.title,expires:0},a.step=1,a.expireOptions=[{text:"1 Hour",value:3600},{text:"1 Day",value:86400},{text:"7 Days",value:604800},{text:"Never",value:0}],a.accessOptions=[{text:"Anyone with the link",value:1},{text:"Organization users",value:2},{text:"Public on the web",value:3}],a.init=function(){e.get("/api/snapshot/shared-options").then(function(b){a.externalUrl=b.externalSnapshotURL,a.sharingButtonText=b.externalSnapshotName,a.externalEnabled=b.externalEnabled})},a.apiUrl="/api/snapshots",a.createSnapshot=function(b){a.dashboard.snapshot={timestamp:new Date},a.loading=!0,a.snapshot.external=b,c.$broadcast("refresh"),f(function(){a.saveSnapshot(b)},4e3)},a.saveSnapshot=function(b){var c=a.dashboard.getSaveModelClone();a.scrubDashboard(c);var f={dashboard:c,name:c.title,expires:a.snapshot.expires},g=b?a.externalUrl+a.apiUrl:a.apiUrl;e.post(g,f).then(function(c){if(a.loading=!1,b)a.deleteUrl=c.deleteUrl,a.snapshotUrl=c.url,a.saveExternalSnapshotRef(f,c);else{var e=d.url(),g=d.absUrl();"/"!==e&&(g=g.replace(e,"")+"/"),a.snapshotUrl=g+"dashboard/snapshot/"+c.key,a.deleteUrl=g+"api/snapshots-delete/"+c.deleteKey}a.step=2},function(){a.loading=!1})},a.scrubDashboard=function(c){if(c.title=a.snapshot.name,c.time=g.timeRange(),c.forEachPanel(function(a){a.targets=[],a.links=[],a.datasource=null}),c.annotations.list=b.chain(c.annotations.list).filter(function(a){return a.enable}).map(function(a){return{name:a.name,enable:a.enable,snapshotData:a.snapshotData}}).value(),b.each(c.templating.list,function(a){a.query="",a.options=a.current,a.refresh=!1}),a.modeSharePanel){var d=c.getPanelById(a.panel.id);d.span=12,c.rows=[{height:"500px",span:12,panels:[d]}]}delete a.dashboard.snapshot,a.dashboard.forEachPanel(function(a){delete a.snapshotData}),b.each(a.dashboard.annotations.list,function(a){delete a.snapshotData})},a.deleteSnapshot=function(){e.get(a.deleteUrl).then(function(){a.step=3})},a.saveExternalSnapshotRef=function(a,b){a.external=!0,a.key=b.key,a.deleteKey=b.deleteKey,e.post("/api/snapshots/",a)}}])})}(),function(){var a=System.amdDefine;a("app/features/dashboard/dashboardSrv.js",["angular","jquery","lodash","moment"],function(a,b,c,d){"use strict";var e=a.module("grafana.services");e.factory("dashboardSrv",["contextSrv",function(e){function f(a,b){a||(a={}),this.id=a.id||null,this.title=a.title||"No Title",this.autoUpdate=a.autoUpdate,this.description=a.description,this.tags=a.tags||[],this.style=a.style||"dark",this.timezone=a.timezone||"",this.editable=a.editable!==!1,this.hideControls=a.hideControls||!1,this.sharedCrosshair=a.sharedCrosshair||!1,this.rows=a.rows||[],this.time=a.time||{from:"now-6h",to:"now"},this.timepicker=a.timepicker||{},this.templating=this._ensureListExist(a.templating),this.annotations=this._ensureListExist(a.annotations),this.refresh=a.refresh,this.snapshot=a.snapshot,this.schemaVersion=a.schemaVersion||0,this.version=a.version||0,this.links=a.links||[],this.gnetId=a.gnetId||null,this._updateSchema(a),this._initMeta(b)}var g=f.prototype;return g._initMeta=function(a){a=a||{},a.canShare=a.canShare!==!1,a.canSave=a.canSave!==!1,a.canStar=a.canStar!==!1,a.canEdit=a.canEdit!==!1,this.editable||(a.canEdit=!1,a.canDelete=!1,a.canSave=!1,this.hideControls=!0),this.meta=a},g.getSaveModelClone=function(){var a=b.extend(!0,{},this);return delete a.meta,a},g._ensureListExist=function(a){return a||(a={}),a.list||(a.list=[]),a},g.getNextPanelId=function(){var a,b,c,d,e=0;for(a=0;a<this.rows.length;a++)for(c=this.rows[a],b=0;b<c.panels.length;b++)d=c.panels[b],d.id>e&&(e=d.id);return e+1},g.forEachPanel=function(a){var b,c,d;for(b=0;b<this.rows.length;b++)for(d=this.rows[b],c=0;c<d.panels.length;c++)a(d.panels[c],c,d,b)},g.getPanelById=function(a){for(var b=0;b<this.rows.length;b++)for(var c=this.rows[b],d=0;d<c.panels.length;d++){var e=c.panels[d];if(e.id===a)return e}return null},g.rowSpan=function(a){return c.reduce(a.panels,function(a,b){return a+b.span},0)},g.addPanel=function(a,b){var c=this.rowSpan(b),d=b.panels.length,e=12-c-a.span;a.id=this.getNextPanelId(),e<=0&&(1===d?(b.panels[0].span=6,a.span=6):2===d&&(b.panels[0].span=4,b.panels[1].span=4,a.span=4)),b.panels.push(a)},g.isSubmenuFeaturesEnabled=function(){var a=c.filter(this.templating.list,function(a){return void 0===a.hideVariable||a.hideVariable===!1});return a.length>0||this.annotations.list.length>0||this.links.length>0},g.getPanelInfoById=function(a){var b={};return c.each(this.rows,function(d){c.each(d.panels,function(c,e){c.id===a&&(b.panel=c,b.row=d,b.index=e)})}),b.panel?b:null},g.duplicatePanel=function(b,d){var e=c.indexOf(this.rows,d),f=a.copy(b);f.id=this.getNextPanelId(),delete f.repeat,delete f.repeatIteration,delete f.repeatPanelId,delete f.scopedVars;var g=this.rows[e];return g.panels.push(f),f},g.formatDate=function(a,b){return a=d.isMoment(a)?a:d(a),b=b||"YYYY-MM-DD HH:mm:ss",this.timezone=this.getTimezone(),"browser"===this.timezone?d(a).format(b):d.utc(a).format(b)},g.getRelativeTime=function(a){return a=d.isMoment(a)?a:d(a),"browser"===this.timezone?d(a).fromNow():d.utc(a).fromNow()},g.getNextQueryLetter=function(a){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZ";return c.find(b,function(b){return c.every(a.targets,function(a){return a.refId!==b})})},g.isTimezoneUtc=function(){return"utc"===this.getTimezone()},g.getTimezone=function(){return this.timezone?this.timezone:e.user.timezone},g._updateSchema=function(a){var b,d,e,f=this.schemaVersion,g=[];if(this.schemaVersion=12,f!==this.schemaVersion){if(f<2&&(a.services&&(a.services.filter&&(this.time=a.services.filter.time,this.templating.list=a.services.filter.list||[]),delete this.services),g.push(function(a){"graphite"===a.type&&(a.type="graph"),"graph"===a.type&&(c.isBoolean(a.legend)&&(a.legend={show:a.legend}),a.grid&&(a.grid.min&&(a.grid.leftMin=a.grid.min,delete a.grid.min),a.grid.max&&(a.grid.leftMax=a.grid.max,delete a.grid.max)),a.y_format&&(a.y_formats[0]=a.y_format,delete a.y_format),a.y2_format&&(a.y_formats[1]=a.y2_format,delete a.y2_format))})),f<3){var h=this.getNextPanelId();g.push(function(a){a.id||(a.id=h,h+=1)})}if(f<4&&g.push(function(a){"graph"===a.type&&(c.each(a.aliasYAxis,function(b,c){a.seriesOverrides=[{alias:c,yaxis:b}]}),delete a.aliasYAxis)}),f<6){var i=c.findWhere(a.pulldowns,{type:"annotations"});for(i&&(this.annotations={list:i.annotations||[]}),b=0;b<this.templating.list.length;b++){var j=this.templating.list[b];void 0===j.datasource&&(j.datasource=null),"filter"===j.type&&(j.type="query"),void 0===j.type&&(j.type="query"),void 0===j.allFormat&&(j.allFormat="glob")}}if(f<7&&(a.nav&&a.nav.length&&(this.timepicker=a.nav[0],delete this.nav),g.push(function(a){c.each(a.targets,function(b){b.refId||(b.refId=this.getNextQueryLetter(a))},this)})),f<8&&g.push(function(a){c.each(a.targets,function(a){a.fields&&a.tags&&a.groupBy&&(a.rawQuery?(delete a.fields,delete a.fill):(a.select=c.map(a.fields,function(a){var b=[];return b.push({type:"field",params:[a.name]}),b.push({type:a.func,params:[]}),a.mathExpr&&b.push({type:"math",params:[a.mathExpr]}),a.asExpr&&b.push({type:"alias",params:[a.asExpr]}),b}),delete a.fields,c.each(a.groupBy,function(a){"time"===a.type&&a.interval&&(a.params=[a.interval],delete a.interval),"tag"===a.type&&a.key&&(a.params=[a.key],delete a.key)}),a.fill&&(a.groupBy.push({type:"fill",params:[a.fill]}),delete a.fill)))})}),f<9&&g.push(function(a){if(("singlestat"===a.type||""===a.thresholds)&&a.thresholds){var b=a.thresholds.split(",");b.length>=3&&(b.shift(),a.thresholds=b.join(","))}}),f<10&&g.push(function(a){"table"===a.type&&c.each(a.styles,function(a){if(a.thresholds&&a.thresholds.length>=3){var b=a.thresholds;b.shift(),a.thresholds=b}})}),f<12&&c.each(this.templating.list,function(a){a.refresh&&(a.refresh=1),a.refresh||(a.refresh=0),a.hideVariable?a.hide=2:a.hideLabel?a.hide=1:a.hide=0}),f<12&&g.push(function(a){"graph"===a.type&&a.grid&&(a.yaxes||(a.yaxes=[{show:a["y-axis"],min:a.grid.leftMin,max:a.grid.leftMax,logBase:a.grid.leftLogBase,format:a.y_formats[0],label:a.leftYAxisLabel},{show:a["y-axis"],min:a.grid.rightMin,max:a.grid.rightMax,logBase:a.grid.rightLogBase,format:a.y_formats[1],label:a.rightYAxisLabel}],a.xaxis={show:a["x-axis"]},delete a.grid.leftMin,delete a.grid.leftMax,delete a.grid.leftLogBase,delete a.grid.rightMin,delete a.grid.rightMax,delete a.grid.rightLogBase,delete a.y_formats,delete a.leftYAxisLabel,delete a.rightYAxisLabel,delete a["y-axis"],delete a["x-axis"]))}),0!==g.length)for(b=0;b<this.rows.length;b++){var k=this.rows[b];for(d=0;d<k.panels.length;d++)for(e=0;e<g.length;e++)g[e].call(this,k.panels[d])}}},{create:function(a,b){return new f(a,b)},setCurrent:function(a){this.currentDashboard=a},getCurrent:function(){return this.currentDashboard}}}])})}(),function(){var a=System.amdDefine;a("app/features/dashboard/keybindings.js",["angular","jquery"],function(a,b){"use strict";var c=a.module("grafana.services");c.service("dashboardKeybindings",["$rootScope","keyboardManager","$modal","$q",function(a,c,d,e){this.shortcuts=function(f){f.$on("$destroy",function(){c.unbindAll()});var g=null;c.bind("shift+?",function(){if(!g){g=a.$new();var b=d({template:"public/app/partials/help_modal.html",persist:!1,show:!1,scope:g,keyboard:!1});g.$on("$destroy",function(){g=null}),e.when(b).then(function(a){a.modal("show")})}},{inputDisabled:!0}),c.bind("f",function(){f.appEvent("show-dash-search")},{inputDisabled:!0}),c.bind("ctrl+o",function(){var a=f.dashboard.sharedCrosshair;f.dashboard.sharedCrosshair=!a,f.broadcastRefresh()},{inputDisabled:!0}),c.bind("ctrl+h",function(){var a=f.dashboard.hideControls;f.dashboard.hideControls=!a},{inputDisabled:!0}),c.bind("ctrl+s",function(a){f.appEvent("save-dashboard",a)},{inputDisabled:!0}),c.bind("r",function(){f.broadcastRefresh()},{inputDisabled:!0}),c.bind("ctrl+z",function(a){f.appEvent("zoom-out",a)},{inputDisabled:!0}),c.bind("left",function(a){f.appEvent("shift-time-backward",a)},{inputDisabled:!0}),c.bind("right",function(a){f.appEvent("shift-time-forward",a)},{inputDisabled:!0}),c.bind("ctrl+i",function(a){f.appEvent("quick-snapshot",a)},{inputDisabled:!0}),c.bind("esc",function(){var a=b(".popover.in");if(!(a.length>0)){var c=b(".modal").data();c&&c.$scope&&c.$scope.dismiss&&c.$scope.dismiss(),f.appEvent("hide-dash-editor"),f.exitFullscreen()}},{inputDisabled:!0})}}])})}(),function(){var a=System.amdDefine;a("app/features/dashboard/viewStateSrv.js",["angular","lodash","jquery"],function(a,b,c){"use strict";var d=a.module("grafana.services");d.factory("dashboardViewStateSrv",["$location","$timeout","templateSrv","contextSrv","timeSrv",function(a,d,e,f,g){function h(b){var c=this;c.state={},c.panelScopes=[],c.$scope=b,c.dashboard=b.dashboard,b.exitFullscreen=function(){c.state.fullscreen&&c.update({fullscreen:!1})},b.onAppEvent("time-range-changed",function(){var b=a.search(),c=g.timeRangeForUrl();b.from=c.from,b.to=c.to,a.search(b)}),b.onAppEvent("template-variable-value-updated",function(){c.updateUrlParamsWithCurrentVariables()}),b.onAppEvent("$routeUpdate",function(){var a=c.getQueryStringState();c.needsSync(a)&&c.update(a,!0)}),b.onAppEvent("panel-change-view",function(a,b){c.update(b)}),b.onAppEvent("panel-initialized",function(a,b){c.registerPanel(b.scope)}),this.update(this.getQueryStringState()),this.expandRowForPanel()}return h.prototype.updateUrlParamsWithCurrentVariables=function(){var c=a.search();b.each(c,function(a,b){0===b.indexOf("var-")&&delete c[b]}),e.fillVariableValuesForUrl(c),a.search(c)},h.prototype.expandRowForPanel=function(){if(this.state.panelId){var a=this.$scope.dashboard.getPanelInfoById(this.state.panelId);a&&(a.row.collapse=!1)}},h.prototype.needsSync=function(a){return b.isEqual(this.state,a)===!1},h.prototype.getQueryStringState=function(){var b=a.search();return b.panelId=parseInt(b.panelId)||null,b.fullscreen=!!b.fullscreen||null,b.edit="true"===b.edit||b.edit===!0||null,b.editview=b.editview||null,b},h.prototype.serializeToUrl=function(){var a=b.clone(this.state);return a.fullscreen=!!this.state.fullscreen||null,a.edit=!!this.state.edit||null,a},h.prototype.update=function(c){b.extend(this.state,c),this.dashboard.meta.fullscreen=this.state.fullscreen,this.state.fullscreen||(this.state.fullscreen=null,this.state.edit=null,this.dashboard.meta.soloMode||(this.state.panelId=null)),a.search(this.serializeToUrl()),this.syncState()},h.prototype.syncState=function(){if(0!==this.panelScopes.length){if(this.dashboard.meta.fullscreen){this.fullscreenPanel&&this.leaveFullscreen(!1);var a=this.getPanelScope(this.state.panelId);if(!a)return;return a.ctrl.editModeInitiated||a.ctrl.initEditMode(),void this.enterFullscreen(a)}this.fullscreenPanel&&this.leaveFullscreen(!0)}},h.prototype.getPanelScope=function(a){return b.find(this.panelScopes,function(b){return b.ctrl.panel.id===a})},h.prototype.leaveFullscreen=function(a){var b=this,c=b.fullscreenPanel.ctrl;return c.editMode=!1,c.fullscreen=!1,this.$scope.appEvent("panel-fullscreen-exit",{panelId:c.panel.id}),!!a&&void d(function(){b.oldTimeRange!==c.range?b.$scope.broadcastRefresh():c.render(),delete b.fullscreenPanel})},h.prototype.enterFullscreen=function(a){var b=a.ctrl;b.editMode=this.state.edit&&this.$scope.dashboardMeta.canEdit,b.fullscreen=!0,this.oldTimeRange=b.range,this.fullscreenPanel=a,c(window).scrollTop(0),this.$scope.appEvent("panel-fullscreen-enter",{panelId:b.panel.id}),d(function(){b.render()})},h.prototype.registerPanel=function(a){var c=this;c.panelScopes.push(a),c.dashboard.meta.soloMode||c.state.panelId===a.ctrl.panel.id&&(c.state.edit?a.ctrl.editPanel():a.ctrl.viewPanel()),a.$on("$destroy",function(){c.panelScopes=b.without(c.panelScopes,a)})},{create:function(a){return new h(a)}}}])})}(),function(){var a=System.amdDefine;a("app/features/dashboard/timeSrv.js",["angular","lodash","moment","app/core/config","app/core/utils/kbn","app/core/utils/datemath"],function(a,b,c,d,e,f){"use strict";var g=a.module("grafana.services");g.service("timeSrv",["$rootScope","$timeout","$routeParams","timer",function(a,d,g,h){var i=this;a.$on("zoom-out",function(a,b){i.zoomOut(b)}),this.init=function(a){h.cancel_all(),this.dashboard=a,this.time=a.time,this._initTimeFromUrl(),this._parseTime(),this.dashboard.refresh&&this.setAutoRefresh(this.dashboard.refresh)},this._parseTime=function(){b.isString(this.time.from)&&this.time.from.indexOf("Z")>=0&&(this.time.from=c(this.time.from).utc()),b.isString(this.time.to)&&this.time.to.indexOf("Z")>=0&&(this.time.to=c(this.time.to).utc())},this._parseUrlParam=function(a){if(a.indexOf("now")!==-1)return a;if(8===a.length)return c.utc(a,"YYYYMMDD");if(15===a.length)return c.utc(a,"YYYYMMDDTHHmmss");if(!isNaN(a)){var b=parseInt(a);return c.utc(b)}return null},this._initTimeFromUrl=function(){g.from&&(this.time.from=this._parseUrlParam(g.from)||this.time.from),g.to&&(this.time.to=this._parseUrlParam(g.to)||this.time.to)},this.setAutoRefresh=function(a){if(this.dashboard.refresh=a,a){var b=e.interval_to_ms(a),c=b-Date.now()%b;d(function(){i.start_scheduled_refresh(b),i.refreshDashboard()},c)}else this.cancel_scheduled_refresh()},this.refreshDashboard=function(){a.$broadcast("refresh")},this.start_scheduled_refresh=function(a){i.cancel_scheduled_refresh(),i.refresh_timer=h.register(d(function(){i.start_scheduled_refresh(a),i.refreshDashboard()},a))},this.cancel_scheduled_refresh=function(){h.cancel(this.refresh_timer)},this.setTime=function(e,f){b.extend(this.time,e),!f&&c.isMoment(e.to)?(this.old_refresh=this.dashboard.refresh||this.old_refresh,this.setAutoRefresh(!1)):this.old_refresh&&this.old_refresh!==this.dashboard.refresh&&(this.setAutoRefresh(this.old_refresh),this.old_refresh=null),a.appEvent("time-range-changed",this.time),d(this.refreshDashboard,0)},this.timeRangeForUrl=function(){var a=this.timeRange(!1);return b.isString(a.to)&&a.to.indexOf("now")&&(a=this.timeRange()),c.isMoment(a.from)&&(a.from=a.from.valueOf()),c.isMoment(a.to)&&(a.to=a.to.valueOf()),a},this.timeRange=function(a){var b=c.isMoment(this.time.from)?c(this.time.from):this.time.from,d=c.isMoment(this.time.to)?c(this.time.to):this.time.to;return a!==!1&&(b=f.parse(b,!1),d=f.parse(d,!0)),{from:b,to:d}},this.zoomOut=function(a){var b=this.timeRange(),d=b.to.valueOf()-b.from.valueOf(),e=b.to.valueOf()-d/2,f=e+d*a/2,g=e-d*a/2;if(f>Date.now()&&b.to<=Date.now()){var h=f-Date.now();g-=h,f=Date.now()}this.setTime({from:c.utc(g),to:c.utc(f)})}}])})}(),function(){var a=System.amdDefine;a("app/features/dashboard/unsavedChangesSrv.js",["angular","lodash"],function(a,b){"use strict";var c=a.module("grafana.services");c.service("unsavedChangesSrv",["$rootScope","$q","$location","$timeout","contextSrv","$window",function(c,d,e,f,g,h){function i(a,b){var c=this;this.original=a.getSaveModelClone(),this.current=a,this.originalPath=e.path(),this.scope=b,b.onAppEvent("dashboard-saved",function(){c.original=c.current.getSaveModelClone(),c.originalPath=e.path()}),h.onbeforeunload=function(){if(!c.ignoreChanges())return c.hasChanges()?"There are unsaved changes to this dashboard":void 0},b.$on("$locationChangeStart",function(a,b){return c.originalPath===e.path()||(!!c.ignoreChanges()||void(c.hasChanges()&&(a.preventDefault(),c.next=b,f(function(){c.open_modal()}))))})}var j=i.prototype;j.ignoreChanges=function(){if(!this.original)return!0;if(!g.isEditor)return!0;if(!this.current||!this.current.meta)return!0;var a=this.current.meta;return!a.canSave||a.fromScript||a.fromFile},j.cleanDashboardFromIgnoredChanges=function(a){a.time=0,a.refresh=0,a.schemaVersion=0,a.rows=b.filter(a.rows,function(a){return!a.repeatRowId&&(a.panels=b.filter(a.panels,function(a){return!a.repeatPanelId&&(a.scopedVars=null,a.span=null,a.legend&&(delete a.legend.sort,delete a.legend.sortDesc),!0)}),a.collapse=!1,!0)}),b.each(a.templating.list,function(a){a.current=null,a.options=null})},j.hasChanges=function(){var c=this.current.getSaveModelClone(),d=this.original;this.cleanDashboardFromIgnoredChanges(c),this.cleanDashboardFromIgnoredChanges(d);var e=b.findWhere(c.nav,{type:"timepicker"}),f=b.findWhere(d.nav,{type:"timepicker"
});e&&f&&(e.now=f.now);var g=a.toJson(c),h=a.toJson(d);return g!==h},j.open_modal=function(){var a=this,b=this.scope.$new();b.ignore=function(){a.original=null,a.goto_next()},b.save=function(){a.scope.$emit("save-dashboard")},c.appEvent("show-modal",{src:"public/app/partials/unsaved-changes.html",modalClass:"confirm-modal",scope:b})},j.goto_next=function(){var a=e.absUrl().length-e.url().length,b=this.next.substring(a);e.url(b)},this.Tracker=i,this.init=function(a,b){f(function(){new i(a,b)},1200)}}])})}(),System.register("app/features/dashboard/timepicker/input_date.js",["moment","app/core/utils/datemath"],function(a){function b(){return{restrict:"A",require:"ngModel",link:function(a,b,e,f){var g="YYYY-MM-DD HH:mm:ss",h=function(b){if(b.indexOf("now")!==-1)return d.isValid(b)?(f.$setValidity("error",!0),b):void f.$setValidity("error",!1);var e;return e=a.ctrl.isUtc?c["default"].utc(b,g):c["default"](b,g),e.isValid()?(f.$setValidity("error",!0),e):void f.$setValidity("error",!1)},i=function(a){return c["default"].isMoment(a)?a.format(g):a};f.$parsers.push(h),f.$formatters.push(i)}}}var c,d;return a("inputDateDirective",b),{setters:[function(a){c=a},function(a){d=a}],execute:function(){}}}),System.register("app/features/dashboard/timepicker/timepicker.js",["lodash","angular","moment","app/core/utils/rangeutil","./input_date"],function(a){function b(){return{restrict:"E",templateUrl:"public/app/features/dashboard/timepicker/settings.html",controller:i,bindToController:!0,controllerAs:"ctrl",scope:{dashboard:"="}}}function c(){return{restrict:"E",templateUrl:"public/app/features/dashboard/timepicker/timepicker.html",controller:i,bindToController:!0,controllerAs:"ctrl",scope:{dashboard:"="}}}var d,e,f,g,h,i;return a("settingsDirective",b),a("timePickerDirective",c),{setters:[function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a}],execute:function(){i=function(){function a(a,b,c){var d=this;this.$scope=a,this.$rootScope=b,this.timeSrv=c,a.ctrl=this,b.onAppEvent("shift-time-forward",function(){return d.move(1)},a),b.onAppEvent("shift-time-backward",function(){return d.move(-1)},a),b.onAppEvent("refresh",function(){return d.init()},a),b.onAppEvent("dash-editor-hidden",function(){return d.isOpen=!1},a),this.init()}return a.$inject=["$scope","$rootScope","timeSrv"],a.prototype.init=function(){this.panel=this.dashboard.timepicker,d["default"].defaults(this.panel,a.defaults);var b=e["default"].copy(this.timeSrv.timeRange()),c=e["default"].copy(this.timeSrv.timeRange(!1));this.dashboard.isTimezoneUtc()?this.isUtc=!0:(b.from.local(),b.to.local(),f["default"].isMoment(c.from)&&c.from.local(),f["default"].isMoment(c.to)&&c.to.local()),this.rangeString=g.describeTimeRange(c),this.absolute={fromJs:b.from.toDate(),toJs:b.to.toDate()},this.tooltip=this.dashboard.formatDate(b.from)+" <br>to<br>",this.tooltip+=this.dashboard.formatDate(b.to),this.isOpen||(this.timeRaw=c)},a.prototype.zoom=function(a){this.$rootScope.appEvent("zoom-out",2)},a.prototype.move=function(a){var b,c,d=this.timeSrv.timeRange(),e=(d.to.valueOf()-d.from.valueOf())/2;a===-1?(b=d.to.valueOf()-e,c=d.from.valueOf()-e):1===a?(b=d.to.valueOf()+e,c=d.from.valueOf()+e,b>Date.now()&&d.to<Date.now()&&(b=Date.now(),c=d.from.valueOf())):(b=d.to.valueOf(),c=d.from.valueOf()),this.timeSrv.setTime({from:f["default"].utc(c),to:f["default"].utc(b)})},a.prototype.openDropdown=function(){this.init(),this.isOpen=!0,this.timeOptions=g.getRelativeTimesList(this.panel,this.rangeString),this.refresh={value:this.dashboard.refresh,options:d["default"].map(this.panel.refresh_intervals,function(a){return{text:a,value:a}})},this.refresh.options.unshift({text:"off"}),this.$rootScope.appEvent("show-dash-editor",{src:"public/app/features/dashboard/timepicker/dropdown.html",scope:this.$scope,cssClass:"gf-timepicker-dropdown"})},a.prototype.applyCustom=function(){this.refresh.value!==this.dashboard.refresh&&this.timeSrv.setAutoRefresh(this.refresh.value),this.timeSrv.setTime(this.timeRaw,!0),this.$rootScope.appEvent("hide-dash-editor")},a.prototype.absoluteFromChanged=function(){this.timeRaw.from=this.getAbsoluteMomentForTimezone(this.absolute.fromJs)},a.prototype.absoluteToChanged=function(){this.timeRaw.to=this.getAbsoluteMomentForTimezone(this.absolute.toJs)},a.prototype.getAbsoluteMomentForTimezone=function(a){return this.dashboard.isTimezoneUtc()?f["default"](a).utc():f["default"](a)},a.prototype.setRelativeFilter=function(a){var b={from:a.from,to:a.to};this.panel.nowDelay&&"now"===b.to&&(b.to="now-"+this.panel.nowDelay),this.timeSrv.setTime(b),this.$rootScope.appEvent("hide-dash-editor")},a.tooltipFormat="MMM D, YYYY HH:mm:ss",a.defaults={time_options:["5m","15m","1h","6h","12h","24h","2d","7d","30d"],refresh_intervals:["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"]},a}(),a("TimePickerCtrl",i),e["default"].module("grafana.directives").directive("gfTimePickerSettings",b),e["default"].module("grafana.directives").directive("gfTimePicker",c),e["default"].module("grafana.directives").directive("inputDatetime",h.inputDateDirective)}}}),function(){var a=System.amdDefine;a("app/features/dashboard/graphiteImportCtrl.js",["angular","lodash","app/core/utils/kbn"],function(a,b,c){"use strict";var d=a.module("grafana.controllers");d.controller("GraphiteImportCtrl",["$scope","datasourceSrv","dashboardSrv","$location",function(d,e,f,g){function h(d,e){var h,i,j,k=2,l=300;h={title:"",panels:[],height:l},i=a.copy(h);var m=f.create({});m.rows=[],m.title=d.name,m.rows.push(i),b.each(d.graphs,function(c,d){i.panels.length===k&&(i=a.copy(h),m.rows.push(i)),j={type:"graph",span:12/k,title:c[1].title,targets:[],datasource:e,id:d+1},b.each(c[1].target,function(a){j.targets.push({target:a})}),i.panels.push(j)}),window.grafanaImportDashboard=m,g.path("/dashboard-import/"+c.slugifyForUrl(m.title))}d.options={},d.init=function(){d.datasources=[],b.each(e.getAll(),function(a){"graphite"===a.type&&(d.options.sourceName=a.name,d.datasources.push(a.name))})},d.listAll=function(){e.get(d.options.sourceName).then(function(a){d.datasource=a,d.datasource.listDashboards("").then(function(a){d.dashboards=a},function(a){var b=a.message||a.statusText||"Error";d.appEvent("alert-error",["Failed to load dashboard list from graphite",b])})})},d["import"]=function(a){d.datasource.loadDashboard(a).then(function(a){if(!a.data||!a.data.state)throw{message:"no dashboard state received from graphite"};h(a.data.state,d.datasource.name)},function(a){var b=a.message||a.statusText||"Error";d.appEvent("alert-error",["Failed to load dashboard from graphite",b])})}}])})}(),function(){var a=System.amdDefine;a("app/features/dashboard/importCtrl.js",["angular","lodash"],function(a,b){"use strict";var c=a.module("grafana.controllers");c.controller("DashboardImportCtrl",["$scope","$http","backendSrv","datasourceSrv",function(a,c,d,e){a.init=function(){a.datasources=[],a.sourceName="grafana",a.destName="grafana",a.imported=[],a.dashboards=[],a.infoText="",a.importing=!1,b.each(e.getAll(),function(b,c){"influxdb_08"!==b.type&&"elasticsearch"!==b.type||(a.sourceName=c,a.datasources.push(c))})},a.startImport=function(){e.get(a.sourceName).then(function(b){a.dashboardSource=b,a.dashboardSource.searchDashboards("title:").then(function(b){return a.dashboards=b.dashboards,0===a.dashboards.length?void(a.infoText="No dashboards found"):(a.importing=!0,a.imported=[],void a.next())},function(b){var c=b.message||b.statusText||"Unknown error",d="Failed to load dashboards from selected data source, response from server was: "+c;a.appEvent("alert-error",["Import failed",d])})})},a.next=function(){0===a.dashboards.length&&(a.infoText="Done! Imported "+a.imported.length+" dashboards");var b=a.dashboards.shift();if(!b.title)return void console.log(b);var c={name:b.title,info:"Importing..."};a.imported.push(c),a.infoText="Importing "+a.imported.length+"/"+(a.imported.length+a.dashboards.length),a.dashboardSource.getDashboard(b.id).then(function(b){d.saveDashboard(b).then(function(){c.info="Done!",a.next()},function(b){b.isHandled=!0,c.info="Error: "+(b.data||{message:"Unknown"}).message,a.next()})})},a.init()}])})}(),System.register("app/features/dashboard/upload.js",["app/core/core_module"],function(a){function b(a,b,c){return{restrict:"E",template:d,scope:{onUpload:"&"},link:function(a){function c(b){for(var c,d=b.target.files,e=function(){return function(b){var c;try{c=JSON.parse(b.target.result)}catch(d){return console.log(d),void a.appEvent("alert-error",["Import failed","JSON -> JS Serialization failed: "+d.message])}a.$apply(function(){a.onUpload({dash:c})})}},f=0;c=d[f];f++){var g=new FileReader;g.onload=e(),g.readAsText(c)}}var d=window;d.File&&d.FileReader&&d.FileList&&d.Blob?document.getElementById("dashupload").addEventListener("change",c,!1):b.set("Oops","Sorry, the HTML5 File APIs are not fully supported in this browser.","error")}}}b.$inject=["timer","alertSrv","$location"];var c,d;return{setters:[function(a){c=a}],execute:function(){d='\n<input type="file" id="dashupload" name="dashupload" class="hide"/>\n<label class="btn btn-secondary" for="dashupload">\n  <i class="fa fa-upload"></i>\n  Upload .json File\n</label>\n',c["default"].directive("dashUpload",b)}}}),System.register("app/features/dashboard/import/dash_import.js",["app/core/core_module","app/core/config","lodash"],function(a){function b(){return{restrict:"E",templateUrl:"public/app/features/dashboard/import/dash_import.html",controller:f,bindToController:!0,controllerAs:"ctrl"}}var c,d,e,f;return a("dashImportDirective",b),{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a,b,c,d){this.backendSrv=a,this.$location=b,this.$scope=c,this.$routeParams=d,this.step=1,this.nameExists=!1,d.gnetId&&(this.gnetUrl=d.gnetId,this.checkGnetDashboard())}return a.$inject=["backendSrv","$location","$scope","$routeParams"],a.prototype.onUpload=function(a){if(this.dash=a,this.dash.id=null,this.step=2,this.inputs=[],this.dash.__inputs)for(var b=0,c=this.dash.__inputs;b<c.length;b++){var d=c[b],e={name:d.name,label:d.label,info:d.description,value:d.value,type:d.type,pluginId:d.pluginId,options:[]};"datasource"===d.type?this.setDatasourceOptions(d,e):e.info||(e.info="Specify a string constant"),this.inputs.push(e)}this.inputsValid=0===this.inputs.length,this.titleChanged()},a.prototype.setDatasourceOptions=function(a,b){var c=e["default"].filter(d["default"].datasources,function(b){return b.type===a.pluginId});0===c.length?b.info="No data sources of type "+a.pluginName+" found":b.info||(b.info="Select a "+a.pluginName+" data source"),b.options=c.map(function(a){return{text:a.name,value:a.name}})},a.prototype.inputValueChanged=function(){this.inputsValid=!0;for(var a=0,b=this.inputs;a<b.length;a++){var c=b[a];c.value||(this.inputsValid=!1)}},a.prototype.titleChanged=function(){var a=this;this.backendSrv.search({query:this.dash.title}).then(function(b){a.nameExists=!1;for(var c=0;c<b.length;c++){var d=b[c];if(a.dash.title===d.title){a.nameExists=!0;break}}})},a.prototype.saveDashboard=function(){var a=this,b=this.inputs.map(function(a){return{name:a.name,type:a.type,pluginId:a.pluginId,value:a.value}});return this.backendSrv.post("api/dashboards/import",{dashboard:this.dash,overwrite:!0,inputs:b}).then(function(b){a.$location.url("dashboard/"+b.importedUri),a.$scope.dismiss()})},a.prototype.loadJsonText=function(){try{this.parseError="";var a=JSON.parse(this.jsonText);this.onUpload(a)}catch(b){return console.log(b),void(this.parseError=b.message)}},a.prototype.checkGnetDashboard=function(){var a=this;this.gnetError="";var b,c=/(^\d+$)|dashboards\/(\d+)/.exec(this.gnetUrl);return c&&c[1]?b=c[1]:c&&c[2]?b=c[2]:this.gnetError="Could not find dashboard",this.backendSrv.get("api/gnet/dashboards/"+b).then(function(b){a.gnetInfo=b,b.json.gnetId=b.id,a.onUpload(b.json)})["catch"](function(b){b.isHandled=!0,a.gnetError=b.data.message||b})},a.prototype.back=function(){this.gnetUrl="",this.step=1,this.gnetError="",this.gnetInfo=""},a}(),a("DashImportCtrl",f),c["default"].directive("dashImport",b)}}}),System.register("app/features/dashboard/dynamic_dashboard_srv.js",["angular","lodash","app/core/core_module"],function(a){var b,c,d,e;return{setters:[function(a){b=a},function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(){}return a.prototype.init=function(a){a.snapshot||this.process(a,{})},a.prototype.update=function(a){a.snapshot||this.process(a,{})},a.prototype.process=function(a,b){if(0!==a.templating.list.length){this.dashboard=a,this.iteration=(this.iteration||(new Date).getTime())+1;var d,e,f,g,h=b.cleanUpOnly;for(d=0;d<this.dashboard.rows.length;d++){if(f=this.dashboard.rows[d],f.repeat)h||this.repeatRow(f,d);else if(f.repeatRowId&&f.repeatIteration!==this.iteration){this.dashboard.rows.splice(d,1),d-=1;continue}for(e=0;e<f.panels.length;e++)g=f.panels[e],g.repeat?h||this.repeatPanel(g,f):g.repeatPanelId&&g.repeatIteration!==this.iteration?(f.panels=c["default"].without(f.panels,g),e-=1):c["default"].isEmpty(g.scopedVars)||g.repeatIteration===this.iteration||(g.scopedVars={})}}},a.prototype.getRowClone=function(a,c,d){if(0===c)return a;var e,f,g,h,i=d+1;for(e=0;e<this.dashboard.rows.length;e++)if(g=this.dashboard.rows[e],g.repeatRowId===i&&g.repeatIteration!==this.iteration){h=g;break}if(!h)for(h=b["default"].copy(a),this.dashboard.rows.splice(d+c,0,h),e=0;e<h.panels.length;e++)f=h.panels[e],f.id=this.dashboard.getNextPanelId();return h.repeat=null,h.repeatRowId=i,h.repeatIteration=this.iteration,h},a.prototype.repeatRow=function(a,b){var d=this,e=this.dashboard.templating.list,f=c["default"].findWhere(e,{name:a.repeat});if(f){var g,h,i,j;g="All"===f.current.text?f.options.slice(1,f.options.length):c["default"].filter(f.options,{selected:!0}),c["default"].each(g,function(c,e){for(h=d.getRowClone(a,e,b),h.scopedVars={},h.scopedVars[f.name]=c,i=0;i<h.panels.length;i++)j=h.panels[i],j.scopedVars={},j.scopedVars[f.name]=c,j.repeatIteration=d.iteration})}},a.prototype.getPanelClone=function(a,c,d){if(0===d)return a;var e,f,g,h;for(e=0;e<c.panels.length;e++)if(g=c.panels[e],g.repeatIteration!==this.iteration&&g.repeatPanelId===a.id){h=g;break}return h||(h={id:this.dashboard.getNextPanelId()},c.panels.push(h)),f=h.id,b["default"].copy(a,h),h.id=f,h.repeatIteration=this.iteration,h.repeatPanelId=a.id,h.repeat=null,h},a.prototype.repeatPanel=function(a,b){var d=this,e=this.dashboard.templating.list,f=c["default"].findWhere(e,{name:a.repeat});if(f){var g;g="All"===f.current.text?f.options.slice(1,f.options.length):c["default"].filter(f.options,{selected:!0}),c["default"].each(g,function(c,e){var h=d.getPanelClone(a,b,e);h.span=Math.max(12/g.length,a.minSpan),h.scopedVars=h.scopedVars||{},h.scopedVars[f.name]=c})}},a}(),a("DynamicDashboardSrv",e),d["default"].service("dynamicDashboardSrv",e)}}}),System.register("app/features/dashboard/export/exporter.js",["app/core/config","lodash","../dynamic_dashboard_srv"],function(a){var b,c,d,e;return{setters:[function(a){b=a},function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(a){this.datasourceSrv=a}return a.prototype.makeExportable=function(a){var e=this,f=new d.DynamicDashboardSrv;f.process(a,{cleanUpOnly:!0}),a.id=null;for(var g=[],h={},i={},j=[],k=function(a){j.push(e.datasourceSrv.get(a.datasource).then(function(b){var c="DS_"+b.name.replace(" ","_").toUpperCase();i[c]={name:c,label:b.name,description:"",type:"datasource",pluginId:b.meta.id,pluginName:b.meta.name},a.datasource="${"+c+"}",h["datasource"+b.meta.id]={type:"datasource",id:b.meta.id,name:b.meta.name,version:b.meta.info.version||"1.0.0"}}))},l=0,m=a.rows;l<m.length;l++){var n=m[l];c["default"].each(n.panels,function(a){void 0!==a.datasource&&k(a);var c=b["default"].panels[a.type];c&&(h["panel"+c.id]={type:"panel",id:c.id,name:c.name,version:c.info.version})})}for(var o=0,p=a.templating.list;o<p.length;o++){var q=p[o];"query"===q.type&&(k(q),q.options=[],q.current={},q.refresh=1)}for(var r=0,s=a.annotations.list;r<s.length;r++){var t=s[r];k(t)}return h.grafana={type:"grafana",id:"grafana",name:"Grafana",version:b["default"].buildInfo.version},Promise.all(j).then(function(){c["default"].each(i,function(a,b){g.push(a)});for(var b=0,d=a.templating.list;b<d.length;b++){var e=d[b];if("constant"===e.type){var f="VAR_"+e.name.replace(" ","_").toUpperCase();g.push({name:f,type:"constant",label:e.label||e.name,value:e.current.value,description:""}),e.query="${"+f+"}",e.options[0]=e.current={value:e.query,text:e.query}}}h=c["default"].map(h,function(a){return a});var j={};return j.__inputs=g,j.__requires=h,c["default"].defaults(j,a),j})["catch"](function(a){return console.log("Export failed:",a),{error:a}})},a}(),a("DashboardExporter",e)}}}),System.register("app/features/dashboard/export/export_modal.js",["angular","app/core/core_module","./exporter"],function(a){function b(){return{restrict:"E",templateUrl:"public/app/features/dashboard/export/export_modal.html",controller:f,bindToController:!0,controllerAs:"ctrl"}}var c,d,e,f;return a("dashExportDirective",b),{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a,b,c,d){var f=this;this.backendSrv=a,this.exporter=new e.DashboardExporter(c);var g=b.getCurrent().getSaveModelClone();this.exporter.makeExportable(g).then(function(a){d.$apply(function(){f.dash=a})})}return a.$inject=["backendSrv","dashboardSrv","datasourceSrv","$scope"],a.prototype.save=function(){var a=new Blob([c["default"].toJson(this.dash,!0)],{type:"application/json;charset=utf-8"}),b=window;b.saveAs(a,this.dash.title+"-"+(new Date).getTime()+".json")},a.prototype.saveJson=function(){var a=c["default"].toJson(this.dash,!0),b="data:application/json,"+encodeURIComponent(a);window.open(b)},a}(),a("DashExportCtrl",f),d["default"].directive("dashExportModal",b)}}}),System.register("app/features/dashboard/dash_list_ctrl.js",["app/core/core_module"],function(a){var b,c;return{setters:[function(a){b=a}],execute:function(){c=function(){function a(){}return a}(),a("DashListCtrl",c),b["default"].controller("DashListCtrl",c)}}}),function(){var a=System.amdDefine;a("app/features/dashboard/all.js",["./dashboard_ctrl","./dashboardLoaderSrv","./dashnav/dashnav","./submenu/submenu","./saveDashboardAsCtrl","./rowCtrl","./shareModalCtrl","./shareSnapshotCtrl","./dashboardSrv","./keybindings","./viewStateSrv","./timeSrv","./unsavedChangesSrv","./timepicker/timepicker","./graphiteImportCtrl","./importCtrl","./impression_store","./upload","./import/dash_import","./export/export_modal","./dash_list_ctrl"],function(){})}(),System.register("app/features/playlist/playlists_ctrl.js",["lodash","../../core/core_module"],function(a){var b,c,d;return{setters:[function(a){b=a},function(a){c=a}],execute:function(){d=function(){function a(a,b,c){var d=this;this.$scope=a,this.$location=b,this.backendSrv=c,c.get("/api/playlists").then(function(a){d.playlists=a})}return a.$inject=["$scope","$location","backendSrv"],a.prototype.removePlaylistConfirmed=function(a){var c=this;b["default"].remove(this.playlists,{id:a.id}),this.backendSrv["delete"]("/api/playlists/"+a.id).then(function(){c.$scope.appEvent("alert-success",["Playlist deleted",""])},function(){c.$scope.appEvent("alert-error",["Unable to delete playlist",""]),c.playlists.push(a)})},a.prototype.removePlaylist=function(a){var b=this;this.$scope.appEvent("confirm-modal",{title:"Delete",text:"Are you sure you want to delete playlist "+a.name+"?",yesText:"Delete",icon:"fa-trash",onConfirm:function(){b.removePlaylistConfirmed(a)}})},a}(),a("PlaylistsCtrl",d),c["default"].controller("PlaylistsCtrl",d)}}}),System.register("app/features/playlist/playlist_search.js",["../../core/core_module"],function(a){function b(){return{restrict:"E",templateUrl:"public/app/features/playlist/partials/playlist_search.html",controller:d,bindToController:!0,controllerAs:"ctrl",scope:{searchStarted:"&"}}}var c,d;return a("playlistSearchDirective",b),{setters:[function(a){c=a}],execute:function(){d=function(){function a(a,b,c,d,e){var f=this;this.$scope=a,this.$location=b,this.$timeout=c,this.backendSrv=d,this.contextSrv=e,this.query={query:"",tag:[],starred:!1},c(function(){f.query.query="",f.searchDashboards()},100)}return a.$inject=["$scope","$location","$timeout","backendSrv","contextSrv"],a.prototype.searchDashboards=function(){this.tagsMode=!1;var a={};a.promise=this.backendSrv.search(this.query).then(function(a){return{dashboardResult:a,tagResult:[]}}),this.searchStarted(a)},a.prototype.showStarred=function(){this.query.starred=!this.query.starred,this.searchDashboards()},a.prototype.queryHasNoFilters=function(){return""===this.query.query&&this.query.starred===!1&&0===this.query.tag.length},a.prototype.filterByTag=function(a,b){this.query.tag.push(a),this.searchDashboards(),b&&(b.stopPropagation(),b.preventDefault())},a.prototype.getTags=function(){var a={};a.promise=this.backendSrv.get("/api/dashboards/tags").then(function(a){return{dashboardResult:[],tagResult:a}}),this.searchStarted(a)},a}(),a("PlaylistSearchCtrl",d),c["default"].directive("playlistSearch",b)}}}),System.register("app/features/playlist/playlist_srv.js",["app/core/config","../../core/core_module","app/core/utils/kbn"],function(a){var b,c,d,e;return{setters:[function(a){b=a},function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(a,b,c,d){this.$rootScope=a,this.$location=b,this.$timeout=c,this.backendSrv=d}return a.$inject=["$rootScope","$location","$timeout","backendSrv"],a.prototype.next=function(){var a=this;this.$timeout.cancel(this.cancelPromise);var c=this.index>this.dashboards.length-1;if(c)window.location.href=b["default"].appSubUrl+"/playlists/play/"+this.playlistId;else{var d=this.dashboards[this.index];this.$location.url("dashboard/"+d.uri),this.index++,this.cancelPromise=this.$timeout(function(){return a.next()},this.interval)}},a.prototype.prev=function(){this.index=Math.max(this.index-2,0),this.next()},a.prototype.start=function(a){var b=this;this.stop(),this.index=0,this.playlistId=a,this.$rootScope.playlistSrv=this,this.backendSrv.get("/api/playlists/"+a).then(function(c){b.backendSrv.get("/api/playlists/"+a+"/dashboards").then(function(a){b.dashboards=a,b.interval=d["default"].interval_to_ms(c.interval),b.next()})})},a.prototype.stop=function(){this.index=0,this.playlistId=0,this.cancelPromise&&this.$timeout.cancel(this.cancelPromise),this.$rootScope.playlistSrv=null},a}(),c["default"].service("playlistSrv",e)}}}),System.register("app/features/playlist/playlist_edit_ctrl.js",["lodash","../../core/core_module"],function(a){var b,c,d;return{setters:[function(a){b=a},function(a){c=a}],execute:function(){d=function(){function a(a,b,c,d,e){var f=this;if(this.$scope=a,this.playlistSrv=b,this.backendSrv=c,this.$location=d,this.$route=e,this.filteredDashboards=[],this.filteredTags=[],this.searchQuery="",this.loading=!1,this.playlist={interval:"5m"},this.playlistItems=[],this.dashboardresult=[],this.tagresult=[],e.current.params.id){var g=e.current.params.id;c.get("/api/playlists/"+g).then(function(a){f.playlist=a}),c.get("/api/playlists/"+g+"/items").then(function(a){f.playlistItems=a})}}return a.$inject=["$scope","playlistSrv","backendSrv","$location","$route"],a.prototype.filterFoundPlaylistItems=function(){var a=this;this.filteredDashboards=b["default"].reject(this.dashboardresult,function(c){return b["default"].findWhere(a.playlistItems,function(a){return parseInt(a.value)===c.id})}),this.filteredTags=b["default"].reject(this.tagresult,function(c){return b["default"].findWhere(a.playlistItems,function(a){return a.value===c.term})})},a.prototype.addPlaylistItem=function(a){a.value=a.id.toString(),a.type="dashboard_by_id",a.order=this.playlistItems.length+1,this.playlistItems.push(a),this.filterFoundPlaylistItems()},a.prototype.addTagPlaylistItem=function(a){var b={value:a.term,type:"dashboard_by_tag",order:this.playlistItems.length+1,title:a.term};this.playlistItems.push(b),this.filterFoundPlaylistItems()},a.prototype.removePlaylistItem=function(a){b["default"].remove(this.playlistItems,function(b){return a===b}),this.filterFoundPlaylistItems()},a.prototype.savePlaylist=function(a,b){var c,d=this;a.items=b,c=a.id?this.backendSrv.put("/api/playlists/"+a.id,a):this.backendSrv.post("/api/playlists",a),c.then(function(){d.$scope.appEvent("alert-success",["Playlist saved",""]),d.$location.path("/playlists")},function(){d.$scope.appEvent("alert-error",["Unable to save playlist",""])})},a.prototype.isNew=function(){return!this.playlist.id},a.prototype.isPlaylistEmpty=function(){return!this.playlistItems.length},a.prototype.backToList=function(){this.$location.path("/playlists")},a.prototype.searchStarted=function(a){var b=this;a.then(function(a){b.dashboardresult=a.dashboardResult,b.tagresult=a.tagResult,b.filterFoundPlaylistItems()})},a.prototype.movePlaylistItem=function(a,b){var c=this.playlistItems.indexOf(a),d=c+b;d>=0&&d<this.playlistItems.length&&(this.playlistItems.splice(c,1),this.playlistItems.splice(d,0,a))},a.prototype.movePlaylistItemUp=function(a){this.movePlaylistItem(a,-1)},a.prototype.movePlaylistItemDown=function(a){this.movePlaylistItem(a,1)},a}(),a("PlaylistEditCtrl",d),c["default"].controller("PlaylistEditCtrl",d)}}}),function(){var a=System.amdDefine;a("app/features/playlist/playlist_routes.js",["angular","app/core/config","lodash"],function(a){"use strict";var b=a.module("grafana.routes");b.config(["$routeProvider",function(a){a.when("/playlists",{templateUrl:"public/app/features/playlist/partials/playlists.html",controllerAs:"ctrl",controller:"PlaylistsCtrl"}).when("/playlists/create",{templateUrl:"public/app/features/playlist/partials/playlist.html",controllerAs:"ctrl",controller:"PlaylistEditCtrl"}).when("/playlists/edit/:id",{templateUrl:"public/app/features/playlist/partials/playlist.html",controllerAs:"ctrl",controller:"PlaylistEditCtrl"}).when("/playlists/play/:id",{templateUrl:"public/app/features/playlist/partials/playlists.html",controllerAs:"ctrl",controller:"PlaylistsCtrl",resolve:{init:["playlistSrv","$route",function(a,b){var c=b.current.params.id;a.start(c)}]}})}])})}(),function(){var a=System.amdDefine;a("app/features/playlist/all.js",["./playlists_ctrl","./playlist_search","./playlist_srv","./playlist_edit_ctrl","./playlist_routes"],function(){})}(),System.register("app/features/snapshot/snapshot_ctrl.js",["angular","lodash"],function(a){var b,c,d;return{setters:[function(a){b=a},function(a){c=a}],execute:function(){d=function(){function a(a,b){var c=this;this.$rootScope=a,this.backendSrv=b,this.backendSrv.get("/api/dashboard/snapshots").then(function(a){c.snapshots=a})}return a.$inject=["$rootScope","backendSrv"],a.prototype.removeSnapshotConfirmed=function(a){var b=this;c["default"].remove(this.snapshots,{key:a.key}),this.backendSrv.get("/api/snapshots-delete/"+a.deleteKey).then(function(){b.$rootScope.appEvent("alert-success",["Snapshot deleted",""])},function(){b.$rootScope.appEvent("alert-error",["Unable to delete snapshot",""]),b.snapshots.push(a)})},a.prototype.removeSnapshot=function(a){var b=this;this.$rootScope.appEvent("confirm-modal",{title:"Delete",text:"Are you sure you want to delete snapshot "+a.name+"?",yesText:"Delete",icon:"fa-trash",onConfirm:function(){b.removeSnapshotConfirmed(a)}})},a}(),a("SnapshotsCtrl",d),b["default"].module("grafana.controllers").controller("SnapshotsCtrl",d)}}}),System.register("app/features/snapshot/all.js",["./snapshot_ctrl"],function(a){return{setters:[function(a){}],execute:function(){}}}),function(){var a=System.amdDefine;a("app/features/panel/panel_menu.js",["angular","jquery","lodash","tether"],function(a,b,c,d){"use strict";a.module("grafana.directives").directive("panelMenu",["$compile","linkSrv",function(a,e){function f(a){var b='<div class="panel-menu small">';return b+='<div class="panel-menu-row">',a.panel.links&&c.each(a.panel.links,function(c){var d=e.getPanelLinkAnchorInfo(c,a.panel.scopedVars);b+='<a class="panel-menu-link" href="'+d.href+'" target="'+d.target+'">'+d.title+"</a>"}),b}function g(a){var b='<div class="panel-menu small">';return a.dashboard.meta.canEdit&&(b+='<div class="panel-menu-inner">',b+='<div class="panel-menu-row">',a.dashboard.meta.fullscreen||(b+='<a class="panel-menu-icon pull-left" ng-click="ctrl.updateColumnSpan(-1)"><i class="fa fa-minus"></i></a>',b+='<a class="panel-menu-icon pull-left" ng-click="ctrl.updateColumnSpan(1)"><i class="fa fa-plus"></i></a>'),b+='<a class="panel-menu-icon pull-right" ng-click="ctrl.removePanel()"><i class="fa fa-trash"></i></a>',b+='<div class="clearfix"></div>',b+="</div>"),b+='<div class="panel-menu-row">',b+='<a class="panel-menu-link" gf-dropdown="extendedMenu"><i class="fa fa-bars"></i></a>',c.each(a.getMenu(),function(c){("Editor"!==c.role||a.dashboard.meta.canEdit)&&(b+='<a class="panel-menu-link" ',c.click&&(b+=' ng-click="'+c.click+'"'),c.href&&(b+=' href="'+c.href+'"'),b+=">",b+=c.text+"</a>")}),b+="</div>",b+="</div>",b+="</div>"}function h(a){return a.getExtendedMenu()}var i='<span class="panel-title drag-handle pointer"><span class="panel-title-text drag-handle">{{ctrl.panel.title | interpolateTemplateVars:this}}</span><span class="panel-links-btn"><i class="fa fa-external-link"></i></span><span class="panel-time-info" ng-show="ctrl.timeInfo"><i class="fa fa-clock-o"></i> {{ctrl.timeInfo}}</span></span>';return{restrict:"A",link:function(c,e){function j(a,b){return clearTimeout(q),q=null,a?void(q=setTimeout(j,a)):b!==!0&&(r.is(":hover")||c.ctrl.dashboard.$$panelDragging)?void j(2200):void(o&&(k.destroy(),r.unbind(),r.remove(),o.$destroy(),o=null,r=null,n.removeClass("panel-highlight")))}var k,l=b(i),m=l.find(".panel-links-btn"),n=e.parents(".panel-container"),o=null,p=c.ctrl,q=null,r=null;e.append(l),c.$watchCollection("ctrl.panel.links",function(a){var b=!!a&&a.length>0&&""!==p.panel.title;m.toggle(b)});var s=function(i){if(b.contains(document,i.target)){if(r)return void j();var l;l=b(i.target).hasClass("fa-external-link")?f(p):g(p),r=b(l),r.mouseleave(function(){j(1e3)}),o=c.$new(),o.extendedMenu=h(p),o.dismiss=function(){j(null,!0)},b(".panel-container").removeClass("panel-highlight"),n.toggleClass("panel-highlight"),b(".panel-menu").remove(),e.append(r),c.$apply(function(){a(r.contents())(o),k=new d({element:r,target:n,attachment:"bottom center",targetAttachment:"top center",constraints:[{to:"window",attachment:"together",pin:!0}]})}),j(2200)}};e.click(s),a(e.contents())(c)}}}])})}(),System.register("app/features/panel/panel_directive.js",["angular","jquery"],function(a){var b,c,d,e;return{setters:[function(a){b=a},function(a){c=a}],execute:function(){d=b["default"].module("grafana.directives"),e='\n  <div class="panel-container" ng-class="{\'panel-transparent\': ctrl.panel.transparent}">\n    <div class="panel-header">\n      <span class="alert-error panel-error small pointer" ng-if="ctrl.error" ng-click="ctrl.openInspector()">\n        <span data-placement="top" bs-tooltip="ctrl.error">\n          <i class="fa fa-exclamation"></i><span class="panel-error-arrow"></span>\n        </span>\n      </span>\n\n      <span class="panel-loading" ng-show="ctrl.loading">\n        <i class="fa fa-spinner fa-spin"></i>\n      </span>\n\n      <div class="panel-title-container drag-handle" panel-menu></div>\n    </div>\n\n    <div class="panel-content">\n      <ng-transclude></ng-transclude>\n    </div>\n    <panel-resizer></panel-resizer>\n  </div>\n\n  <div class="panel-full-edit" ng-if="ctrl.editMode">\n    <div class="tabbed-view tabbed-view--panel-edit">\n      <div class="tabbed-view-header">\n        <h2 class="tabbed-view-title">\n          {{ctrl.pluginName}}\n        </h2>\n\n        <ul class="gf-tabs">\n          <li class="gf-tabs-item" ng-repeat="tab in ::ctrl.editorTabs">\n            <a class="gf-tabs-link" ng-click="ctrl.changeTab($index)" ng-class="{active: ctrl.editorTabIndex === $index}">\n              {{::tab.title}}\n            </a>\n          </li>\n        </ul>\n\n        <button class="tabbed-view-close-btn" ng-click="ctrl.exitFullscreen();">\n          <i class="fa fa-remove"></i>\n        </button>\n      </div>\n\n      <div class="tabbed-view-body">\n        <div ng-repeat="tab in ctrl.editorTabs" ng-if="ctrl.editorTabIndex === $index">\n          <panel-editor-tab editor-tab="tab" ctrl="ctrl" index="$index"></panel-editor-tab>\n        </div>\n      </div>\n    </div>\n  </div>\n',
d.directive("grafanaPanel",function(){return{restrict:"E",template:e,transclude:!0,scope:{ctrl:"="},link:function(a,b){var c=b.find(".panel-container"),d=a.ctrl;a.$watchGroup(["ctrl.fullscreen","ctrl.containerHeight"],function(){c.css({minHeight:d.containerHeight}),b.toggleClass("panel-fullscreen",!!d.fullscreen)})}}}),d.directive("panelResizer",["$rootScope",function(a){return{restrict:"E",template:'<span class="resize-panel-handle"></span>',link:function(b,d){function e(a){a.preventDefault(),m=!0,i=c["default"](a.target).offset(),j=parseInt(n.row.height),k=n.panel.span,l=c["default"](document).width(),h=n.row.panels[n.row.panels.length-1],c["default"]("body").on("mousemove",f),c["default"]("body").on("mouseup",g)}function f(a){n.row.height=j+(a.pageY-i.top),n.panel.span=k+(a.pageX-i.left)/l*12,n.panel.span=Math.min(Math.max(n.panel.span,1),12);var c=n.dashboard.rowSpan(n.row);Math.floor(c)<14&&(h===n.panel&&c>12?h.span-=c-12:h!==n.panel&&(h.span=h.span-(c-12),h.span=Math.min(Math.max(h.span,1),12))),b.$apply(function(){n.render()})}function g(){var d=n.dashboard.rowSpan(n.row);d<12&&d>11&&(h.span+=12-d),b.$apply(function(){a.$broadcast("render")}),c["default"]("body").off("mousemove",f),c["default"]("body").off("mouseup",g)}var h,i,j,k,l,m=!1,n=b.ctrl;d.on("mousedown",e),b.$on("$destroy",function(){d.off("mousedown",e)})}}}])}}}),function(){var a=System.amdDefine;a("app/features/panel/solo_panel_ctrl.js",["angular","jquery"],function(a,b){"use strict";var c=a.module("grafana.routes");c.controller("SoloPanelCtrl",["$scope","$routeParams","$location","dashboardLoaderSrv","contextSrv",function(a,c,d,e,f){var g;a.init=function(){f.sidemenu=!1;var b=d.search();g=parseInt(b.panelId),a.onAppEvent("dashboard-initialized",a.initPanelScope),e.loadDashboard(c.type,c.slug).then(function(b){b.meta.soloMode=!0,a.initDashboard(b,a)})},a.initPanelScope=function(){return a.row={height:b(window).height()+"px"},a.test="Hej",a.$index=0,a.panel=a.dashboard.getPanelById(g),a.panel?void(a.panel.span=12):void a.appEvent("alert-error",["Panel not found",""])},a.init()}])})}(),System.register("app/features/panel/panel_editor_tab.js",["angular"],function(a){function b(a){return a.create({scope:{ctrl:"=",editorTab:"=",index:"="},directive:function(a){var b=a.ctrl.pluginId,c=a.index;return Promise.resolve({name:"panel-editor-tab-"+b+c,fn:a.editorTab.directiveFn})}})}b.$inject=["dynamicDirectiveSrv"];var c,d;return{setters:[function(a){c=a}],execute:function(){d=c["default"].module("grafana.directives"),d.directive("panelEditorTab",b)}}}),System.register("app/features/panel/query_editor_row.js",["angular","lodash"],function(a){function b(){return{restrict:"E",controller:f,bindToController:!0,controllerAs:"ctrl",templateUrl:"public/app/features/panel/partials/query_editor_row.html",transclude:!0,scope:{queryCtrl:"=",canCollapse:"=",hasTextEditMode:"="}}}var c,d,e,f;return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=c["default"].module("grafana.directives"),f=function(){function a(){this.panelCtrl=this.queryCtrl.panelCtrl,this.target=this.queryCtrl.target,this.panel=this.panelCtrl.panel,this.target.refId||(this.target.refId=this.getNextQueryLetter()),this.toggleCollapse(!0),this.target.isNew&&(delete this.target.isNew,this.toggleCollapse(!1))}return a.prototype.toggleHideQuery=function(){this.target.hide=!this.target.hide,this.panelCtrl.refresh()},a.prototype.getNextQueryLetter=function(){var a=this,b="ABCDEFGHIJKLMNOPQRSTUVWXYZ";return d["default"].find(b,function(b){return d["default"].every(a.panel.targets,function(a){return a.refId!==b})})},a.prototype.toggleCollapse=function(a){if(this.canCollapse){this.panelCtrl.__collapsedQueryCache||(this.panelCtrl.__collapsedQueryCache={}),a?this.collapsed=this.panelCtrl.__collapsedQueryCache[this.target.refId]!==!1:(this.collapsed=!this.collapsed,this.panelCtrl.__collapsedQueryCache[this.target.refId]=this.collapsed);try{this.collapsedText=this.queryCtrl.getCollapsedText()}catch(b){var c=b.message||b.toString();this.collapsedText="Error: "+c}}},a.prototype.toggleEditorMode=function(){this.canCollapse&&this.collapsed&&(this.collapsed=!1),this.queryCtrl.toggleEditorMode()},a.prototype.removeQuery=function(){this.panelCtrl.__collapsedQueryCache&&delete this.panelCtrl.__collapsedQueryCache[this.target.refId],this.panel.targets=d["default"].without(this.panel.targets,this.target),this.panelCtrl.refresh()},a.prototype.duplicateQuery=function(){var a=c["default"].copy(this.target);a.refId=this.getNextQueryLetter(),this.panel.targets.push(a)},a.prototype.moveQuery=function(a){var b=d["default"].indexOf(this.panel.targets,this.target);d["default"].move(this.panel.targets,b,b+a)},a}(),a("QueryRowCtrl",f),e.directive("queryEditorRow",b)}}}),System.register("app/features/panel/metrics_ds_selector.js",["angular","lodash"],function(a){var b,c,d,e,f;return{setters:[function(a){b=a},function(a){c=a}],execute:function(){d=b["default"].module("grafana.directives"),e='\n<div class="gf-form-group">\n  <div class="gf-form-inline">\n    <div class="gf-form">\n      <label class="gf-form-label">\n        <i class="icon-gf icon-gf-datasources"></i>\n      </label>\n      <label class="gf-form-label">\n        Panel data source\n      </label>\n\n      <metric-segment segment="ctrl.dsSegment" style-mode="select"\n                      get-options="ctrl.getOptions()"\n                      on-change="ctrl.datasourceChanged()"></metric-segment>\n    </div>\n\n    <div class="gf-form gf-form--offset-1">\n      <button class="btn btn-inverse gf-form-btn" ng-click="ctrl.addDataQuery()" ng-hide="ctrl.current.meta.mixed">\n        <i class="fa fa-plus"></i>&nbsp;\n        Add query\n      </button>\n\n      <div class="dropdown" ng-if="ctrl.current.meta.mixed">\n        <button class="btn btn-inverse dropdown-toggle gf-form-btn" data-toggle="dropdown">\n          Add Query&nbsp;<span class="fa fa-caret-down"></span>\n        </button>\n\n        <ul class="dropdown-menu" role="menu">\n          <li ng-repeat="datasource in ctrl.datasources" role="menuitem" ng-hide="datasource.meta.builtIn">\n            <a ng-click="ctrl.addDataQuery(datasource);">{{datasource.name}}</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n',f=function(){function a(a,b){this.uiSegmentSrv=a,this.datasources=b.getMetricSources();for(var c=this.panelCtrl.panel.datasource||null,d=0,e=this.datasources;d<e.length;d++){var f=e[d];f.value===c&&(this.current=f)}this.current||(this.current={name:c+" not found",value:null}),this.dsSegment=a.newSegment(this.current.name)}return a.$inject=["uiSegmentSrv","datasourceSrv"],a.prototype.getOptions=function(){var a=this;return Promise.resolve(this.datasources.map(function(b){return a.uiSegmentSrv.newSegment(b.name)}))},a.prototype.datasourceChanged=function(){var a=c["default"].findWhere(this.datasources,{name:this.dsSegment.value});a&&(this.current=a,this.panelCtrl.setDatasource(a))},a.prototype.addDataQuery=function(a){var b={isNew:!0};a&&(b.datasource=a.name),this.panelCtrl.panel.targets.push(b)},a}(),a("MetricsDsSelectorCtrl",f),d.directive("metricsDsSelector",function(){return{restrict:"E",template:e,controller:f,bindToController:!0,controllerAs:"ctrl",transclude:!0,scope:{panelCtrl:"="}}})}}}),function(){var a=System.amdDefine;a("app/features/panel/all.js",["./panel_menu","./panel_directive","./solo_panel_ctrl","./query_ctrl","./panel_editor_tab","./query_editor_row","./metrics_ds_selector"],function(){})}(),System.register("app/features/styleguide/styleguide.js",["app/core/core_module","app/core/config","lodash"],function(a){var b,c,d,e;return{setters:[function(a){b=a},function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(a,b){this.$http=a,this.colors=[],this.buttonNames=["primary","secondary","inverse","success","warning","danger"],this.buttonSizes=["btn-small","","btn-large"],this.buttonVariants=["-","-outline-"],this.pages=["colors","buttons"],this.theme=c["default"].bootData.user.lightTheme?"light":"dark",this.page={},b.page?this.page[b.page]=1:this.page.colors=!0,this.page.colors&&this.loadColors()}return a.$inject=["$http","$routeParams"],a.prototype.loadColors=function(){var a=this;this.$http.get("public/sass/styleguide.json").then(function(b){a.colors=d["default"].map(b.data[a.theme],function(a,b){return{name:b,value:a}})})},a.prototype.switchTheme=function(){var a="dark"===this.theme?"light":"dark";window.location.href=window.location.href+"?theme="+a},a}(),b["default"].controller("StyleGuideCtrl",e)}}}),function(){var a=System.amdDefine;a("app/features/all.js",["./panellinks/module","./dashlinks/module","./annotations/annotations_srv","./templating/templateSrv","./dashboard/all","./playlist/all","./snapshot/all","./panel/all","./styleguide/styleguide"],function(){})}(),function(){var a=System.amdDefine;a("app/plugins/datasource/elasticsearch/query_builder.js",["./query_def"],function(a){"use strict";function b(a){this.timeField=a.timeField,this.esVersion=a.esVersion}return b.prototype.getRangeFilter=function(){var a={};return a[this.timeField]={gte:"$timeFrom",lte:"$timeTo"},this.esVersion>=2&&(a[this.timeField].format="epoch_millis"),a},b.prototype.buildTermsAgg=function(a,b,c){var d,e,f;if(b.terms={field:a.field},!a.settings)return b;if(b.terms.size=parseInt(a.settings.size,10),void 0!==a.settings.orderBy&&(b.terms.order={},b.terms.order[a.settings.orderBy]=a.settings.order,d=parseInt(a.settings.orderBy,10),!isNaN(d)))for(f=0;f<c.metrics.length;f++)if(e=c.metrics[f],e.id===a.settings.orderBy){b.aggs={},b.aggs[e.id]={},b.aggs[e.id][e.type]={field:e.field};break}return b},b.prototype.getDateHistogramAgg=function(a){var b={},c=a.settings||{};return b.interval=c.interval,b.field=this.timeField,b.min_doc_count=c.min_doc_count||0,b.extended_bounds={min:"$timeFrom",max:"$timeTo"},"auto"===b.interval&&(b.interval="$interval"),this.esVersion>=2&&(b.format="epoch_millis"),b},b.prototype.getFiltersAgg=function(a){for(var b={},c=0;c<a.settings.filters.length;c++){var d=a.settings.filters[c].query;b[d]={query:{query_string:{query:d,analyze_wildcard:!0}}}}return b},b.prototype.documentQuery=function(a){return a.size=500,a.sort={},a.sort[this.timeField]={order:"desc",unmapped_type:"boolean"},a.fields=["*","_source"],a.script_fields={},a.fielddata_fields=[this.timeField],a},b.prototype.build=function(b){b.metrics=b.metrics||[{type:"count",id:"1"}],b.dsType="elasticsearch",b.bucketAggs=b.bucketAggs||[{type:"date_histogram",id:"2",settings:{interval:"auto"}}],b.timeField=this.timeField;var c,d,e,f={size:0,query:{filtered:{query:{query_string:{analyze_wildcard:!0,query:"$lucene_query"}},filter:{bool:{must:[{range:this.getRangeFilter()}]}}}}};if(0===b.bucketAggs.length){if(e=b.metrics[0],e&&"raw_document"!==e.type)throw{message:"Invalid query"};return this.documentQuery(f,b)}for(d=f,c=0;c<b.bucketAggs.length;c++){var g=b.bucketAggs[c],h={};switch(g.type){case"date_histogram":h.date_histogram=this.getDateHistogramAgg(g);break;case"filters":h.filters={filters:this.getFiltersAgg(g)};break;case"terms":this.buildTermsAgg(g,h,b);break;case"geohash_grid":h.geohash_grid={field:g.field,precision:g.settings.precision}}d.aggs=d.aggs||{},d.aggs[g.id]=h,d=h}for(d.aggs={},c=0;c<b.metrics.length;c++)if(e=b.metrics[c],"count"!==e.type){var i={},j=null;if(a.isPipelineAgg(e.type)){if(!e.pipelineAgg||!/^\d*$/.test(e.pipelineAgg))continue;j={buckets_path:e.pipelineAgg}}else j={field:e.field};for(var k in e.settings)e.settings.hasOwnProperty(k)&&null!==e.settings[k]&&(j[k]=e.settings[k]);i[e.type]=j,d.aggs[e.id]=i}return f},b.prototype.getTermsQuery=function(a){var b={size:0,query:{filtered:{query:{query_string:{analyze_wildcard:!0,query:"$lucene_query"}},filter:{bool:{must:[{range:this.getRangeFilter()}]}}}}};return b.aggs={1:{terms:{field:a.field,size:0,order:{_term:"asc"}}}},b},b})}(),function(){var a=System.amdDefine;a("app/plugins/datasource/elasticsearch/index_pattern.js",["lodash","moment"],function(a,b){"use strict";function c(a,b){this.pattern=a,this.interval=b}return c.intervalMap={Hourly:{startOf:"hour",amount:"hours"},Daily:{startOf:"day",amount:"days"},Weekly:{startOf:"isoWeek",amount:"weeks"},Monthly:{startOf:"month",amount:"months"},Yearly:{startOf:"year",amount:"years"}},c.prototype.getIndexForToday=function(){return this.interval?b.utc().format(this.pattern):this.pattern},c.prototype.getIndexList=function(a,d){if(!this.interval)return this.pattern;for(var e=c.intervalMap[this.interval],f=b(a).utc().startOf(e.startOf),g=b(d).utc().startOf(e.startOf).valueOf(),h=[];f<=g;)h.push(f.format(this.pattern)),f.add(1,e.amount);return h},c})}(),function(){var a=System.amdDefine;a("app/plugins/datasource/elasticsearch/elastic_response.js",["lodash","./query_def"],function(a,b){"use strict";function c(a,b){this.targets=a,this.response=b}return c.prototype.processMetrics=function(a,b,c,d){var e,f,g,h,i,j;for(f=0;f<b.metrics.length;f++)if(e=b.metrics[f],!e.hide)switch(e.type){case"count":for(h={datapoints:[],metric:"count",props:d},g=0;g<a.buckets.length;g++)i=a.buckets[g],j=i.doc_count,h.datapoints.push([j,i.key]);c.push(h);break;case"percentiles":if(0===a.buckets.length)break;var k=a.buckets[0],l=k[e.id].values;for(var m in l){for(h={datapoints:[],metric:"p"+m,props:d,field:e.field},g=0;g<a.buckets.length;g++){i=a.buckets[g];var n=i[e.id].values;h.datapoints.push([n[m],i.key])}c.push(h)}break;case"extended_stats":for(var o in e.meta)if(e.meta[o]){for(h={datapoints:[],metric:o,props:d,field:e.field},g=0;g<a.buckets.length;g++){i=a.buckets[g];var p=i[e.id];p.std_deviation_bounds_upper=p.std_deviation_bounds.upper,p.std_deviation_bounds_lower=p.std_deviation_bounds.lower,h.datapoints.push([p[o],i.key])}c.push(h)}break;default:for(h={datapoints:[],metric:e.type,field:e.field,props:d},g=0;g<a.buckets.length;g++)i=a.buckets[g],j=i[e.id],void 0!==j&&(j.normalized_value?h.datapoints.push([j.normalized_value,i.key]):h.datapoints.push([j.value,i.key]));c.push(h)}},c.prototype.processAggregationDocs=function(b,c,d,e,f){var g,h,i,j,k,l;for(i=0;i<b.buckets.length;i++){for(j=b.buckets[i],l=a.defaults({},f),l[c.field]=j.key,h=0;h<d.metrics.length;h++)switch(g=d.metrics[h],g.type){case"count":k=this._getMetricName(g.type),l[k]=j.doc_count;break;case"extended_stats":for(var m in g.meta)if(g.meta[m]){var n=j[g.id];n.std_deviation_bounds_upper=n.std_deviation_bounds.upper,n.std_deviation_bounds_lower=n.std_deviation_bounds.lower,k=this._getMetricName(m),l[k]=n[m]}break;default:k=this._getMetricName(g.type),l[k]=j[g.id].value}e.push(l)}},c.prototype.processBuckets=function(b,c,d,e,f,g){var h,i,j,k,l=c.bucketAggs.length-1;for(k in b)if(i=a.findWhere(c.bucketAggs,{id:k}),j=b[k],i)if(g===l)"date_histogram"===i.type?this.processMetrics(j,c,d,f):this.processAggregationDocs(j,i,c,e,f);else for(var m in j.buckets)h=j.buckets[m],f=a.clone(f),h.key?f[i.field]=h.key:f.filter=m,this.processBuckets(h,c,d,e,f,g+1)},c.prototype._getMetricName=function(c){var d=a.findWhere(b.metricAggTypes,{value:c});return d||(d=a.findWhere(b.extendedStats,{value:c})),d?d.text:c},c.prototype._getSeriesName=function(c,d,e){var f=this._getMetricName(c.metric);if(d.alias){var g=/\{\{([\s\S]+?)\}\}/g;return d.alias.replace(g,function(a,b,d){var e=b||d;return 0===e.indexOf("term ")?c.props[e.substring(5)]:c.props[e]?c.props[e]:"metric"===e?f:"field"===e?c.field:a})}if(c.field&&b.isPipelineAgg(c.metric)){var h=a.findWhere(d.metrics,{id:c.field});h?f+=" "+b.describeMetric(h):f="Unset"}else c.field&&(f+=" "+c.field);var i=a.keys(c.props);if(0===i.length)return f;var j="";for(var k in c.props)j+=c.props[k]+" ";return 1===e?j.trim():j.trim()+" "+f},c.prototype.nameSeries=function(b,c){for(var d=a.uniq(a.pluck(b,"metric")).length,e=a.uniq(a.pluck(b,"field")).length,f=0;f<b.length;f++){var g=b[f];g.target=this._getSeriesName(g,c,d,e)}},c.prototype.processHits=function(a,b){var c,d,e,f,g={target:"docs",type:"docs",datapoints:[],total:a.total};for(f=0;f<a.hits.length;f++){if(d=a.hits[f],e={_id:d._id,_type:d._type,_index:d._index},d._source)for(c in d._source)e[c]=d._source[c];for(c in d.fields)e[c]=d.fields[c];g.datapoints.push(e)}b.push(g)},c.prototype.trimDatapoints=function(b,c){var d=a.findWhere(c.bucketAggs,{type:"date_histogram"}),e=d&&d.settings&&d.settings.trimEdges;if(e){var f=d.settings.trimEdges;for(var g in b){var h=b[g];h.datapoints.length>2*f&&(h.datapoints=h.datapoints.slice(f,h.datapoints.length-f))}}},c.prototype.getErrorFromElasticResponse=function(a,b){var c={};return c.data=JSON.stringify(b,null,4),b.root_cause&&b.root_cause.length>0&&b.root_cause[0].reason?c.message=b.root_cause[0].reason:c.message=b.reason||"Unkown elatic error response",a.$$config&&(c.config=a.$$config),c},c.prototype.getTimeSeries=function(){for(var a=[],b=0;b<this.response.responses.length;b++){var c=this.response.responses[b];if(c.error)throw this.getErrorFromElasticResponse(this.response,c.error);if(c.hits&&c.hits.hits.length>0&&this.processHits(c.hits,a),c.aggregations){var d=c.aggregations,e=this.targets[b],f=[],g=[];this.processBuckets(d,e,f,g,{},0),this.trimDatapoints(f,e),this.nameSeries(f,e);for(var h=0;h<f.length;h++)a.push(f[h]);0===a.length&&g.length>0&&a.push({target:"docs",type:"docs",datapoints:g})}}return{data:a}},c})}(),function(){var a=System.amdDefine;a("app/plugins/datasource/elasticsearch/datasource.js",["angular","lodash","moment","app/core/utils/kbn","./query_builder","./index_pattern","./elastic_response","./query_ctrl"],function(a,b,c,d,e,f,g){"use strict";function h(d,h,i,j,k){function l(a){var b=JSON.stringify(a);return b.substr(1,b.length-2)}this.basicAuth=d.basicAuth,this.withCredentials=d.withCredentials,this.url=d.url,this.name=d.name,this.index=d.index,this.timeField=d.jsonData.timeField,this.esVersion=d.jsonData.esVersion,this.indexPattern=new f(d.index,d.jsonData.interval),this.interval=d.jsonData.timeInterval,this.queryBuilder=new e({timeField:this.timeField,esVersion:this.esVersion}),this._request=function(a,b,c){var d={url:this.url+"/"+b,method:a,data:c};return(this.basicAuth||this.withCredentials)&&(d.withCredentials=!0),this.basicAuth&&(d.headers={Authorization:this.basicAuth}),i.datasourceRequest(d)},this._get=function(a){return this._request("GET",this.indexPattern.getIndexForToday()+a).then(function(a){return a.data.$$config=a.config,a.data})},this._post=function(a,b){return this._request("POST",a,b).then(function(a){return a.data.$$config=a.config,a.data})},this.annotationQuery=function(d){var e=d.annotation,f=e.timeField||"@timestamp",g=e.query||"*",h=e.tagsField||"tags",i=e.titleField||"desc",k=e.textField||null,l={};l[f]={from:d.range.from.valueOf(),to:d.range.to.valueOf()},this.esVersion>=2&&(l[f].format="epoch_millis");var m=j.replace(g,{},"lucene"),n={bool:{must:[{range:l}]}},o={bool:{should:[{query_string:{query:m}}]}},p={fields:[f,"_source"],query:{filtered:{query:o,filter:n}},size:1e4},q={search_type:"query_then_fetch",ignore_unavailable:!0};e.index?q.index=e.index:q.index=this.indexPattern.getIndexList(d.range.from,d.range.to);var r=a.toJson(q)+"\n"+a.toJson(p)+"\n";return this._post("_msearch",r).then(function(a){for(var d=[],g=a.responses[0].hits.hits,j=function(a,c){if(c){for(var d=c.split("."),e=a,f=0;f<d.length;f++)if(e=e[d[f]],!e)return console.log("could not find field in annotation: ",c),"";return b.isArray(e)&&(e=e.join(", ")),e}},l=0;l<g.length;l++){var m=g[l]._source,n=g[l].fields,o=m[f];(b.isString(n[f])||b.isNumber(n[f]))&&(o=n[f]);var p={annotation:e,time:c.utc(o).valueOf(),title:j(m,i),tags:j(m,h),text:j(m,k)};d.push(p)}return d})},this.testDatasource=function(){return this._get("/_stats").then(function(){return{status:"success",message:"Data source is working",title:"Success"}},function(b){return b.data&&b.data.error?{status:"error",message:a.toJson(b.data.error),title:"Error"}:{status:"error",message:b.status,title:"Error"}})},this.getQueryHeader=function(b,c,d){var e={search_type:b,ignore_unavailable:!0};return e.index=this.indexPattern.getIndexList(c,d),a.toJson(e)},this.query=function(b){for(var c,d="",e=[],f=0;f<b.targets.length;f++)if(c=b.targets[f],!c.hide){var i=this.queryBuilder.build(c),k=a.toJson(i),l=c.query||"*";l=j.replace(l,b.scopedVars,"lucene"),l=a.toJson(l),l=l.substr(1,l.length-2),k=k.replace("$lucene_query",l);var m=0===i.size?"count":"query_then_fetch",n=this.getQueryHeader(m,b.range.from,b.range.to);d+=n+"\n",d+=k+"\n",e.push(c)}return 0===e.length?h.when([]):(d=d.replace(/\$interval/g,b.interval),d=d.replace(/\$timeFrom/g,b.range.from.valueOf()),d=d.replace(/\$timeTo/g,b.range.to.valueOf()),d=j.replace(d,b.scopedVars),this._post("_msearch",d).then(function(a){return new g(e,a).getTimeSeries()}))},this.getFields=function(a){return this._get("/_mapping").then(function(c){var d={},e={"float":"number","double":"number",integer:"number","long":"number",date:"date",string:"string"};for(var f in c){var g=c[f],h=g.mappings;if(h)for(var i in h){var j=h[i].properties;for(var k in j){var l=j[k];a.type&&e[l.type]!==a.type||l.type&&"_"!==k[0]&&(d[k]={text:k,type:l.type})}}}return b.map(d,function(a){return a})})},this.getTerms=function(c){var d=k.timeRange(),e=this.getQueryHeader("count",d.from,d.to),f=a.toJson(this.queryBuilder.getTermsQuery(c));return f=f.replace("$lucene_query",l(c.query)),f=f.replace(/\$timeFrom/g,d.from.valueOf()),f=f.replace(/\$timeTo/g,d.to.valueOf()),f=e+"\n"+f+"\n",this._post("/_msearch?search_type=count",f).then(function(a){var c=a.responses[0].aggregations[1].buckets;return b.map(c,function(a){return{text:a.key,value:a.key}})})},this.metricFindQuery=function(b){return b=a.fromJson(b),b.query=j.replace(b.query||"*",{},"lucene"),b?"fields"===b.find?this.getFields(b):"terms"===b.find?this.getTerms(b):void 0:h.when([])}}return h.$inject=["instanceSettings","$q","backendSrv","templateSrv","timeSrv"],{ElasticDatasource:h}})}(),function(){var a=System.amdDefine;a("app/plugins/datasource/elasticsearch/bucket_agg.js",["angular","lodash","./query_def"],function(a,b,c){"use strict";var d=a.module("grafana.directives");d.directive("elasticBucketAgg",function(){return{templateUrl:"public/app/plugins/datasource/elasticsearch/partials/bucket_agg.html",controller:"ElasticBucketAggCtrl",restrict:"E",scope:{target:"=",index:"=",onChange:"&",getFields:"&"}}}),d.controller("ElasticBucketAggCtrl",["$scope","uiSegmentSrv","$q","$rootScope",function(a,d,e,f){var g=a.target.bucketAggs;a.orderByOptions=[],a.bucketAggTypes=c.bucketAggTypes,a.orderOptions=c.orderOptions,a.sizeOptions=c.sizeOptions,f.onAppEvent("elastic-query-updated",function(){a.validateModel(),a.updateOrderByOptions()},a),a.init=function(){a.agg=g[a.index],a.validateModel()},a.onChangeInternal=function(){a.onChange()},a.onTypeChanged=function(){switch(a.agg.settings={},a.showOptions=!1,a.agg.type){case"date_histogram":case"terms":delete a.agg.query,a.agg.field="select field";break;case"filters":delete a.agg.field,a.agg.query="*";break;case"geohash_grid":a.agg.settings.precision=3}a.validateModel(),a.onChange()},a.validateModel=function(){a.index=b.indexOf(g,a.agg),a.isFirst=0===a.index,a.isLast=a.index===g.length-1;var d="",e=a.agg.settings||{};switch(a.agg.type){case"terms":e.order=e.order||"asc",e.size=e.size||"10",e.orderBy=e.orderBy||"_term","0"!==e.size&&(d=c.describeOrder(e.order)+" "+e.size+", "),d+="Order by: "+c.describeOrderBy(e.orderBy,a.target),"0"===e.size&&(d+=" ("+e.order+")");break;case"filters":e.filters=e.filters||[{query:"*"}],d=b.reduce(e.filters,function(a,b,c){return a+="Q"+(c+1)+"  = "+b.query+" "},""),d.length>50&&(d=d.substr(0,50)+"..."),d="Filter Queries ("+e.filters.length+")";break;case"date_histogram":e.interval=e.interval||"auto",e.min_doc_count=e.min_doc_count||0,a.agg.field=a.target.timeField,d="Interval: "+e.interval,e.min_doc_count>0&&(d+=", Min Doc Count: "+e.min_doc_count),(void 0===e.trimEdges||e.trimEdges<0)&&(e.trimEdges=0),e.trimEdges&&e.trimEdges>0&&(d+=", Trim edges: "+e.trimEdges);break;case"geohash_grid":e.precision=Math.max(Math.min(e.precision,7),1),d="Precision: "+e.precision}return a.settingsLinkText=d,a.agg.settings=e,!0},a.addFiltersQuery=function(){a.agg.settings.filters.push({query:"*"})},a.removeFiltersQuery=function(c){a.agg.settings.filters=b.without(a.agg.settings.filters,c)},a.toggleOptions=function(){a.showOptions=!a.showOptions,a.updateOrderByOptions()},a.updateOrderByOptions=function(){a.orderByOptions=c.getOrderByOptions(a.target)},a.getFieldsInternal=function(){return"date_histogram"===a.agg.type?a.getFields({$fieldType:"date"}):a.getFields()},a.getIntervalOptions=function(){return e.when(d.transformToSegments(!0,"interval")(c.intervalOptions))},a.addBucketAgg=function(){var c=g[g.length-1],d=g.length-1;c&&"date_histogram"===c.type;var e=b.reduce(a.target.bucketAggs.concat(a.target.metrics),function(a,b){return parseInt(b.id)>a?parseInt(b.id):a},0);g.splice(d,0,{type:"terms",field:"select field",id:(e+1).toString(),fake:!0}),a.onChange()},a.removeBucketAgg=function(){g.splice(a.index,1),a.onChange()},a.init()}])})}(),function(){var a=System.amdDefine;a("app/plugins/datasource/elasticsearch/metric_agg.js",["angular","lodash","./query_def"],function(a,b,c){"use strict";var d=a.module("grafana.directives");d.directive("elasticMetricAgg",function(){return{templateUrl:"public/app/plugins/datasource/elasticsearch/partials/metric_agg.html",controller:"ElasticMetricAggCtrl",restrict:"E",scope:{target:"=",index:"=",onChange:"&",getFields:"&",esVersion:"="}}}),d.controller("ElasticMetricAggCtrl",["$scope","uiSegmentSrv","$q","$rootScope",function(a,d,e,f){var g=a.target.metrics;a.metricAggTypes=c.getMetricAggTypes(a.esVersion),a.extendedStats=c.extendedStats,a.pipelineAggOptions=[],a.init=function(){a.agg=g[a.index],a.validateModel(),a.updatePipelineAggOptions()},a.updatePipelineAggOptions=function(){a.pipelineAggOptions=c.getPipelineAggOptions(a.target)},f.onAppEvent("elastic-query-updated",function(){a.index=b.indexOf(g,a.agg),a.updatePipelineAggOptions(),a.validateModel()},a),a.validateModel=function(){if(a.isFirst=0===a.index,a.isSingle=1===g.length,a.settingsLinkText="",a.aggDef=b.findWhere(a.metricAggTypes,{value:a.agg.type}),c.isPipelineAgg(a.agg.type)){a.agg.pipelineAgg=a.agg.pipelineAgg||"select metric",a.agg.field=a.agg.pipelineAgg;var d=c.getPipelineOptions(a.agg);d.length>0&&(b.each(d,function(b){a.agg.settings[b.text]=a.agg.settings[b.text]||b["default"]}),a.settingsLinkText="Options")}else a.agg.field||(a.agg.field="select field");switch(a.agg.type){case"percentiles":a.agg.settings.percents=a.agg.settings.percents||[25,50,75,95,99],a.settingsLinkText="Values: "+a.agg.settings.percents.join(",");break;case"extended_stats":0===b.keys(a.agg.meta).length&&(a.agg.meta.std_deviation_bounds_lower=!0,a.agg.meta.std_deviation_bounds_upper=!0);var e=b.reduce(a.agg.meta,function(c,d,e){if(d){var f=b.findWhere(a.extendedStats,{value:e});c.push(f.text)}return c},[]);a.settingsLinkText="Stats: "+e.join(", ");break;case"raw_document":a.target.metrics=[a.agg],a.target.bucketAggs=[]}if(a.aggDef.supportsInlineScript){var f=a.agg.inlineScript;f?a.agg.settings.script={inline:f}:delete a.agg.settings.script,""===a.settingsLinkText&&(a.settingsLinkText="Options")}},a.toggleOptions=function(){a.showOptions=!a.showOptions,a.updatePipelineAggOptions()},a.onChangeInternal=function(){a.onChange()},a.onTypeChange=function(){a.agg.settings={},a.agg.meta={},a.showOptions=!1,a.updatePipelineAggOptions(),a.onChange()},a.getFieldsInternal=function(){return a.getFields({$fieldType:"number"})},a.addMetricAgg=function(){var c=g.length,d=b.reduce(a.target.bucketAggs.concat(a.target.metrics),function(a,b){return parseInt(b.id)>a?parseInt(b.id):a},0);g.splice(c,0,{type:"count",field:"select field",id:(d+1).toString()}),a.onChange()},a.removeMetricAgg=function(){g.splice(a.index,1),a.onChange()},a.toggleShowMetric=function(){a.agg.hide=!a.agg.hide,a.agg.hide||delete a.agg.hide,a.onChange()},a.init()}])})}(),function(){var a=System.amdDefine;a("app/plugins/datasource/elasticsearch/query_def.js",["lodash"],function(a){"use strict";return{metricAggTypes:[{text:"Count",value:"count",requiresField:!1},{text:"Average",value:"avg",requiresField:!0,supportsInlineScript:!0,supportsMissing:!0},{text:"Sum",value:"sum",requiresField:!0,supportsInlineScript:!0,supportsMissing:!0},{text:"Max",value:"max",requiresField:!0,supportsInlineScript:!0,supportsMissing:!0},{text:"Min",value:"min",requiresField:!0,supportsInlineScript:!0,supportsMissing:!0},{text:"Extended Stats",value:"extended_stats",requiresField:!0,supportsMissing:!0,supportsInlineScript:!0},{text:"Percentiles",value:"percentiles",requiresField:!0,supportsMissing:!0,supportsInlineScript:!0},{text:"Unique Count",value:"cardinality",requiresField:!0,supportsMissing:!0},{text:"Moving Average",value:"moving_avg",requiresField:!1,isPipelineAgg:!0,minVersion:2},{text:"Derivative",value:"derivative",requiresField:!1,isPipelineAgg:!0,minVersion:2},{text:"Raw Document",value:"raw_document",requiresField:!1}],bucketAggTypes:[{text:"Terms",value:"terms",requiresField:!0},{text:"Filters",value:"filters"},{text:"Geo Hash Grid",value:"geohash_grid",requiresField:!0},{text:"Date Histogram",value:"date_histogram",requiresField:!0}],orderByOptions:[{text:"Doc Count",value:"_count"},{text:"Term value",value:"_term"}],orderOptions:[{text:"Top",value:"desc"},{text:"Bottom",value:"asc"}],sizeOptions:[{text:"No limit",value:"0"},{text:"1",value:"1"},{text:"2",value:"2"},{text:"3",value:"3"},{text:"5",value:"5"},{text:"10",value:"10"},{text:"15",value:"15"},{text:"20",value:"20"}],extendedStats:[{text:"Avg",value:"avg"},{text:"Min",value:"min"},{text:"Max",value:"max"},{text:"Sum",value:"sum"},{text:"Count",value:"count"},{text:"Std Dev",value:"std_deviation"},{text:"Std Dev Upper",value:"std_deviation_bounds_upper"},{text:"Std Dev Lower",value:"std_deviation_bounds_lower"}],intervalOptions:[{text:"auto",value:"auto"},{text:"10s",value:"10s"},{text:"1m",value:"1m"},{text:"5m",value:"5m"},{text:"10m",value:"10m"},{text:"20m",value:"20m"},{text:"1h",value:"1h"},{text:"1d",value:"1d"}],pipelineOptions:{moving_avg:[{text:"window","default":5},{text:"model","default":"simple"}],derivative:[{text:"unit","default":void 0}]},getMetricAggTypes:function(b){return a.filter(this.metricAggTypes,function(a){return!a.minVersion||a.minVersion<=b})},getPipelineOptions:function(a){return this.isPipelineAgg(a.type)?this.pipelineOptions[a.type]:[]},isPipelineAgg:function(a){if(a){var b=this.pipelineOptions[a];return null!==b&&void 0!==b}return!1},getPipelineAggOptions:function(b){var c=this,d=[];return a.each(b.metrics,function(a){c.isPipelineAgg(a.type)||d.push({text:c.describeMetric(a),value:a.id})}),d},getOrderByOptions:function(b){var c=this,d=[];return a.each(b.metrics,function(a){"count"!==a.type&&d.push({text:c.describeMetric(a),value:a.id})}),this.orderByOptions.concat(d)},describeOrder:function(b){var c=a.findWhere(this.orderOptions,{value:b});return c.text},describeMetric:function(b){var c=a.findWhere(this.metricAggTypes,{value:b.type});return c.text+" "+b.field},describeOrderBy:function(b,c){var d=a.findWhere(this.orderByOptions,{value:b});if(d)return d.text;var e=a.findWhere(c.metrics,{id:b});return e?this.describeMetric(e):"metric not found"}}})}(),System.register("app/plugins/datasource/elasticsearch/query_ctrl.js",["./bucket_agg","./metric_agg","angular","lodash","./query_def","app/plugins/sdk"],function(a){var b,c,d,e,f,g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};return{setters:[function(a){},function(a){},function(a){b=a},function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(a){function e(b,c,d,e,f){a.call(this,b,c),this.$rootScope=d,this.$timeout=e,this.uiSegmentSrv=f,this.esVersion=this.datasource.esVersion,this.queryUpdated()}return g(e,a),e.$inject=["$scope","$injector","$rootScope","$timeout","uiSegmentSrv"],e.prototype.getFields=function(a){
var c=b["default"].toJson({find:"fields",type:a});return this.datasource.metricFindQuery(c).then(this.uiSegmentSrv.transformToSegments(!1))["catch"](this.handleQueryError.bind(this))},e.prototype.queryUpdated=function(){var a=b["default"].toJson(this.datasource.queryBuilder.build(this.target),!0);a!==this.rawQueryOld&&(this.rawQueryOld=a,this.refresh()),this.$rootScope.appEvent("elastic-query-updated")},e.prototype.getCollapsedText=function(){var a=this.target.metrics,b=this.target.bucketAggs,e=d["default"].getMetricAggTypes(this.esVersion),f=d["default"].bucketAggTypes,g="";return this.target.query&&(g+="Query: "+this.target.query+", "),g+="Metrics: ",c["default"].each(a,function(a,b){var d=c["default"].findWhere(e,{value:a.type});g+=d.text+"(",d.requiresField&&(g+=a.field),g+="), "}),c["default"].each(b,function(a,b){0===b&&(g+=" Group by: ");var d=c["default"].findWhere(f,{value:a.type});g+=d.text+"(",d.requiresField&&(g+=a.field),g+="), "}),this.target.alias&&(g+="Alias: "+this.target.alias),g},e.prototype.handleQueryError=function(a){return this.error=a.message||"Failed to issue metric query",[]},e.templateUrl="partials/query.editor.html",e}(e.QueryCtrl),a("ElasticQueryCtrl",f)}}}),System.register("app/plugins/datasource/elasticsearch/config_ctrl.js",["lodash"],function(a){var b,c;return{setters:[function(a){b=a}],execute:function(){c=function(){function a(a){this.indexPatternTypes=[{name:"No pattern",value:void 0},{name:"Hourly",value:"Hourly",example:"[logstash-]YYYY.MM.DD.HH"},{name:"Daily",value:"Daily",example:"[logstash-]YYYY.MM.DD"},{name:"Weekly",value:"Weekly",example:"[logstash-]GGGG.WW"},{name:"Monthly",value:"Monthly",example:"[logstash-]YYYY.MM"},{name:"Yearly",value:"Yearly",example:"[logstash-]YYYY"}],this.esVersions=[{name:"1.x",value:1},{name:"2.x",value:2}],this.current.jsonData.timeField=this.current.jsonData.timeField||"@timestamp"}return a.$inject=["$scope"],a.prototype.indexPatternTypeChanged=function(){var a=b["default"].findWhere(this.indexPatternTypes,{value:this.current.jsonData.interval});this.current.database=a.example||"es-index-name"},a.templateUrl="public/app/plugins/datasource/elasticsearch/partials/config.html",a}(),a("ElasticConfigCtrl",c)}}}),System.register("app/plugins/datasource/elasticsearch/module.js",["./datasource","./query_ctrl","./config_ctrl"],function(a){var b,c,d,e,f;return{setters:[function(a){b=a},function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(){}return a.templateUrl="partials/query.options.html",a}(),f=function(){function a(){}return a.templateUrl="partials/annotations.editor.html",a}(),a("Datasource",b.ElasticDatasource),a("QueryCtrl",c.ElasticQueryCtrl),a("ConfigCtrl",d.ElasticConfigCtrl),a("QueryOptionsCtrl",e),a("AnnotationsQueryCtrl",f)}}}),System.register("app/plugins/datasource/graphite/datasource.js",["lodash","app/core/utils/datemath"],function(a){function b(a,b,e,f){this.basicAuth=a.basicAuth,this.url=a.url,this.name=a.name,this.cacheTimeout=a.cacheTimeout,this.withCredentials=a.withCredentials,this.render_method=a.render_method||"POST",this.query=function(a){var c={from:this.translateTime(a.rangeRaw.from,!1),until:this.translateTime(a.rangeRaw.to,!0),targets:a.targets,format:a.format,cacheTimeout:a.cacheTimeout||this.cacheTimeout,maxDataPoints:a.maxDataPoints},d=this.buildGraphiteParams(c,a.scopedVars);if(0===d.length)return b.when({data:[]});var e={method:"POST",url:"/render",data:d.join("&"),headers:{"Content-Type":"application/x-www-form-urlencoded"}};return a.panelId&&(e.requestId=this.name+".panelId."+a.panelId),this.doGraphiteRequest(e).then(this.convertDataPointsToMs)},this.convertDataPointsToMs=function(a){if(!a||!a.data)return[];for(var b=0;b<a.data.length;b++)for(var c=a.data[b],d=0;d<c.datapoints.length;d++)c.datapoints[d][1]*=1e3;return a},this.annotationQuery=function(a){if(a.annotation.target){var b=f.replace(a.annotation.target,{},"glob"),c={rangeRaw:a.rangeRaw,targets:[{target:b}],format:"json",maxDataPoints:100};return this.query(c).then(function(b){for(var c=[],d=0;d<b.data.length;d++)for(var e=b.data[d],f=0;f<e.datapoints.length;f++){var g=e.datapoints[f];g[0]&&c.push({annotation:a.annotation,time:g[1],title:e.target})}return c})}var d=f.replace(a.annotation.tags);return this.events({range:a.rangeRaw,tags:d}).then(function(b){for(var c=[],d=0;d<b.data.length;d++){var e=b.data[d];c.push({annotation:a.annotation,time:1e3*e.when,title:e.what,tags:e.tags,text:e.data})}return c})},this.events=function(a){try{var c="";return a.tags&&(c="&tags="+a.tags),this.doGraphiteRequest({method:"GET",url:"/events/get_data?from="+this.translateTime(a.range.from,!1)+"&until="+this.translateTime(a.range.to,!0)+c})}catch(d){return b.reject(d)}},this.translateTime=function(a,b){if(c["default"].isString(a)){if("now"===a)return"now";if(a.indexOf("now-")>=0&&a.indexOf("/")===-1)return a=a.substring(3),a=a.replace("m","min"),a=a.replace("M","mon");a=d.parse(a,b)}return b?a.get("s")&&a.add(1,"m"):b===!1&&a.get("s")&&a.subtract(1,"m"),a.unix()},this.metricFindQuery=function(a){var d;try{d=encodeURIComponent(f.replace(a))}catch(e){return b.reject(e)}return this.doGraphiteRequest({method:"GET",url:"/metrics/find/?query="+d}).then(function(a){return c["default"].map(a.data,function(a){return{text:a.text,expandable:!!a.expandable}})})},this.testDatasource=function(){return this.metricFindQuery("*").then(function(){return{status:"success",message:"Data source is working",title:"Success"}})},this.doGraphiteRequest=function(a){return(this.basicAuth||this.withCredentials)&&(a.withCredentials=!0),this.basicAuth&&(a.headers=a.headers||{},a.headers.Authorization=this.basicAuth),a.url=this.url+a.url,a.inspect={type:"graphite"},e.datasourceRequest(a)},this._seriesRefLetters="ABCDEFGHIJKLMNOPQRSTUVWXYZ",this.buildGraphiteParams=function(a,b){function d(a){return a.replace("m","min").replace("M","mon")}function e(a,b){return l[b]}var g,h,i,j=["from","until","rawData","format","maxDataPoints","cacheTimeout"],k=[],l={},m=/\#([A-Z])/g,n=/'(\d+)m'/gi,o=!1;for(a.format="json",i=0;i<a.targets.length;i++)g=a.targets[i],g.target&&(g.refId||(g.refId=this._seriesRefLetters[i]),h=f.replace(g.target,b),h=h.replace(n,d),l[g.refId]=h);for(i=0;i<a.targets.length;i++)g=a.targets[i],g.target&&(h=l[g.refId],h=h.replace(m,e),l[g.refId]=h,g.hide||(o=!0,k.push("target="+encodeURIComponent(h))));return c["default"].each(a,function(a,b){c["default"].indexOf(j,b)!==-1&&a&&k.push(b+"="+encodeURIComponent(a))}),o?k:[]}}b.$inject=["instanceSettings","$q","backendSrv","templateSrv"];var c,d;return a("GraphiteDatasource",b),{setters:[function(a){c=a},function(a){d=a}],execute:function(){}}}),function(){var a=System.amdDefine;a("app/plugins/datasource/graphite/add_graphite_func.js",["angular","lodash","jquery","./gfunc"],function(a,b,c,d){"use strict";function e(a){return b.reduce(a,function(a,c){return b.each(c,function(b){a.push(b.name)}),a},[])}function f(a){return b.map(a,function(a,c){return{text:c,submenu:b.map(a,function(a){return{text:a.name,click:"ctrl.addFunction('"+a.name+"')"}})}})}a.module("grafana.directives").directive("graphiteAddFunc",["$compile",function(a){var g='<input type="text" class="gf-form-input" spellcheck="false" style="display:none"></input>',h='<a  class="gf-form-label query-part dropdown-toggle" tabindex="1" gf-dropdown="functionMenu" data-toggle="dropdown"><i class="fa fa-plus"></i></a>';return{link:function(i,j){var k=d.getCategories(),l=e(k),m=i.ctrl;i.functionMenu=f(k);var n=c(g),o=c(h);n.appendTo(j),o.appendTo(j),n.attr("data-provide","typeahead"),n.typeahead({source:l,minLength:1,items:10,updater:function(a){var c=d.getFuncDef(a);if(c||(a=a.toLowerCase(),c=b.find(l,function(b){return 0===b.toLowerCase().indexOf(a)})))return i.$apply(function(){m.addFunction(c)}),n.trigger("blur"),""}}),o.click(function(){o.hide(),n.show(),n.focus()}),n.keyup(function(){j.toggleClass("open",""===n.val())}),n.blur(function(){setTimeout(function(){n.val(""),n.hide(),o.show(),j.removeClass("open")},200)}),a(j.contents())(i)}}}])})}(),function(){var a=System.amdDefine;a("app/plugins/datasource/graphite/func_editor.js",["angular","lodash","jquery"],function(a,b,c){"use strict";a.module("grafana.directives").directive("graphiteFuncEditor",["$compile","templateSrv",function(a,d){var e='<a ng-click="">{{func.def.name}}</a><span>(</span>',f='<input type="text" style="display:none" class="input-mini tight-form-func-param"></input>',g='<div class="tight-form-func-controls"><span class="pointer fa fa-arrow-left"></span><span class="pointer fa fa-question-circle"></span><span class="pointer fa fa-remove" ></span><span class="pointer fa fa-arrow-right"></span></div>';return{restrict:"A",link:function(h,i){function j(a){var b=c(this),d=b.next();d.val(y.params[a]),d.css("width",b.width()+16+"px"),b.hide(),d.show(),d.focus(),d.select();var e=d.data("typeahead");e&&(d.val(""),e.lookup())}function k(){B!==y.params.length&&(A||(A=!0,setTimeout(function(){u(),A=!1},200)))}function l(a){var b=c(this),e=b.prev(),f=b.val();(""!==f||y.def.params[a].optional)&&(e.html(d.highlightVariablesAsHtml(f)),y.updateParam(b.val(),a),k(),h.$apply(function(){x.targetChanged()}),b.hide(),e.show())}function m(a,b){13===b.which&&l.call(this,a)}function n(){this.style.width=8*(3+this.value.length)+"px"}function o(a,c){a.attr("data-provide","typeahead");var d=z.params[c].options;"int"===z.params[c].type&&(d=b.map(d,function(a){return a.toString()})),a.typeahead({source:d,minLength:0,items:20,updater:function(b){return setTimeout(function(){l.call(a[0],c)},0),b}});var e=a.data("typeahead");e.lookup=function(){return this.query=this.$element.val()||"",this.process(this.source)}}function p(){var a=i.closest(".tight-form");return i.hasClass("show-function-controls")?(i.removeClass("show-function-controls"),a.removeClass("has-open-function"),void w.hide()):(i.addClass("show-function-controls"),a.addClass("has-open-function"),void w.show())}function q(){w.appendTo(i),v.appendTo(i),b.each(z.params,function(a,e){if(!(a.optional&&y.params.length<=e)){e>0&&c("<span>, </span>").appendTo(i);var g=d.highlightVariablesAsHtml(y.params[e]),h=c('<a ng-click="" class="graphite-func-param-link">'+g+"</a>"),k=c(f);B++,h.appendTo(i),k.appendTo(i),k.blur(b.partial(l,e)),k.keyup(n),k.keypress(b.partial(m,e)),h.click(b.partial(j,e)),z.params[e].options&&o(k,e)}}),c("<span>)</span>").appendTo(i),a(i.contents())(h)}function r(){h.func.added&&(h.func.added=!1,setTimeout(function(){i.find(".graphite-func-param-link").first().click()},10))}function s(){v.click(p)}function t(){w.click(function(a){var d=c(a.target);return d.hasClass("fa-remove")?(p(),void h.$apply(function(){x.removeFunction(h.func)})):d.hasClass("fa-arrow-left")?void h.$apply(function(){b.move(x.functions,h.$index,h.$index-1),x.targetChanged()}):d.hasClass("fa-arrow-right")?void h.$apply(function(){b.move(x.functions,h.$index,h.$index+1),x.targetChanged()}):d.hasClass("fa-question-circle")?void window.open("http://graphite.readthedocs.org/en/latest/functions.html#graphite.render.functions."+z.name,"_blank"):void 0})}function u(){i.children().remove(),q(),r(),s(),t()}var v=c(e),w=c(g),x=h.ctrl,y=h.func,z=y.def,A=!1,B=0;u()}}}])})}(),function(){var a=System.amdDefine;a("app/plugins/datasource/graphite/gfunc.js",["lodash","jquery"],function(a,b){"use strict";function c(a){a.params=a.params||[],a.defaultParams=a.defaultParams||[],a.category&&a.category.push(a),e[a.name]=a,e[a.shortName||a.name]=a}function d(a,b){this.def=a,this.params=[],b&&b.withDefaultParams&&(this.params=a.defaultParams.slice(0)),this.updateText()}var e=[],f={Combine:[],Transform:[],Calculate:[],Filter:[],Special:[]},g=[{name:"other",type:"value_or_series",optional:!0},{name:"other",type:"value_or_series",optional:!0},{name:"other",type:"value_or_series",optional:!0},{name:"other",type:"value_or_series",optional:!0},{name:"other",type:"value_or_series",optional:!0}];return c({name:"scaleToSeconds",category:f.Transform,params:[{name:"seconds",type:"int"}],defaultParams:[1]}),c({name:"perSecond",category:f.Transform,params:[{name:"max value",type:"int",optional:!0}],defaultParams:[]}),c({name:"holtWintersForecast",category:f.Calculate}),c({name:"holtWintersConfidenceBands",category:f.Calculate,params:[{name:"delta",type:"int"}],defaultParams:[3]}),c({name:"holtWintersAberration",category:f.Calculate,params:[{name:"delta",type:"int"}],defaultParams:[3]}),c({name:"nPercentile",category:f.Calculate,params:[{name:"Nth percentile",type:"int"}],defaultParams:[95]}),c({name:"diffSeries",params:g,defaultParams:["#A"],category:f.Calculate}),c({name:"stddevSeries",params:g,defaultParams:[""],category:f.Calculate}),c({name:"divideSeries",params:g,defaultParams:["#A"],category:f.Calculate}),c({name:"multiplySeries",params:g,defaultParams:["#A"],category:f.Calculate}),c({name:"asPercent",params:g,defaultParams:["#A"],category:f.Calculate}),c({name:"group",params:g,defaultParams:["#A","#B"],category:f.Combine}),c({name:"mapSeries",shortName:"map",params:[{name:"node",type:"int"}],defaultParams:[3],category:f.Combine}),c({name:"reduceSeries",shortName:"reduce",params:[{name:"function",type:"string",options:["asPercent","diffSeries","divideSeries"]},{name:"reduceNode",type:"int",options:[0,1,2,3,4,5,6,7,8,9,10,11,12,13]},{name:"reduceMatchers",type:"string"},{name:"reduceMatchers",type:"string"}],defaultParams:["asPercent",2,"used_bytes","total_bytes"],category:f.Combine}),c({name:"sumSeries",shortName:"sum",category:f.Combine,params:g,defaultParams:[""]}),c({name:"averageSeries",shortName:"avg",category:f.Combine,params:g,defaultParams:[""]}),c({name:"isNonNull",category:f.Combine}),c({name:"rangeOfSeries",category:f.Combine}),c({name:"percentileOfSeries",category:f.Combine,params:[{name:"n",type:"int"},{name:"interpolate",type:"select",options:["true","false"]}],defaultParams:[95,"false"]}),c({name:"sumSeriesWithWildcards",category:f.Combine,params:[{name:"node",type:"int"},{name:"node",type:"int",optional:!0},{name:"node",type:"int",optional:!0},{name:"node",type:"int",optional:!0}],defaultParams:[3]}),c({name:"maxSeries",shortName:"max",category:f.Combine}),c({name:"minSeries",shortName:"min",category:f.Combine}),c({name:"averageSeriesWithWildcards",category:f.Combine,params:[{name:"node",type:"int"},{name:"node",type:"int",optional:!0}],defaultParams:[3]}),c({name:"alias",category:f.Special,params:[{name:"alias",type:"string"}],defaultParams:["alias"]}),c({name:"aliasSub",category:f.Special,params:[{name:"search",type:"string"},{name:"replace",type:"string"}],defaultParams:["","\\1"]}),c({name:"stacked",category:f.Special,params:[{name:"stack",type:"string"}],defaultParams:["stacked"]}),c({name:"consolidateBy",category:f.Special,params:[{name:"function",type:"string",options:["sum","average","min","max"]}],defaultParams:["max"]}),c({name:"cumulative",category:f.Special,params:[],defaultParams:[]}),c({name:"groupByNode",category:f.Special,params:[{name:"node",type:"int",options:[0,1,2,3,4,5,6,7,8,9,10,12]},{name:"function",type:"string",options:["sum","avg","maxSeries"]}],defaultParams:[3,"sum"]}),c({name:"aliasByNode",category:f.Special,params:[{name:"node",type:"int",options:[0,1,2,3,4,5,6,7,8,9,10,12]},{name:"node",type:"int",options:[0,-1,-2,-3,-4,-5,-6,-7],optional:!0},{name:"node",type:"int",options:[0,-1,-2,-3,-4,-5,-6,-7],optional:!0},{name:"node",type:"int",options:[0,-1,-2,-3,-4,-5,-6,-7],optional:!0}],defaultParams:[3]}),c({name:"substr",category:f.Special,params:[{name:"start",type:"int",options:[-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8,9,10,12]},{name:"stop",type:"int",options:[-6,-5,-4,-3,-2,-1,0,1,2,3,4,5,6,7,8,9,10,12]}],defaultParams:[0,0]}),c({name:"sortByName",category:f.Special,params:[{name:"natural",type:"select",options:["true","false"],optional:!0}],defaultParams:["false"]}),c({name:"sortByMaxima",category:f.Special}),c({name:"sortByMinima",category:f.Special}),c({name:"sortByTotal",category:f.Special}),c({name:"aliasByMetric",category:f.Special}),c({name:"randomWalk",fake:!0,category:f.Special,params:[{name:"name",type:"string"}],defaultParams:["randomWalk"]}),c({name:"countSeries",category:f.Special}),c({name:"constantLine",category:f.Special,params:[{name:"value",type:"int"}],defaultParams:[10]}),c({name:"cactiStyle",category:f.Special}),c({name:"keepLastValue",category:f.Special,params:[{name:"n",type:"int"}],defaultParams:[100]}),c({name:"changed",category:f.Special,params:[],defaultParams:[]}),c({name:"scale",category:f.Transform,params:[{name:"factor",type:"int"}],defaultParams:[1]}),c({name:"offset",category:f.Transform,params:[{name:"amount",type:"int"}],defaultParams:[10]}),c({name:"offsetToZero",category:f.Transform}),c({name:"transformNull",category:f.Transform,params:[{name:"amount",type:"int"}],defaultParams:[0]}),c({name:"integral",category:f.Transform}),c({name:"derivative",category:f.Transform}),c({name:"nonNegativeDerivative",category:f.Transform,params:[{name:"max value or 0",type:"int",optional:!0}],defaultParams:[""]}),c({name:"timeShift",category:f.Transform,params:[{name:"amount",type:"select",options:["1h","6h","12h","1d","2d","7d","14d","30d"]}],defaultParams:["1d"]}),c({name:"timeStack",category:f.Transform,params:[{name:"timeShiftUnit",type:"select",options:["1h","6h","12h","1d","2d","7d","14d","30d"]},{name:"timeShiftStart",type:"int"},{name:"timeShiftEnd",type:"int"}],defaultParams:["1d",0,7]}),c({name:"summarize",category:f.Transform,params:[{name:"interval",type:"string"},{name:"func",type:"select",options:["sum","avg","min","max","last"]},{name:"alignToFrom",type:"boolean",optional:!0,options:["false","true"]}],defaultParams:["1h","sum","false"]}),c({name:"smartSummarize",category:f.Transform,params:[{name:"interval",type:"string"},{name:"func",type:"select",options:["sum","avg","min","max","last"]}],defaultParams:["1h","sum"]}),c({name:"absolute",category:f.Transform}),c({name:"hitcount",category:f.Transform,params:[{name:"interval",type:"string"}],defaultParams:["10s"]}),c({name:"log",category:f.Transform,params:[{name:"base",type:"int"}],defaultParams:["10"]}),c({name:"averageAbove",category:f.Filter,params:[{name:"n",type:"int"}],defaultParams:[25]}),c({name:"averageBelow",category:f.Filter,params:[{name:"n",type:"int"}],defaultParams:[25]}),c({name:"currentAbove",category:f.Filter,params:[{name:"n",type:"int"}],defaultParams:[25]}),c({name:"currentBelow",category:f.Filter,params:[{name:"n",type:"int"}],defaultParams:[25]}),c({name:"maximumAbove",category:f.Filter,params:[{name:"value",type:"int"}],defaultParams:[0]}),c({name:"maximumBelow",category:f.Filter,params:[{name:"value",type:"int"}],defaultParams:[0]}),c({name:"minimumAbove",category:f.Filter,params:[{name:"value",type:"int"}],defaultParams:[0]}),c({name:"minimumBelow",category:f.Filter,params:[{name:"value",type:"int"}],defaultParams:[0]}),c({name:"limit",category:f.Filter,params:[{name:"n",type:"int"}],defaultParams:[5]}),c({name:"mostDeviant",category:f.Filter,params:[{name:"n",type:"int"}],defaultParams:[10]}),c({name:"exclude",category:f.Filter,params:[{name:"exclude",type:"string"}],defaultParams:["exclude"]}),c({name:"grep",category:f.Filter,params:[{name:"grep",type:"string"}],defaultParams:["grep"]}),c({name:"highestCurrent",category:f.Filter,params:[{name:"count",type:"int"}],defaultParams:[5]}),c({name:"highestMax",category:f.Filter,params:[{name:"count",type:"int"}],defaultParams:[5]}),c({name:"lowestCurrent",category:f.Filter,params:[{name:"count",type:"int"}],defaultParams:[5]}),c({name:"movingAverage",category:f.Filter,params:[{name:"windowSize",type:"int_or_interval",options:["5","7","10","5min","10min","30min","1hour"]}],defaultParams:[10]}),c({name:"weightedAverage",category:f.Filter,params:[{name:"other",type:"value_or_series",optional:!0},{name:"node",type:"int",options:[0,1,2,3,4,5,6,7,8,9,10,12]}],defaultParams:["#A",4]}),c({name:"movingMedian",category:f.Filter,params:[{name:"windowSize",type:"int_or_interval",options:["5","7","10","5min","10min","30min","1hour"]}],defaultParams:["5"]}),c({name:"stdev",category:f.Filter,params:[{name:"n",type:"int"},{name:"tolerance",type:"int"}],defaultParams:[5,.1]}),c({name:"highestAverage",category:f.Filter,params:[{name:"count",type:"int"}],defaultParams:[5]}),c({name:"lowestAverage",category:f.Filter,params:[{name:"count",type:"int"}],defaultParams:[5]}),c({name:"removeAbovePercentile",category:f.Filter,params:[{name:"n",type:"int"}],defaultParams:[5]}),c({name:"removeAboveValue",category:f.Filter,params:[{name:"n",type:"int"}],defaultParams:[5]}),c({name:"removeBelowPercentile",category:f.Filter,params:[{name:"n",type:"int"}],defaultParams:[5]}),c({name:"removeBelowValue",category:f.Filter,params:[{name:"n",type:"int"}],defaultParams:[5]}),c({name:"removeEmptySeries",category:f.Filter}),c({name:"useSeriesAbove",category:f.Filter,params:[{name:"value",type:"int"},{name:"search",type:"string"},{name:"replace",type:"string"}],defaultParams:[0,"search","replace"]}),a.each(f,function(b,c){f[c]=a.sortBy(b,"name")}),d.prototype.render=function(c){var d=this.def.name+"(",e=a.map(this.params,function(a,c){var d=this.def.params[c].type;return"int"===d||"value_or_series"===d||"boolean"===d?a:"int_or_interval"===d&&b.isNumeric(a)?a:"'"+a+"'"},this);return c&&e.unshift(c),d+e.join(", ")+")"},d.prototype._hasMultipleParamsInString=function(a,b){return a.indexOf(",")!==-1&&(this.def.params[b+1]&&this.def.params[b+1].optional)},d.prototype.updateParam=function(b,c){return this._hasMultipleParamsInString(b,c)?void a.each(b.split(","),function(a,b){this.updateParam(a.trim(),b)},this):(""===b&&this.def.params[c].optional?this.params.splice(c,1):this.params[c]=b,void this.updateText())},d.prototype.updateText=function(){if(0===this.params.length)return void(this.text=this.def.name+"()");var a=this.def.name+"(";a+=this.params.join(", "),a+=")",this.text=a},{createFuncInstance:function(b,c){if(a.isString(b)){if(!e[b])throw{message:"Method not found "+name};b=e[b]}return new d(b,c)},getFuncDef:function(a){return e[a]},getCategories:function(){return f}}})}(),System.register("app/plugins/datasource/graphite/lexer.js",["lodash"],function(a){function b(a){this.input=a,this["char"]=1,this.from=1}var c,d,e,f,g,h;return a("Lexer",b),{setters:[function(a){c=a}],execute:function(){for(d=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,880,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1162,1319,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1568,1610,1646,1647,1649,1747,1749,1749,1765,1766,1774,1775,1786,1788,1791,1791,1808,1808,1810,1839,1869,1957,1969,1969,1994,2026,2036,2037,2042,2042,2048,2069,2074,2074,2084,2084,2088,2088,2112,2136,2308,2361,2365,2365,2384,2384,2392,2401,2417,2423,2425,2431,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2493,2493,2510,2510,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2785,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2877,2877,2908,2909,2911,2913,2929,2929,2947,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3024,3024,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3133,3160,3161,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3261,3261,3294,3294,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3389,3389,3406,3406,3424,3425,3450,3455,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3805,3840,3840,3904,3911,3913,3948,3976,3980,4096,4138,4159,4159,4176,4181,4186,4189,4193,4193,4197,4198,4206,4208,4213,4225,4238,4238,4256,4293,4304,4346,4348,4348,4352,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6103,6103,6108,6108,6176,6263,6272,6312,6314,6314,6320,6389,6400,6428,6480,6509,6512,6516,6528,6571,6593,6599,6656,6678,6688,6740,6823,6823,6917,6963,6981,6987,7043,7072,7086,7087,7104,7141,7168,7203,7245,7247,7258,7293,7401,7404,7406,7409,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8305,8305,8319,8319,8336,8348,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11502,11520,11557,11568,11621,11631,11631,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11823,11823,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,13312,19893,19893,19968,19968,40907,40907,40960,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42647,42656,42735,42775,42783,42786,42888,42891,42894,42896,42897,42912,42921,43002,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43259,43259,43274,43301,43312,43334,43360,43388,43396,43442,43471,43471,43520,43560,43584,43586,43588,43595,43616,43638,43642,43642,43648,43695,43697,43697,43701,43702,43705,43709,43712,43712,43714,43714,43739,43741,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44002,44032,44032,55203,55203,55216,55238,55243,55291,63744,64045,64048,64109,64112,64217,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500,65536,65547,65549,65574,65576,65594,65596,65597,65599,65613,65616,65629,65664,65786,65856,65908,66176,66204,66208,66256,66304,66334,66352,66378,66432,66461,66464,66499,66504,66511,66513,66517,66560,66717,67584,67589,67592,67592,67594,67637,67639,67640,67644,67644,67647,67669,67840,67861,67872,67897,68096,68096,68112,68115,68117,68119,68121,68147,68192,68220,68352,68405,68416,68437,68448,68466,68608,68680,69635,69687,69763,69807,73728,74606,74752,74850,77824,78894,92160,92728,110592,110593,119808,119892,119894,119964,119966,119967,119970,119970,119973,119974,119977,119980,119982,119993,119995,119995,119997,120003,120005,120069,120071,120074,120077,120084,120086,120092,120094,120121,120123,120126,120128,120132,120134,120134,120138,120144,120146,120485,120488,120512,120514,120538,120540,120570,120572,120596,120598,120628,120630,120654,120656,120686,120688,120712,120714,120744,120746,120770,120772,120779,131072,131072,173782,173782,173824,173824,177972,177972,177984,177984,178205,178205,194560,195101],e=[],f=0;f<128;f++)e[f]=f>=48&&f<=57||36===f||126===f||124===f||f>=65&&f<=90||95===f||45===f||42===f||58===f||91===f||93===f||63===f||37===f||35===f||61===f||f>=97&&f<=122;for(g=[],h=0;h<128;h++)g[h]=e[h]||h>=48&&h<=57;b.prototype={peek:function(a){return this.input.charAt(a||0)},skip:function(a){a=a||1,this["char"]+=a,this.input=this.input.slice(a)},tokenize:function(){for(var a,b=[];a=this.next();)b.push(a);return b},next:function(){this.from=this["char"];var a;if(/\s/.test(this.peek())){for(a=this["char"];/\s/.test(this.peek());)this.from+=1,this.skip();if(""===this.peek())return null}var b=this.scanStringLiteral();return b?b:(b=this.scanPunctuator()||this.scanNumericLiteral()||this.scanIdentifier()||this.scanTemplateSequence(),b?(this.skip(b.value.length),b):null)},scanTemplateSequence:function(){return"["===this.peek()&&"["===this.peek(1)?{type:"templateStart",value:"[[",pos:this["char"]}:"]"===this.peek()&&"]"===this.peek(1)?{type:"templateEnd",value:"[[",pos:this["char"]}:null},scanIdentifier:function(){function a(a){for(var b=0;b<d.length;){if(a<d[b++])return!1;if(a<=d[b++])return!0}return!1}function b(a){return/^[0-9a-fA-F]$/.test(a)}var f,h,i="",j=0,k=c["default"].bind(function(){if(j+=1,"u"!==this.peek(j))return null;var c,d=this.peek(j+1),e=this.peek(j+2),f=this.peek(j+3),g=this.peek(j+4);return b(d)&&b(e)&&b(f)&&b(g)?(c=parseInt(d+e+f+g,16),a(c)?(j+=5,"\\u"+d+e+f+g):null):null},this),l=c["default"].bind(function(){var b=this.peek(j),c=b.charCodeAt(0);return"*"===b?(j+=1,b):92===c?k():c<128?e[c]?(j+=1,b):null:a(c)?(j+=1,b):null},this),m=c["default"].bind(function(){var b=this.peek(j),c=b.charCodeAt(0);return 92===c?k():c<128?g[c]?(j+=1,b):null:a(c)?(j+=1,b):null},this);if(h=l(),null===h)return null;for(i=h;h=m(),null!==h;)i+=h;switch(i){case"true":f="bool";break;case"false":f="bool";break;default:f="identifier"}return{type:f,value:i,pos:this["char"]}},scanNumericLiteral:function(){function a(a){return/^[0-9]$/.test(a)}function b(a){return/^[0-7]$/.test(a)}function c(a){return/^[0-9a-fA-F]$/.test(a)}function d(a){return"$"===a||"_"===a||"\\"===a||a>="a"&&a<="z"||a>="A"&&a<="Z"}var e,f=0,g="",h=this.input.length,i=this.peek(f);if("-"===i&&(g+=i,f+=1,i=this.peek(f)),"."!==i&&!a(i))return null;if("."!==i){if(g+=this.peek(f),f+=1,i=this.peek(f),"0"===g){if("x"===i||"X"===i){for(f+=1,g+=i;f<h&&(i=this.peek(f),c(i));)g+=i,f+=1;return g.length<=2?{type:"number",value:g,isMalformed:!0,pos:this["char"]}:f<h&&(i=this.peek(f),d(i))?null:{type:"number",value:g,base:16,isMalformed:!1,pos:this["char"]}}if(b(i)){for(f+=1,g+=i,e=!1;f<h;){if(i=this.peek(f),a(i))e=!0;else if(!b(i))break;g+=i,f+=1}return f<h&&(i=this.peek(f),d(i))?null:{type:"number",value:g,base:8,isMalformed:!1}}a(i)&&(f+=1,g+=i)}for(;f<h&&(i=this.peek(f),a(i));)g+=i,f+=1}if("."===i)for(g+=i,f+=1;f<h&&(i=this.peek(f),a(i));)g+=i,f+=1;if("e"===i||"E"===i){if(g+=i,f+=1,i=this.peek(f),"+"!==i&&"-"!==i||(g+=this.peek(f),f+=1),i=this.peek(f),!a(i))return null;for(g+=i,f+=1;f<h&&(i=this.peek(f),a(i));)g+=i,f+=1}return f<h&&(i=this.peek(f),!this.isPunctuator(i))?null:{type:"number",value:g,base:10,pos:this["char"],isMalformed:!isFinite(+g)}},isPunctuator:function(a){switch(a){case".":case"(":case")":case",":case"{":case"}":return!0}return!1},scanPunctuator:function(){var a=this.peek();return this.isPunctuator(a)?{type:a,value:a,pos:this["char"]}:null},scanStringLiteral:function(){var a=this.peek();if('"'!==a&&"'"!==a)return null;var b="";for(this.skip();this.peek()!==a;){if(""===this.peek())return{type:"string",value:b,isUnclosed:!0,quote:a,pos:this["char"]};var c=this.peek(),d=1;b+=c,this.skip(d)}return this.skip(),{type:"string",value:b,isUnclosed:!1,quote:a,pos:this["char"]}}}}}}),System.register("app/plugins/datasource/graphite/parser.js",["./lexer"],function(a){function b(a){this.expression=a,this.lexer=new c.Lexer(a),this.tokens=this.lexer.tokenize(),this.index=0}var c;return a("Parser",b),{setters:[function(a){c=a}],execute:function(){b.prototype={getAst:function(){return this.start()},start:function(){try{return this.functionCall()||this.metricExpression()}catch(a){return{type:"error",message:a.message,pos:a.pos}}},curlyBraceSegment:function(){if(this.match("identifier","{")||this.match("{")){for(var a="";!this.match("")&&!this.match("}");)a+=this.consumeToken().value;return this.match("}")||this.errorMark("Expected closing '}'"),a+=this.consumeToken().value,this.match("identifier")&&(a+=this.consumeToken().value),{type:"segment",value:a}}return null},metricSegment:function(){var a=this.curlyBraceSegment();if(a)return a;if(this.match("identifier")||this.match("number")){var b=this.consumeToken().value.split(".");return 2===b.length&&(this.tokens.splice(this.index,0,{type:"."}),this.tokens.splice(this.index+1,0,{type:"number",value:b[1]})),{type:"segment",value:b[0]}}this.match("templateStart")||this.errorMark("Expected metric identifier"),
this.consumeToken(),this.match("identifier")||this.errorMark("Expected identifier after templateStart");var c={type:"template",value:this.consumeToken().value};return this.match("templateEnd")||this.errorMark("Expected templateEnd"),this.consumeToken(),c},metricExpression:function(){if(!(this.match("templateStart")||this.match("identifier")||this.match("number")||this.match("{")))return null;var a={type:"metric",segments:[]};for(a.segments.push(this.metricSegment());this.match(".");){this.consumeToken();var b=this.metricSegment();b||this.errorMark("Expected metric identifier"),a.segments.push(b)}return a},functionCall:function(){if(!this.match("identifier","("))return null;var a={type:"function",name:this.consumeToken().value};return this.consumeToken(),a.params=this.functionParameters(),this.match(")")||this.errorMark("Expected closing parenthesis"),this.consumeToken(),a},boolExpression:function(){return this.match("bool")?{type:"bool",value:"true"===this.consumeToken().value}:null},functionParameters:function(){if(this.match(")")||this.match(""))return[];var a=this.functionCall()||this.numericLiteral()||this.seriesRefExpression()||this.boolExpression()||this.metricExpression()||this.stringLiteral();return this.match(",")?(this.consumeToken(),[a].concat(this.functionParameters())):[a]},seriesRefExpression:function(){if(!this.match("identifier"))return null;var a=this.tokens[this.index].value;if(!a.match(/\#[A-Z]/))return null;var b=this.consumeToken();return{type:"series-ref",value:b.value}},numericLiteral:function(){return this.match("number")?{type:"number",value:parseFloat(this.consumeToken().value)}:null},stringLiteral:function(){if(!this.match("string"))return null;var a=this.consumeToken();if(a.isUnclosed)throw{message:"Unclosed string parameter",pos:a.pos};return{type:"string",value:a.value}},errorMark:function(a){var b=this.tokens[this.index],c=b?b.type:"end of string";throw{message:a+" instead found "+c,pos:b?b.pos:this.lexer["char"]}},consumeToken:function(){return this.index++,this.tokens[this.index-1]},matchToken:function(a,b){var c=this.tokens[this.index+b];return void 0===c&&""===a||c&&c.type===a},match:function(a,b){return this.matchToken(a,0)&&(!b||this.matchToken(b,1))}}}}}),System.register("app/plugins/datasource/graphite/query_ctrl.js",["./add_graphite_func","./func_editor","lodash","./gfunc","./parser","app/plugins/sdk"],function(a){var b,c,d,e,f,g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};return{setters:[function(a){},function(a){},function(a){b=a},function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(a){function e(b,c,d,e){a.call(this,b,c),this.uiSegmentSrv=d,this.templateSrv=e,this.target&&(this.target.target=this.target.target||"",this.parseTarget())}return g(e,a),e.$inject=["$scope","$injector","uiSegmentSrv","templateSrv"],e.prototype.toggleEditorMode=function(){this.target.textEditor=!this.target.textEditor,this.parseTarget()},e.prototype.parseTarget=function(){if(this.functions=[],this.segments=[],this.error=null,!this.target.textEditor){var a=new d.Parser(this.target.target),b=a.getAst();if(null===b)return void this.checkOtherSegments(0);if("error"===b.type)return this.error=b.message+" at position: "+b.pos,void(this.target.textEditor=!0);try{this.parseTargeRecursive(b,null,0)}catch(c){console.log("error parsing target:",c.message),this.error=c.message,this.target.textEditor=!0}this.checkOtherSegments(this.segments.length-1)}},e.prototype.addFunctionParameter=function(a,b,c,d){d&&(c=Math.max(c-1,0)),a.params[c]=b},e.prototype.parseTargeRecursive=function(a,d,e){var f=this;if(null===a)return null;switch(a.type){case"function":var g=c["default"].createFuncInstance(a.name,{withDefaultParams:!1});b["default"].each(a.params,function(a,b){f.parseTargeRecursive(a,g,b)}),g.updateText(),this.functions.push(g);break;case"series-ref":this.addFunctionParameter(d,a.value,e,this.segments.length>0);break;case"bool":case"string":case"number":if(e-1>=d.def.params.length)throw{message:"invalid number of parameters to method "+d.def.name};this.addFunctionParameter(d,a.value,e,!0);break;case"metric":if(this.segments.length>0){if(1!==a.segments.length)throw{message:"Multiple metric params not supported, use text editor."};this.addFunctionParameter(d,a.segments[0].value,e,!0);break}this.segments=b["default"].map(a.segments,function(a){return f.uiSegmentSrv.newSegment(a)})}},e.prototype.getSegmentPathUpTo=function(a){var c=this.segments.slice(0,a);return b["default"].reduce(c,function(a,b){return a?a+"."+b.value:b.value},"")},e.prototype.checkOtherSegments=function(a){var b=this;if(0===a)return void this.segments.push(this.uiSegmentSrv.newSelectMetric());var c=this.getSegmentPathUpTo(a+1);return this.datasource.metricFindQuery(c).then(function(d){if(0===d.length)""!==c&&(b.segments=b.segments.splice(0,a),b.segments.push(b.uiSegmentSrv.newSelectMetric()));else if(d[0].expandable){if(b.segments.length!==a)return b.checkOtherSegments(a+1);b.segments.push(b.uiSegmentSrv.newSelectMetric())}})["catch"](function(a){b.error=a.message||"Failed to issue metric query"})},e.prototype.setSegmentFocus=function(a){b["default"].each(this.segments,function(b,c){b.focus=a===c})},e.prototype.wrapFunction=function(a,b){return b.render(a)},e.prototype.getAltSegments=function(a){var c=this,d=0===a?"*":this.getSegmentPathUpTo(a)+".*";return this.datasource.metricFindQuery(d).then(function(a){var d=b["default"].map(a,function(a){return c.uiSegmentSrv.newSegment({value:a.text,expandable:a.expandable})});return 0===d.length?d:(b["default"].each(c.templateSrv.variables,function(a){d.unshift(c.uiSegmentSrv.newSegment({type:"template",value:"$"+a.name,expandable:!0}))}),d.unshift(c.uiSegmentSrv.newSegment("*")),d)})["catch"](function(a){return c.error=a.message||"Failed to issue metric query",[]})},e.prototype.segmentValueChanged=function(a,b){var c=this;return this.error=null,this.functions.length>0&&this.functions[0].def.fake&&(this.functions=[]),a.expandable?this.checkOtherSegments(b+1).then(function(){c.setSegmentFocus(b+1),c.targetChanged()}):(this.segments=this.segments.splice(0,b+1),this.setSegmentFocus(b+1),void this.targetChanged())},e.prototype.targetTextChanged=function(){this.parseTarget(),this.panelCtrl.refresh()},e.prototype.targetChanged=function(){if(!this.error){var a=this.target.target,c=this.getSegmentPathUpTo(this.segments.length);this.target.target=b["default"].reduce(this.functions,this.wrapFunction,c),this.target.target!==a&&"select metric"!==this.segments[this.segments.length-1].value&&this.panelCtrl.refresh()}},e.prototype.removeFunction=function(a){this.functions=b["default"].without(this.functions,a),this.targetChanged()},e.prototype.addFunction=function(a){var b=c["default"].createFuncInstance(a,{withDefaultParams:!0});b.added=!0,this.functions.push(b),this.moveAliasFuncLast(),this.smartlyHandleNewAliasByNode(b),1===this.segments.length&&this.segments[0].fake&&(this.segments=[]),!b.params.length&&b.added&&this.targetChanged()},e.prototype.moveAliasFuncLast=function(){var a=b["default"].find(this.functions,function(a){return"alias"===a.def.name||"aliasByNode"===a.def.name||"aliasByMetric"===a.def.name});a&&(this.functions=b["default"].without(this.functions,a),this.functions.push(a))},e.prototype.smartlyHandleNewAliasByNode=function(a){if("aliasByNode"===a.def.name)for(var b=0;b<this.segments.length;b++)if(this.segments[b].value.indexOf("*")>=0)return a.params[0]=b,a.added=!1,void this.targetChanged()},e.templateUrl="partials/query.editor.html",e}(e.QueryCtrl),a("GraphiteQueryCtrl",f)}}}),System.register("app/plugins/datasource/graphite/module.js",["./datasource","./query_ctrl"],function(a){var b,c,d,e,f;return{setters:[function(a){b=a},function(a){c=a}],execute:function(){d=function(){function a(){}return a.templateUrl="partials/config.html",a}(),e=function(){function a(){}return a.templateUrl="partials/query.options.html",a}(),f=function(){function a(){}return a.templateUrl="partials/annotations.editor.html",a}(),a("Datasource",b.GraphiteDatasource),a("QueryCtrl",c.GraphiteQueryCtrl),a("ConfigCtrl",d),a("QueryOptionsCtrl",e),a("AnnotationsQueryCtrl",f)}}}),function(){var a=System.amdDefine;a("app/plugins/datasource/influxdb/influx_series.js",["lodash","app/core/table_model"],function(a,b){"use strict";function c(a){this.series=a.series,this.alias=a.alias,this.annotation=a.annotation}var d=c.prototype;return d.getTimeSeries=function(){var b,c,d=[],e=this;return 0===e.series.length?d:(a.each(e.series,function(f){var g=f.columns.length,h=a.map(f.tags,function(a,b){return b+": "+a});for(c=1;c<g;c++){var i=f.name,j=f.columns[c];"value"!==j&&(i=i+"."+j),e.alias?i=e._getSeriesName(f,c):f.tags&&(i=i+" {"+h.join(", ")+"}");var k=[];if(f.values)for(b=0;b<f.values.length;b++)k[b]=[f.values[b][c],f.values[b][0]];d.push({target:i,datapoints:k})}}),d)},d._getSeriesName=function(a,b){var c=/\$(\w+)|\[\[([\s\S]+?)\]\]/g,d=a.name.split(".");return this.alias.replace(c,function(c,e,f){var g=e||f,h=parseInt(g,10);if("m"===g||"measurement"===g)return a.name;if("col"===g)return a.columns[b];if(!isNaN(h))return d[h];if(0!==g.indexOf("tag_"))return c;var i=g.replace("tag_","");return a.tags?a.tags[i]:c})},d.getAnnotations=function(){var b=[],c=this;return a.each(this.series,function(d){var e=null,f=null,g=null,h=null;a.each(d.columns,function(a,b){if("time"===a)return void(f=b);if("sequence_number"!==a)return e||(e=b),a===c.annotation.titleColumn?void(e=b):a===c.annotation.tagsColumn?void(g=b):a===c.annotation.textColumn?void(h=b):void 0}),a.each(d.values,function(a){var d={annotation:c.annotation,time:+new Date(a[f]),title:a[e],tags:a[g],text:a[h]};b.push(d)})}),b},d.getTable=function(){var c,d,e=new b["default"],f=this;return 0===f.series.length?e:(a.each(f.series,function(b,f){if(0===f)for(e.columns.push({text:"Time",type:"time"}),a.each(a.keys(b.tags),function(a){e.columns.push({text:a})}),d=1;d<b.columns.length;d++)e.columns.push({text:b.columns[d]});if(b.values)for(c=0;c<b.values.length;c++){var g=b.values[c],h=[g[0]];if(b.tags)for(var i in b.tags)b.tags.hasOwnProperty(i)&&h.push(b.tags[i]);for(d=1;d<g.length;d++)h.push(g[d]);e.rows.push(h)}}),e)},c})}(),System.register("app/plugins/datasource/influxdb/response_parser.js",["lodash"],function(a){function b(a,b){a[b]=b}var c,d;return{setters:[function(a){c=a}],execute:function(){d=function(){function a(){}return a.prototype.parse=function(a,d){if(!d||0===d.results.length)return[];var e=d.results[0];if(!e.series)return[];var f=a.toLowerCase().indexOf("show tag values")>=0,g={};return c["default"].each(e.series,function(a){c["default"].each(a.values,function(a){c["default"].isArray(a)?f?b(g,a[1]||a[0]):b(g,a[0]):b(g,a)})}),c["default"].map(g,function(a){return{text:a}})},a}(),a("default",d)}}}),System.register("app/plugins/datasource/influxdb/datasource.js",["lodash","app/core/utils/datemath","./influx_series","./influx_query","./response_parser"],function(a){var b,c,d,e,f,g;return{setters:[function(a){b=a},function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){g=function(){function a(a,c,d,e){this.$q=c,this.backendSrv=d,this.templateSrv=e,this.type="influxdb",this.urls=b["default"].map(a.url.split(","),function(a){return a.trim()}),this.username=a.username,this.password=a.password,this.name=a.name,this.database=a.database,this.basicAuth=a.basicAuth,this.interval=(a.jsonData||{}).timeInterval,this.supportAnnotations=!0,this.supportMetrics=!0,this.responseParser=new f["default"]}return a.$inject=["instanceSettings","$q","backendSrv","templateSrv"],a.prototype.query=function(a){var c,f,g=this,h=this.getTimeFilter(a),i=[],j=b["default"].map(a.targets,function(b){if(b.hide)return"";i.push(b);var c=new e["default"](b,g.templateSrv,a.scopedVars),d=c.render(!0);return d=d.replace(/\$interval/g,b.interval||a.interval)}).reduce(function(a,b){return""!==b&&(a+=";"+b),a});return j=j.replace(/\$timeFilter/g,h),j=this.templateSrv.replace(j,a.scopedVars),this._seriesQuery(j).then(function(b){if(!b||!b.results)return[];var e=[];for(c=0;c<b.results.length;c++){var h=b.results[c];if(h&&h.series){var j=i[c],k=j.alias;k&&(k=g.templateSrv.replace(j.alias,a.scopedVars));var l=new d["default"]({series:b.results[c].series,alias:k});switch(j.resultFormat){case"table":e.push(l.getTable());break;default:var m=l.getTimeSeries();for(f=0;f<m.length;f++)e.push(m[f])}}}return{data:e}})},a.prototype.annotationQuery=function(a){if(!a.annotation.query)return this.$q.reject({message:"Query missing in annotation definition"});var b=this.getTimeFilter({rangeRaw:a.rangeRaw}),c=a.annotation.query.replace("$timeFilter",b);return c=this.templateSrv.replace(c,null,"regex"),this._seriesQuery(c).then(function(b){if(!b||!b.results||!b.results[0])throw{message:"No results in response from InfluxDB"};return new d["default"]({series:b.results[0].series,annotation:a.annotation}).getAnnotations()})},a.prototype.metricFindQuery=function(a){var c;try{c=this.templateSrv.replace(a,null,"regex")}catch(d){return this.$q.reject(d)}return this._seriesQuery(c).then(b["default"].curry(this.responseParser.parse)(a))},a.prototype._seriesQuery=function(a){return this._influxRequest("GET","/query",{q:a,epoch:"ms"})},a.prototype.serializeParams=function(a){return a?b["default"].reduce(a,function(a,b,c){return null===b||void 0===b?a:(a.push(encodeURIComponent(c)+"="+encodeURIComponent(b)),a)},[]).join("&"):""},a.prototype.testDatasource=function(){return this.metricFindQuery("SHOW MEASUREMENTS LIMIT 1").then(function(){return{status:"success",message:"Data source is working",title:"Success"}})},a.prototype._influxRequest=function(a,c,d){var e=this,f=e.urls.shift();e.urls.push(f);var g={u:e.username,p:e.password};e.database&&(g.db=e.database),"GET"===a&&(b["default"].extend(g,d),d=null);var h={method:a,url:f+c,params:g,data:d,precision:"ms",inspect:{type:"influxdb"},paramSerializer:this.serializeParams};return h.headers=h.headers||{},e.basicAuth&&(h.headers.Authorization=e.basicAuth),this.backendSrv.datasourceRequest(h).then(function(a){return a.data},function(a){if(0!==a.status||a.status>=300)throw a.data&&a.data.error?{message:"InfluxDB Error Response: "+a.data.error,data:a.data,config:a.config}:{message:"InfluxDB Error: "+a.message,data:a.data,config:a.config}})},a.prototype.getTimeFilter=function(a){var b=this.getInfluxTime(a.rangeRaw.from,!1),c=this.getInfluxTime(a.rangeRaw.to,!0),d="s"===b[b.length-1];return"now()"!==c||d?"time > "+b+" and time < "+c:"time > "+b},a.prototype.getInfluxTime=function(a,d){if(b["default"].isString(a)){if("now"===a)return"now()";var e=/^now-(\d+)([d|h|m|s])$/.exec(a);if(e){var f=parseInt(e[1]),g=e[2];return"now() - "+f+g}a=c.parse(a,d)}return(a.valueOf()/1e3).toFixed(0)+"s"},a}(),a("default",g)}}}),function(){var a=System.amdDefine;a("app/plugins/datasource/influxdb/query_builder.js",["lodash"],function(a){"use strict";function b(a,b){this.target=a,this.database=b}function c(a,b){var c="",d=a.operator,e=a.value;return b>0&&(c=(a.condition||"AND")+" "),d||(d=/^\/.*\/$/.test(a.value)?"=~":"="),"=~"!==d&&"!~"!==d&&isNaN(+e)&&(e="'"+e+"'"),c+'"'+a.key+'" '+d+" "+e}var d=b.prototype;return d.build=function(){return this.target.rawQuery?this._modifyRawQuery():this._buildQuery()},d.buildExploreQuery=function(b,d){var e,f;if("TAG_KEYS"===b)e="SHOW TAG KEYS",f=this.target.measurement;else if("TAG_VALUES"===b)e="SHOW TAG VALUES",f=this.target.measurement;else if("MEASUREMENTS"===b)e="SHOW MEASUREMENTS";else{if("FIELDS"===b)return e='SHOW FIELD KEYS FROM "'+this.target.measurement+'"';if("RETENTION POLICIES"===b)return e='SHOW RETENTION POLICIES on "'+this.database+'"'}if(f&&(f.match("^/.*/")||f.match(/^merge\(.*\)/)||(f='"'+f+'"'),e+=" FROM "+f),d&&(e+=' WITH KEY = "'+d+'"'),this.target.tags&&this.target.tags.length>0){var g=a.reduce(this.target.tags,function(a,b){return b.key===d?a:(a.push(c(b,a.length)),a)},[]);g.length>0&&(e+=" WHERE "+g.join(" "))}return e},b})}(),System.register("app/plugins/datasource/influxdb/influx_query.js",["lodash","./query_part"],function(a){var b,c,d;return{setters:[function(a){b=a},function(a){c=a}],execute:function(){d=function(){function a(a,b,c){this.target=a,this.templateSrv=b,this.scopedVars=c,a.policy=a.policy||"default",a.dsType="influxdb",a.resultFormat=a.resultFormat||"time_series",a.tags=a.tags||[],a.groupBy=a.groupBy||[{type:"time",params:["$interval"]},{type:"fill",params:["null"]}],a.select=a.select||[[{type:"field",params:["value"]},{type:"mean",params:[]}]],this.updateProjection()}return a.$inject=["target","templateSrv","scopedVars"],a.prototype.updateProjection=function(){this.selectModels=b["default"].map(this.target.select,function(a){return b["default"].map(a,c["default"].create)}),this.groupByParts=b["default"].map(this.target.groupBy,c["default"].create)},a.prototype.updatePersistedParts=function(){this.target.select=b["default"].map(this.selectModels,function(a){return b["default"].map(a,function(a){return{type:a.def.type,params:a.params}})})},a.prototype.hasGroupByTime=function(){return b["default"].find(this.target.groupBy,function(a){return"time"===a.type})},a.prototype.hasFill=function(){return b["default"].find(this.target.groupBy,function(a){return"fill"===a.type})},a.prototype.addGroupBy=function(a){var b=a.match(/^(\w+)\((.*)\)$/),d=b[1],e=b[2],f=c["default"].create({type:d,params:[e]}),g=this.target.groupBy.length;0===g?this.target.groupBy.push(f.part):"time"===d?this.target.groupBy.splice(0,0,f.part):"tag"===d&&"fill"===this.target.groupBy[g-1].type?this.target.groupBy.splice(g-1,0,f.part):this.target.groupBy.push(f.part),this.updateProjection()},a.prototype.removeGroupByPart=function(a,d){var e=c["default"].getCategories();"time"===a.def.type&&(this.target.groupBy=b["default"].filter(this.target.groupBy,function(a){return"fill"!==a.type}),this.target.select=b["default"].map(this.target.select,function(a){return b["default"].filter(a,function(a){var b=c["default"].create(a);return b.def.category!==e.Aggregations&&b.def.category!==e.Selectors})})),this.target.groupBy.splice(d,1),this.updateProjection()},a.prototype.removeSelect=function(a){this.target.select.splice(a,1),this.updateProjection()},a.prototype.removeSelectPart=function(a,c){if("field"===c.def.type){if(this.selectModels.length>1){var d=b["default"].indexOf(this.selectModels,a);this.selectModels.splice(d,1)}}else{var e=b["default"].indexOf(a,c);a.splice(e,1)}this.updatePersistedParts()},a.prototype.addSelectPart=function(a,b){var d=c["default"].create({type:b});d.def.addStrategy(a,d,this),this.updatePersistedParts()},a.prototype.renderTagCondition=function(a,b,c){var d="",e=a.operator,f=a.value;return b>0&&(d=(a.condition||"AND")+" "),e||(e=/^\/.*\/$/.test(f)?"=~":"="),"=~"!==e&&"!~"!==e?(c&&(f=this.templateSrv.replace(f,this.scopedVars)),">"!==e&&"<"!==e&&(f="'"+f.replace(/\\/g,"\\\\")+"'")):c&&(f=this.templateSrv.replace(f,this.scopedVars,"regex")),d+'"'+a.key+'" '+e+" "+f},a.prototype.getMeasurementAndPolicy=function(a){var b=this.target.policy,c=this.target.measurement||"measurement";return c.match("^/.*/")?a&&(c=this.templateSrv.replace(c,this.scopedVars,"regex")):c='"'+c+'"',b="default"!==b?'"'+this.target.policy+'".':"",b+c},a.prototype.render=function(a){var c=this,d=this.target;if(d.rawQuery)return a?this.templateSrv.replace(d.query,this.scopedVars,"regex"):d.query;var e,f,g="SELECT ";for(e=0;e<this.selectModels.length;e++){var h=this.selectModels[e],i="";for(f=0;f<h.length;f++){var j=h[f];i=j.render(i)}e>0&&(g+=", "),g+=i}g+=" FROM "+this.getMeasurementAndPolicy(a)+" WHERE ";var k=b["default"].map(d.tags,function(b,d){return c.renderTagCondition(b,d,a)});g+=k.join(" "),g+=(k.length>0?" AND ":"")+"$timeFilter";var l="";for(e=0;e<this.groupByParts.length;e++){var m=this.groupByParts[e];e>0&&(l+="fill"===m.def.type?" ":", "),l+=m.render("")}return l.length&&(g+=" GROUP BY "+l),d.fill&&(g+=" fill("+d.fill+")"),g},a}(),a("default",d)}}}),System.register("app/core/components/query_part/query_part.js",["lodash"],function(a){function b(a,b){var c=a.def.type+"(",d=f["default"].map(a.params,function(b,c){var d=a.def.params[c];return"time"===d.type&&"auto"===b&&(b="$interval"),"single"===d.quote?"'"+b+"'":"double"===d.quote?'"'+b+'"':b});return b&&d.unshift(b),c+d.join(", ")+")"}function c(a,b){return b+" "+a.params[0]}function d(a,b){return a.params[0]}function e(a,b){return'"'+a.params[0]+'"'}var f,g,h;return a("functionRenderer",b),a("suffixRenderer",c),a("identityRenderer",d),a("quotedIdentityRenderer",e),{setters:[function(a){f=a}],execute:function(){g=function(){function a(a){this.type=a.type,this.params=a.params,this.defaultParams=a.defaultParams,this.renderer=a.renderer,this.category=a.category,this.addStrategy=a.addStrategy}return a}(),a("QueryPartDef",g),h=function(){function a(a,b){if(this.part=a,this.def=b,!this.def)throw{message:"Could not find query part "+a.type};a.params=a.params||f["default"].clone(this.def.defaultParams),this.params=a.params,this.updateText()}return a.prototype.render=function(a){return this.def.renderer(this,a)},a.prototype.hasMultipleParamsInString=function(a,b){return a.indexOf(",")!==-1&&(this.def.params[b+1]&&this.def.params[b+1].optional)},a.prototype.updateParam=function(a,b){return this.hasMultipleParamsInString(a,b)?void f["default"].each(a.split(","),function(a,b){this.updateParam(a.trim(),b)},this):(""===a&&this.def.params[b].optional?this.params.splice(b,1):this.params[b]=a,this.part.params=this.params,void this.updateText())},a.prototype.updateText=function(){if(0===this.params.length)return void(this.text=this.def.type+"()");var a=this.def.type+"(";a+=this.params.join(", "),a+=")",this.text=a},a}(),a("QueryPart",h)}}}),System.register("app/plugins/datasource/influxdb/query_part.js",["lodash","app/core/components/query_part/query_part"],function(a){function b(a){var b=m[a.type];if(!b)throw{message:"Could not find query part "+a.type};return new l.QueryPart(a,b)}function c(a){m[a.type]=new l.QueryPartDef(a),a.category.push(m[a.type])}function d(a,b){return b+' AS "'+a.params[0]+'"'}function e(a,b){return"*"===a.params[0]?"*":'"'+a.params[0]+'"'}function f(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(d.def.category===n.Aggregations)return void(a[c]=b);if(d.def.category===n.Selectors)return void(a[c]=b)}a.splice(1,0,b)}function g(a,b){var c;for(c=0;c<a.length;c++){var d=a[c];if(d.def.category===n.Math||d.def.category===n.Aliasing)break}a.splice(c,0,b)}function h(a,b){var c=a.length;if(c>0){if("math"===a[c-1].def.type)return void(a[c-1]=b);if("math"===a[c-2].def.type)return void(a[c-2]=b);if("alias"===a[c-1].def.type)return void a.splice(c-1,0,b)}a.push(b)}function i(a,b){var c=a.length;return c>0&&"alias"===a[c-1].def.type?void(a[c-1]=b):void a.push(b)}function j(a,c,d){var e=k["default"].map(a,function(a){return b({type:a.def.type,params:k["default"].clone(a.params)})});d.selectModels.push(e)}var k,l,m,n,o;return{setters:[function(a){k=a},function(a){l=a}],execute:function(){m=[],n={Aggregations:[],Selectors:[],Transformations:[],Math:[],Aliasing:[],Fields:[]},o=[],c({type:"field",addStrategy:j,category:n.Fields,params:[{type:"field",dynamicLookup:!0}],defaultParams:["value"],renderer:e}),c({type:"count",addStrategy:f,category:n.Aggregations,params:[],defaultParams:[],renderer:l.functionRenderer}),c({type:"distinct",addStrategy:f,category:n.Aggregations,params:[],defaultParams:[],renderer:l.functionRenderer}),c({type:"integral",addStrategy:f,category:n.Aggregations,params:[],defaultParams:[],renderer:l.functionRenderer}),c({type:"mean",addStrategy:f,category:n.Aggregations,params:[],defaultParams:[],renderer:l.functionRenderer}),c({type:"median",addStrategy:f,category:n.Aggregations,params:[],defaultParams:[],renderer:l.functionRenderer}),c({type:"sum",addStrategy:f,category:n.Aggregations,params:[],defaultParams:[],renderer:l.functionRenderer}),c({type:"derivative",addStrategy:g,category:n.Transformations,params:[{name:"duration",type:"interval",options:["1s","10s","1m","5m","10m","15m","1h"]}],defaultParams:["10s"],renderer:l.functionRenderer}),c({type:"spread",addStrategy:g,category:n.Transformations,params:[],defaultParams:[],renderer:l.functionRenderer}),c({type:"non_negative_derivative",addStrategy:g,category:n.Transformations,params:[{name:"duration",type:"interval",options:["1s","10s","1m","5m","10m","15m","1h"]}],defaultParams:["10s"],renderer:l.functionRenderer}),c({type:"difference",addStrategy:g,category:n.Transformations,params:[],defaultParams:[],renderer:l.functionRenderer}),c({type:"moving_average",addStrategy:g,category:n.Transformations,params:[{name:"window",type:"number",options:[5,10,20,30,40]}],defaultParams:[10],renderer:l.functionRenderer}),c({type:"stddev",addStrategy:g,category:n.Transformations,params:[],defaultParams:[],renderer:l.functionRenderer}),c({type:"time",category:o,params:[{name:"interval",type:"time",options:["auto","1s","10s","1m","5m","10m","15m","1h"]}],defaultParams:["auto"],renderer:l.functionRenderer}),c({type:"fill",category:o,params:[{name:"fill",type:"string",options:["none","null","0","previous"]}],defaultParams:["null"],renderer:l.functionRenderer}),c({type:"bottom",addStrategy:f,category:n.Selectors,params:[{name:"count",type:"int"}],defaultParams:[3],renderer:l.functionRenderer}),c({type:"first",addStrategy:f,category:n.Selectors,params:[],defaultParams:[],renderer:l.functionRenderer}),c({type:"last",addStrategy:f,category:n.Selectors,params:[],defaultParams:[],renderer:l.functionRenderer}),c({type:"max",addStrategy:f,category:n.Selectors,params:[],defaultParams:[],renderer:l.functionRenderer}),c({type:"min",addStrategy:f,category:n.Selectors,params:[],defaultParams:[],renderer:l.functionRenderer}),c({type:"percentile",addStrategy:f,category:n.Selectors,params:[{name:"nth",type:"int"}],defaultParams:[95],renderer:l.functionRenderer}),c({type:"top",addStrategy:f,category:n.Selectors,params:[{name:"count",type:"int"}],defaultParams:[3],renderer:l.functionRenderer}),c({type:"tag",category:o,params:[{name:"tag",type:"string",dynamicLookup:!0}],defaultParams:["tag"],renderer:e}),c({type:"math",addStrategy:h,category:n.Math,params:[{name:"expr",type:"string"}],defaultParams:[" / 100"],renderer:l.suffixRenderer}),c({type:"alias",addStrategy:i,category:n.Aliasing,params:[{name:"name",type:"string",quote:"double"}],defaultParams:["alias"],renderMode:"suffix",renderer:d}),a("default",{create:b,getCategories:function(){return n}})}}}),System.register("app/plugins/datasource/influxdb/query_ctrl.js",["angular","lodash","./query_builder","./influx_query","./query_part","app/plugins/sdk"],function(a){var b,c,d,e,f,g,h,i=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};return{setters:[function(a){b=a},function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a}],execute:function(){h=function(a){function g(b,c,f,g,h){a.call(this,b,c),this.templateSrv=f,this.$q=g,this.uiSegmentSrv=h,this.target=this.target,this.queryModel=new e["default"](this.target,f,this.panel.scopedVars),this.queryBuilder=new d["default"](this.target,this.datasource.database),this.groupBySegment=this.uiSegmentSrv.newPlusButton(),this.resultFormats=[{text:"Time series",value:"time_series"},{text:"Table",value:"table"}],this.policySegment=h.newSegment(this.target.policy),this.target.measurement?this.measurementSegment=h.newSegment(this.target.measurement):this.measurementSegment=h.newSelectMeasurement(),this.tagSegments=[];for(var i=0,j=this.target.tags;i<j.length;i++){var k=j[i];k.operator||(/^\/.*\/$/.test(k.value)?k.operator="=~":k.operator="="),k.condition&&this.tagSegments.push(h.newCondition(k.condition)),this.tagSegments.push(h.newKey(k.key)),this.tagSegments.push(h.newOperator(k.operator)),this.tagSegments.push(h.newKeyValue(k.value))}this.fixTagSegments(),this.buildSelectMenu(),this.removeTagFilterSegment=h.newSegment({fake:!0,value:"-- remove tag filter --"})}return i(g,a),g.$inject=["$scope","$injector","templateSrv","$q","uiSegmentSrv"],g.prototype.buildSelectMenu=function(){var a=f["default"].getCategories();this.selectMenu=c["default"].reduce(a,function(a,b,c){var d={text:c,submenu:b.map(function(a){return{text:a.type,value:a.type}})};return a.push(d),a},[])},g.prototype.getGroupByOptions=function(){var a=this,b=this.queryBuilder.buildExploreQuery("TAG_KEYS");return this.datasource.metricFindQuery(b).then(function(b){var c=[];a.queryModel.hasFill()||c.push(a.uiSegmentSrv.newSegment({value:"fill(null)"})),a.queryModel.hasGroupByTime()||c.push(a.uiSegmentSrv.newSegment({value:"time($interval)"}));for(var d=0;d<b.length;d++){var e=b[d];c.push(a.uiSegmentSrv.newSegment({value:"tag("+e.text+")"}))}return c})["catch"](this.handleQueryError.bind(this))},g.prototype.groupByAction=function(){this.queryModel.addGroupBy(this.groupBySegment.value);var a=this.uiSegmentSrv.newPlusButton();this.groupBySegment.value=a.value,this.groupBySegment.html=a.html,this.panelCtrl.refresh()},g.prototype.removeGroupByPart=function(a,b){this.queryModel.removeGroupByPart(a,b),this.panelCtrl.refresh()},g.prototype.addSelectPart=function(a,b,c){this.queryModel.addSelectPart(a,c.value),this.panelCtrl.refresh()},g.prototype.removeSelectPart=function(a,b){this.queryModel.removeSelectPart(a,b),this.panelCtrl.refresh()},g.prototype.selectPartUpdated=function(){this.panelCtrl.refresh()},g.prototype.fixTagSegments=function(){var a=this.tagSegments.length,b=this.tagSegments[Math.max(a-1,0)];b&&"plus-button"===b.type||this.tagSegments.push(this.uiSegmentSrv.newPlusButton())},g.prototype.measurementChanged=function(){this.target.measurement=this.measurementSegment.value,this.panelCtrl.refresh()},g.prototype.getPolicySegments=function(){var a=this.queryBuilder.buildExploreQuery("RETENTION POLICIES");return this.datasource.metricFindQuery(a).then(this.transformToSegments(!1))["catch"](this.handleQueryError.bind(this))},g.prototype.policyChanged=function(){this.target.policy=this.policySegment.value,this.panelCtrl.refresh()},g.prototype.toggleEditorMode=function(){try{this.target.query=this.queryModel.render(!1)}catch(a){console.log("query render error")}this.target.rawQuery=!this.target.rawQuery},g.prototype.getMeasurements=function(){var a=this.queryBuilder.buildExploreQuery("MEASUREMENTS");return this.datasource.metricFindQuery(a).then(this.transformToSegments(!0))["catch"](this.handleQueryError.bind(this))},g.prototype.getPartOptions=function(a){if("field"===a.def.type){var b=this.queryBuilder.buildExploreQuery("FIELDS");return this.datasource.metricFindQuery(b).then(this.transformToSegments(!0))["catch"](this.handleQueryError.bind(this))}if("tag"===a.def.type){var c=this.queryBuilder.buildExploreQuery("TAG_KEYS");return this.datasource.metricFindQuery(c).then(this.transformToSegments(!0))["catch"](this.handleQueryError.bind(!0))}},g.prototype.handleQueryError=function(a){return this.error=a.message||"Failed to issue metric query",[]},g.prototype.transformToSegments=function(a){var b=this;return function(d){var e=c["default"].map(d,function(a){return b.uiSegmentSrv.newSegment({value:a.text,expandable:a.expandable})});if(a)for(var f=0,g=b.templateSrv.variables;f<g.length;f++){var h=g[f];e.unshift(b.uiSegmentSrv.newSegment({type:"template",value:"/^$"+h.name+"$/",expandable:!0}))}return e}},g.prototype.getTagsOrValues=function(a,c){var d=this;if("condition"===a.type)return this.$q.when([this.uiSegmentSrv.newSegment("AND"),this.uiSegmentSrv.newSegment("OR")]);if("operator"===a.type){var e=this.tagSegments[c+1].value;return/^\/.*\/$/.test(e)?this.$q.when(this.uiSegmentSrv.newOperators(["=~","!~"])):this.$q.when(this.uiSegmentSrv.newOperators(["=","<>","<",">"]))}var f,g;return"key"===a.type||"plus-button"===a.type?(f=this.queryBuilder.buildExploreQuery("TAG_KEYS"),g=!1):"value"===a.type&&(f=this.queryBuilder.buildExploreQuery("TAG_VALUES",this.tagSegments[c-2].value),
g=!0),this.datasource.metricFindQuery(f).then(this.transformToSegments(g)).then(function(c){return"key"===a.type&&c.splice(0,0,b["default"].copy(d.removeTagFilterSegment)),c})["catch"](this.handleQueryError.bind(this))},g.prototype.getFieldSegments=function(){var a=this.queryBuilder.buildExploreQuery("FIELDS");return this.datasource.metricFindQuery(a).then(this.transformToSegments(!1))["catch"](this.handleQueryError)},g.prototype.setFill=function(a){this.target.fill=a,this.panelCtrl.refresh()},g.prototype.tagSegmentUpdated=function(a,b){this.tagSegments[b]=a,a.value===this.removeTagFilterSegment.value?(this.tagSegments.splice(b,3),0===this.tagSegments.length?this.tagSegments.push(this.uiSegmentSrv.newPlusButton()):this.tagSegments.length>2&&(this.tagSegments.splice(Math.max(b-1,0),1),"plus-button"!==this.tagSegments[this.tagSegments.length-1].type&&this.tagSegments.push(this.uiSegmentSrv.newPlusButton()))):("plus-button"===a.type&&(b>2&&this.tagSegments.splice(b,0,this.uiSegmentSrv.newCondition("AND")),this.tagSegments.push(this.uiSegmentSrv.newOperator("=")),this.tagSegments.push(this.uiSegmentSrv.newFake("select tag value","value","query-segment-value")),a.type="key",a.cssClass="query-segment-key"),b+1===this.tagSegments.length&&this.tagSegments.push(this.uiSegmentSrv.newPlusButton())),this.rebuildTargetTagConditions()},g.prototype.rebuildTargetTagConditions=function(){var a=this,b=[],d=0,e="";c["default"].each(this.tagSegments,function(c,f){"key"===c.type?(0===b.length&&b.push({}),b[d].key=c.value):"value"===c.type?(e=a.getTagValueOperator(c.value,b[d].operator),e&&(a.tagSegments[f-1]=a.uiSegmentSrv.newOperator(e),b[d].operator=e),b[d].value=c.value):"condition"===c.type?(b.push({condition:c.value}),d+=1):"operator"===c.type&&(b[d].operator=c.value)}),this.target.tags=b,this.panelCtrl.refresh()},g.prototype.getTagValueOperator=function(a,b){return"=~"!==b&&"!~"!==b&&/^\/.*\/$/.test(a)?"=~":"=~"!==b&&"!~"!==b||!/^(?!\/.*\/$)/.test(a)?void 0:"="},g.prototype.getCollapsedText=function(){return this.queryModel.render(!1)},g.templateUrl="partials/query.editor.html",g}(g.QueryCtrl),a("InfluxQueryCtrl",h)}}}),System.register("app/plugins/datasource/influxdb/module.js",["./datasource","./query_ctrl"],function(a){var b,c,d,e,f;return{setters:[function(a){b=a},function(a){c=a}],execute:function(){d=function(){function a(){}return a.templateUrl="partials/config.html",a}(),e=function(){function a(){}return a.templateUrl="partials/query.options.html",a}(),f=function(){function a(){}return a.templateUrl="partials/annotations.editor.html",a}(),a("Datasource",b["default"]),a("QueryCtrl",c.InfluxQueryCtrl),a("ConfigCtrl",d),a("QueryOptionsCtrl",e),a("AnnotationsQueryCtrl",f)}}}),System.register("app/features/dashboard/impression_store.js",["app/core/store","lodash","app/core/config"],function(a){var b,c,d,e,f;return{setters:[function(a){b=a},function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(){}return a.prototype.addDashboardImpression=function(a){var e=this.impressionKey(d["default"]),f=[];b["default"].exists(e)&&(f=JSON.parse(b["default"].get(e)),c["default"].isArray(f)||(f=[])),f=f.filter(function(b){return a!==b}),f.unshift(a),f.length>50&&f.pop(),b["default"].set(e,JSON.stringify(f))},a.prototype.getDashboardOpened=function(){var a=b["default"].get(this.impressionKey(d["default"]))||"[]";return a=JSON.parse(a),a=c["default"].filter(a,function(a){return c["default"].isNumber(a)})},a.prototype.impressionKey=function(a){return"dashboard_impressions-"+a.bootData.user.orgId},a}(),a("ImpressionsStore",e),f=new e,a("impressions",f)}}}),System.register("app/plugins/panel/dashlist/module.js",["lodash","app/plugins/sdk","app/features/dashboard/impression_store"],function(a){var b,c,d,e,f=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};return{setters:[function(a){b=a},function(a){c=a},function(a){d=a}],execute:function(){e=function(a){function c(c,d,e){a.call(this,c,d),this.backendSrv=e,this.panelDefaults={query:"",limit:10,tags:[],recent:!1,search:!1,starred:!0,headings:!0},b["default"].defaults(this.panel,this.panelDefaults),this.panel.tag&&(this.panel.tags=[this.panel.tag],delete this.panel.tag),this.events.on("refresh",this.onRefresh.bind(this)),this.events.on("init-edit-mode",this.onInitEditMode.bind(this)),this.groups=[{list:[],show:!1,header:"Starred dashboards"},{list:[],show:!1,header:"Recently viewed dashboards"},{list:[],show:!1,header:"Search"}],this.panel.mode&&("starred"===this.panel.mode&&(this.panel.starred=!0,this.panel.headings=!1),"recently viewed"===this.panel.mode&&(this.panel.recent=!0,this.panel.starred=!1,this.panel.headings=!1),"search"===this.panel.mode&&(this.panel.search=!0,this.panel.starred=!1,this.panel.headings=!1),delete this.panel.mode)}return f(c,a),c.$inject=["$scope","$injector","backendSrv"],c.prototype.onInitEditMode=function(){this.editorTabIndex=1,this.modes=["starred","search","recently viewed"],this.addEditorTab("Options","public/app/plugins/panel/dashlist/editor.html")},c.prototype.onRefresh=function(){var a=[];return a.push(this.getRecentDashboards()),a.push(this.getStarred()),a.push(this.getSearch()),Promise.all(a).then(this.renderingCompleted.bind(this))},c.prototype.getSearch=function(){var a=this;if(this.groups[2].show=this.panel.search,!this.panel.search)return Promise.resolve();var b={limit:this.panel.limit,query:this.panel.query,tag:this.panel.tags};return this.backendSrv.search(b).then(function(b){a.groups[2].list=b})},c.prototype.getStarred=function(){var a=this;if(this.groups[0].show=this.panel.starred,!this.panel.starred)return Promise.resolve();var b={limit:this.panel.limit,starred:"true"};return this.backendSrv.search(b).then(function(b){a.groups[0].list=b})},c.prototype.getRecentDashboards=function(){var a=this;if(this.groups[1].show=this.panel.recent,!this.panel.recent)return Promise.resolve();var c=b["default"].first(d.impressions.getDashboardOpened(),this.panel.limit);return this.backendSrv.search({dashboardIds:c,limit:this.panel.limit}).then(function(d){a.groups[1].list=c.map(function(a){return b["default"].find(d,function(b){return b.id===a})}).filter(function(a){return void 0!==a})})},c.templateUrl="module.html",c}(c.PanelCtrl),a("DashListCtrl",e),a("PanelCtrl",e)}}}),function(){var a=System.amdDefine;a("app/plugins/panel/graph/graph_tooltip.js",["jquery"],function(a){"use strict";function b(b,c,d,e){var f=this,g=d.ctrl,h=g.panel,i=a('<div id="tooltip" class="graph-tooltip">');this.findHoverIndexFromDataPoints=function(a,b,c){for(var d=b.datapoints.pointsize,e=c*d,f=b.datapoints.points.length,g=e;g<f;g+=d)if(b.datapoints.points[g]>a)return Math.max(g-d,0)/d;return g/d-1},this.findHoverIndexFromData=function(a,b){for(var c=b.data.length,d=0;d<c;d++)if(b.data[d][0]>a)return Math.max(d-1,0);return d-1},this.showTooltip=function(a,b,c){var d='<div class="graph-tooltip-time">'+a+"</div>";d+=b+"</div>",i.html(d).place_tt(c.pageX+20,c.pageY)},this.getMultiSeriesPlotHoverInfo=function(a,b){var c,d,e,f,g=[],i=0;for(d=0;d<a.length;d++)if(e=a[d],!e.data.length||h.legend.hideEmpty&&e.allIsNull)g.push({hidden:!0});else if(!e.data.length||h.legend.hideZero&&e.allIsZero)g.push({hidden:!0});else if(f=this.findHoverIndexFromData(b.x,e),g.time=e.data[f][0],e.stack?"individual"===h.tooltip.value_type?c=e.data[f][1]:e.stack?(i+=e.data[f][1],c=i):c=e.data[f][1]:c=e.data[f][1],e.lines.steps||e.stack){var j=this.findHoverIndexFromDataPoints(b.x,e,f);g.push({value:c,hoverIndex:j,color:e.color,label:e.label})}else g.push({value:c,hoverIndex:f,color:e.color,label:e.label});return g},b.mouseleave(function(){if(h.tooltip.shared){var a=b.data().plot;a&&(i.detach(),a.unhighlight())}c.sharedCrosshair&&g.publishAppEvent("clearCrosshair")}),b.bind("plothover",function(a,j,k){var l,m,n,o,p,q,r,s,t=b.data().plot,u=t.getData(),v=e();if(s=h.tooltip.msResolution?"YYYY-MM-DD HH:mm:ss.SSS":"YYYY-MM-DD HH:mm:ss",c.sharedCrosshair&&g.publishAppEvent("setCrosshair",{pos:j,scope:d}),0!==v.length)if(h.tooltip.shared){t.unhighlight();var w=f.getMultiSeriesPlotHoverInfo(u,j);for(r="",n=c.formatDate(w.time,s),2===h.tooltip.sort?w.sort(function(a,b){return b.value-a.value}):1===h.tooltip.sort&&w.sort(function(a,b){return a.value-b.value}),p=0;p<w.length;p++)if(o=w[p],!o.hidden){var x="";k&&p===k.seriesIndex&&(x="graph-tooltip-list-item--highlight"),q=v[p],m=q.formatValue(o.value),r+='<div class="graph-tooltip-list-item '+x+'"><div class="graph-tooltip-series-name">',r+='<i class="fa fa-minus" style="color:'+o.color+';"></i> '+o.label+":</div>",r+='<div class="graph-tooltip-value">'+m+"</div></div>",t.highlight(p,o.hoverIndex)}f.showTooltip(n,r,j)}else k?(q=v[k.seriesIndex],l='<div class="graph-tooltip-list-item"><div class="graph-tooltip-series-name">',l+='<i class="fa fa-minus" style="color:'+k.series.color+';"></i> '+q.label+":</div>",m=h.stack&&"individual"===h.tooltip.value_type?k.datapoint[1]-k.datapoint[2]:k.datapoint[1],m=q.formatValue(m),n=c.formatDate(k.datapoint[0],s),l+='<div class="graph-tooltip-value">'+m+"</div>",f.showTooltip(n,l,j)):i.detach()})}return b})}(),System.registerDynamic("vendor/flot/jquery.flot.selection.js",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a){function b(b){function c(a){o.active&&(j(a),b.getPlaceholder().trigger("plotselecting",[f()]))}function d(b){1==b.which&&(document.body.focus(),void 0!==document.onselectstart&&null==p.onselectstart&&(p.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==p.ondrag&&(p.ondrag=document.ondrag,document.ondrag=function(){return!1}),i(o.first,b),o.active=!0,q=function(a){e(a)},a(document).one("mouseup",q))}function e(a){return q=null,void 0!==document.onselectstart&&(document.onselectstart=p.onselectstart),void 0!==document.ondrag&&(document.ondrag=p.ondrag),o.active=!1,j(a),n()?g():(b.getPlaceholder().trigger("plotunselected",[]),b.getPlaceholder().trigger("plotselecting",[null])),!1}function f(){if(!n())return null;if(!o.show)return null;var c={},d=o.first,e=o.second;return a.each(b.getAxes(),function(a,b){if(b.used){var f=b.c2p(d[b.direction]),g=b.c2p(e[b.direction]);c[a]={from:Math.min(f,g),to:Math.max(f,g)}}}),c}function g(){var a=f();b.getPlaceholder().trigger("plotselected",[a]),a.xaxis&&a.yaxis&&b.getPlaceholder().trigger("selected",[{x1:a.xaxis.from,y1:a.yaxis.from,x2:a.xaxis.to,y2:a.yaxis.to}])}function h(a,b,c){return b<a?a:b>c?c:b}function i(a,c){var d=b.getOptions(),e=b.getPlaceholder().offset(),f=b.getPlotOffset();a.x=h(0,c.pageX-e.left-f.left,b.width()),a.y=h(0,c.pageY-e.top-f.top,b.height()),"y"==d.selection.mode&&(a.x=a==o.first?0:b.width()),"x"==d.selection.mode&&(a.y=a==o.first?0:b.height())}function j(a){null!=a.pageX&&(i(o.second,a),n()?(o.show=!0,b.triggerRedrawOverlay()):k(!0))}function k(a){o.show&&(o.show=!1,b.triggerRedrawOverlay(),a||b.getPlaceholder().trigger("plotunselected",[]))}function l(a,c){var d,e,f,g,h=b.getAxes();for(var i in h)if(d=h[i],d.direction==c&&(g=c+d.n+"axis",a[g]||1!=d.n||(g=c+"axis"),a[g])){e=a[g].from,f=a[g].to;break}if(a[g]||(d="x"==c?b.getXAxes()[0]:b.getYAxes()[0],e=a[c+"1"],f=a[c+"2"]),null!=e&&null!=f&&e>f){var j=e;e=f,f=j}return{from:e,to:f,axis:d}}function m(a,c){var d,e=b.getOptions();"y"==e.selection.mode?(o.first.x=0,o.second.x=b.width()):(d=l(a,"x"),o.first.x=d.axis.p2c(d.from),o.second.x=d.axis.p2c(d.to)),"x"==e.selection.mode?(o.first.y=0,o.second.y=b.height()):(d=l(a,"y"),o.first.y=d.axis.p2c(d.from),o.second.y=d.axis.p2c(d.to)),o.show=!0,b.triggerRedrawOverlay(),!c&&n()&&g()}function n(){var a=b.getOptions().selection.minSize;return Math.abs(o.second.x-o.first.x)>=a&&Math.abs(o.second.y-o.first.y)>=a}var o={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},p={},q=null;b.clearSelection=k,b.setSelection=m,b.getSelection=f,b.hooks.bindEvents.push(function(a,b){var e=a.getOptions();null!=e.selection.mode&&(b.mousemove(c),b.mousedown(d))}),b.hooks.drawOverlay.push(function(b,c){if(o.show&&n()){var d=b.getPlotOffset(),e=b.getOptions();c.save(),c.translate(d.left,d.top);var f=a.color.parse(e.selection.color);c.strokeStyle=f.scale("a",.8).toString(),c.lineWidth=1,c.lineJoin=e.selection.shape,c.fillStyle=f.scale("a",.4).toString();var g=Math.min(o.first.x,o.second.x)+.5,h=Math.min(o.first.y,o.second.y)+.5,i=Math.abs(o.second.x-o.first.x)-1,j=Math.abs(o.second.y-o.first.y)-1;c.fillRect(g,h,i,j),c.strokeRect(g,h,i,j),c.restore()}}),b.hooks.shutdown.push(function(b,e){e.unbind("mousemove",c),e.unbind("mousedown",d),q&&a(document).unbind("mouseup",q)})}a.plot.plugins.push({init:b,options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})}(jQuery)}(this),d()}),System.registerDynamic("vendor/flot/jquery.flot.stack.js",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a){function b(a){function b(a,b){for(var c=null,d=0;d<b.length&&a!=b[d];++d)b[d].stack==a.stack&&(c=b[d]);return c}function c(a,c,d){if(null!=c.stack&&c.stack!==!1){var e=b(c,a.getData());if(e){for(var f,g,h,i,j,k,l,m,n=d.pointsize,o=d.points,p=e.datapoints.pointsize,q=e.datapoints.points,r=[],s=c.lines.show,t=c.bars.horizontal,u=n>2&&(t?d.format[2].x:d.format[2].y),v=s&&c.lines.steps,w=!0,x=t?1:0,y=t?0:1,z=0,A=0;;){if(z>=o.length)break;if(l=r.length,null==o[z]){for(m=0;m<n;++m)r.push(o[z+m]);z+=n}else if(A>=q.length){if(!s)for(m=0;m<n;++m)r.push(o[z+m]);z+=n}else if(null==q[A]){for(m=0;m<n;++m)r.push(null);w=!0,A+=p}else{if(f=o[z+x],g=o[z+y],i=q[A+x],j=q[A+y],k=0,f==i){for(m=0;m<n;++m)r.push(o[z+m]);r[l+y]+=j,k=j,z+=n,A+=p}else if(f>i){if(s&&z>0&&null!=o[z-n]){for(h=g+(o[z-n+y]-g)*(i-f)/(o[z-n+x]-f),r.push(i),r.push(h+j),m=2;m<n;++m)r.push(o[z+m]);k=j}A+=p}else{if(w&&s){z+=n;continue}for(m=0;m<n;++m)r.push(o[z+m]);s&&A>0&&null!=q[A-p]&&(k=j+(q[A-p+y]-j)*(f-i)/(q[A-p+x]-i)),r[l+y]+=k,z+=n}w=!1,l!=r.length&&u&&(r[l+2]+=k)}if(v&&l!=r.length&&l>0&&null!=r[l]&&r[l]!=r[l-n]&&r[l+1]!=r[l-n+1]){for(m=0;m<n;++m)r[l+n+m]=r[l+m];r[l+1]=r[l-n+1]}}d.points=r}}}a.hooks.processDatapoints.push(c)}var c={series:{stack:null}};a.plot.plugins.push({init:b,options:c,name:"stack",version:"1.2"})}(jQuery)}(this),d()}),System.registerDynamic("vendor/flot/jquery.flot.stackpercent.js",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a){function b(a){function b(a,b,d,e){if(f||(f=!0,g=c(a.getData())),1==b.stackpercent){var h=d.length;b.percents=[];var i=0,j=1;b.bars&&b.bars.horizontal&&b.bars.horizontal===!0&&(i=1,j=0);for(var k=0;k<h;k++){var l=g[d[k][i]+""];l>0?b.percents.push(100*d[k][j]/l):b.percents.push(0)}}}function c(a){var b=a.length,c={};if(b>0)for(var d=0;d<b;d++)if(a[d].stackpercent){var e=0,f=1;a[d].bars&&a[d].bars.horizontal&&a[d].bars.horizontal===!0&&(e=1,f=0);for(var g=a[d].data.length,h=0;h<g;h++){var i=0;null!=a[d].data[h][1]&&(i=a[d].data[h][f]),c[a[d].data[h][e]+""]?c[a[d].data[h][e]+""]+=i:c[a[d].data[h][e]+""]=i}}return c}function d(a,b,d){if(b.stackpercent){f||(g=c(a.getData()));var h=[],i=0,j=1;b.bars&&b.bars.horizontal&&b.bars.horizontal===!0&&(i=1,j=0);for(var k=0;k<d.points.length;k+=3)e[d.points[k+i]]||(e[d.points[k+i]]=0),h[k+i]=d.points[k+i],h[k+j]=d.points[k+j]+e[d.points[k+i]],h[k+2]=e[d.points[k+i]],e[d.points[k+i]]+=d.points[k+j],g[h[k+i]+""]>0?(h[k+j]=100*h[k+j]/g[h[k+i]+""],h[k+2]=100*h[k+2]/g[h[k+i]+""]):(h[k+j]=0,h[k+2]=0);d.points=h}}var e={},f=!1,g={};a.hooks.processRawData.push(b),a.hooks.processDatapoints.push(d)}var c={series:{stackpercent:null}};a.plot.plugins.push({init:b,options:c,name:"stackpercent",version:"0.1"})}(jQuery)}(this),d()}),System.registerDynamic("vendor/flot/jquery.flot.fillbelow.js",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a){"use strict";function b(b){function c(a,b){var c;for(c=0;c<b.length;++c)if(b[c].id===a.fillBelowTo)return b[c];return null}function d(a,b,c,d,e,f,g,h){var i,j,k,l,m,n;return i=c-a,j=d-b,k=g-e,l=h-f,m=(-j*(a-e)+i*(b-f))/(-k*j+i*l),n=(k*(b-f)-l*(a-e))/(-k*j+i*l),m>=0&&m<=1&&n>=0&&n<=1?[a+n*i,b+n*j]:null}function e(b,e,f){function g(a,b){e.beginPath(),e.moveTo(f.xaxis.p2c(a)+s.left,f.yaxis.p2c(b)+s.top)}function h(){e.closePath(),e.fill()}function i(){if(p.length/o!==r.length/q)return console.error("Refusing to graph inconsistent number of points"),!1;var a;for(a=0;a<p.length/o;a++)if(null!==p[a*o]&&null!==r[a*q]&&p[a*o]!==r[a*q])return console.error("Refusing to graph points without matching value"),!1;return!0}function j(a,b){console.assert(b>a,"expects the end index to be greater than the start index");var c,d,e=0===a||null===p[a-1]||null===r[a-1],f=!1;for(c=a;c<b;c++)if(null===p[c*o+1]||null===r[c*o+1])f=!1,e=!0;else if(p[c*o+1]===r[c*q+1])f=!0,e=!1;else{if(p[c*o+1]>r[c*q+1])return e?g(p[c*o],p[c*o+1]):f?g(p[(c-1)*o],p[(c-1)*o+1]):(d=k(c),g(d[0],d[1])),void m(c,b);e=!1,f=!1}}function k(a){console.assert(a>0,"expects the second point in the series line segment");var b,c;for(b=1;b<r.length/q;b++)if(c=d(p[(a-1)*o],p[(a-1)*o+1],p[a*o],p[a*o+1],r[(b-1)*q],r[(b-1)*q+1],r[b*q],r[b*q+1]),null!==c)return c;console.error("intersectionPoint() should only be called when an intersection happens")}function l(a,b){console.assert(a>=b,"the start should be the rightmost point, and the end should be the leftmost (excluding the equal or intersecting point)");var c;for(c=a;c>=b;c--)e.lineTo(n.xaxis.p2c(r[c*q])+s.left,n.yaxis.p2c(r[c*q+1])+s.top);h()}function m(a,b){console.assert(a<=b,"the start should be the rightmost point, and the end should be the leftmost (excluding the equal or intersecting point)");var c,d;for(c=a;c<b;c++){if(null===p[c*o+1]&&c>a)return l(c-1,a),void j(c,b);if(p[c*o+1]===r[c*q+1])return l(c,a),void j(c,b);if(p[c*o+1]<r[c*q+1])return d=k(c),e.lineTo(f.xaxis.p2c(d[0])+s.left,f.yaxis.p2c(d[1])+s.top),l(c,a),void j(c,b);e.lineTo(f.xaxis.p2c(p[c*o])+s.left,f.yaxis.p2c(p[c*o+1])+s.top)}l(b,a)}if(null!==f.fillBelowTo){var n,o,p,q,r,s,t;n=c(f,b.getData()),n&&(o=f.datapoints.pointsize,p=f.datapoints.points,q=n.datapoints.pointsize,r=n.datapoints.points,s=b.getPlotOffset(),i()&&(t=a.color.parse(f.color),t.a=.4,t.normalize(),e.fillStyle=t.toString(),j(0,p.length/o)))}}b.hooks.drawSeries.push(e)}var c={series:{fillBelowTo:null}};a.plot.plugins.push({init:b,options:c,name:"fillbelow",version:"0.1.0"})}(jQuery)}(this),d()}),System.registerDynamic("vendor/flot/jquery.flot.crosshair.js",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a){function b(a){function b(b){d.locked||d.x!=-1&&(d.x=-1,a.triggerRedrawOverlay())}function c(b){if(!d.locked){if(a.getSelection&&a.getSelection())return void(d.x=-1);var c=a.offset();d.x=Math.max(0,Math.min(b.pageX-c.left,a.width())),d.y=Math.max(0,Math.min(b.pageY-c.top,a.height())),a.triggerRedrawOverlay()}}var d={x:-1,y:-1,locked:!1};a.setCrosshair=function(b){if(b){var c=a.p2c(b);d.x=Math.max(0,Math.min(c.left,a.width())),d.y=Math.max(0,Math.min(c.top,a.height()))}else d.x=-1;a.triggerRedrawOverlay()},a.clearCrosshair=a.setCrosshair,a.lockCrosshair=function(b){b&&a.setCrosshair(b),d.locked=!0},a.unlockCrosshair=function(){d.locked=!1},a.hooks.bindEvents.push(function(a,d){a.getOptions().crosshair.mode&&(d.mouseout(b),d.mousemove(c))}),a.hooks.drawOverlay.push(function(a,b){var c=a.getOptions().crosshair;if(c.mode){var e=a.getPlotOffset();if(b.save(),b.translate(e.left,e.top),d.x!=-1){var f=a.getOptions().crosshair.lineWidth%2?.5:0;if(b.strokeStyle=c.color,b.lineWidth=c.lineWidth,b.lineJoin="round",b.beginPath(),c.mode.indexOf("x")!=-1){var g=Math.floor(d.x)+f;b.moveTo(g,0),b.lineTo(g,a.height())}if(c.mode.indexOf("y")!=-1){var h=Math.floor(d.y)+f;b.moveTo(0,h),b.lineTo(a.width(),h)}b.stroke()}b.restore()}}),a.hooks.shutdown.push(function(a,d){d.unbind("mouseout",b),d.unbind("mousemove",c)})}var c={crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}};a.plot.plugins.push({init:b,options:c,name:"crosshair",version:"1.0"})}(jQuery)}(this),d()}),function(){var a=System.amdDefine;a("app/plugins/panel/graph/jquery.flot.events.js",["jquery","lodash","angular","tether-drop"],function(a,b,c,d){"use strict";function e(a,b){var e=c.element(document).injector(),f=document.createElement("div");f.innerHTML="<annotation-tooltip></annotation-tooltip>",e.invoke(["$compile","$rootScope",function(c,e){var g=e.$new(!0);g.event=b,c(f)(g),g.$digest(),g.$destroy();var h=new d({target:a[0],content:f,position:"bottom center",classes:"drop-popover",openOn:"hover",hoverCloseDelay:200,tetherOptions:{constraints:[{to:"window",pin:!0,attachment:"both"}]}});h.open(),h.on("close",function(){setTimeout(function(){h.destroy()})})}])}function f(b){var c=this,d=new i(b);b.getEvents=function(){return d._events},b.hideEvents=function(){a.each(d._events,function(a,b){b.visual().getObject().hide()})},b.showEvents=function(){b.hideEvents(),a.each(d._events,function(a,b){b.hide()}),c.eventMarkers.drawEvents()},b.setEvents=function(a){d.eventsEnabled&&d.setupEvents(a)},b.hooks.processOptions.push(function(a,b){null!=b.events.data&&(d.eventsEnabled=!0)}),b.hooks.draw.push(function(a){var b=a.getOptions();d.eventsEnabled&&(d.getEvents().length<1?(d.setTypes(b.events.types),d.setupEvents(b.events.data)):d.updateEvents()),d.drawEvents()})}var g=function(a,b,c,d,e,f,g,h){var i=a,j=b,k=c,l=d,m={left:e,top:f},n=g,o=h;this.width=function(){return n},this.height=function(){return o},this.position=function(){return m},this.draw=function(){j(i)},this.clear=function(){k(i)},this.getObject=function(){return i},this.moveTo=function(a){m=a,l(i,m)}},h=function(a,b){var c,d=a,e=b,f=!1;this.visual=function(){return e},this.getOptions=function(){return d},this.getParent=function(){return c},this.isHidden=function(){return f},this.hide=function(){f=!0},this.unhide=function(){f=!1}},i=function(b){var c=[];this._types=[],this._plot=b,this.eventsEnabled=!1,this.getEvents=function(){return c},this.setTypes=function(a){return this._types=a},this.setupEvents=function(b){var d=this;a.each(b,function(a,b){var e=new h(b,d._buildDiv(b));c.push(e)}),c.sort(function(a,b){var c=a.getOptions(),d=b.getOptions();return c.min>d.min?1:c.min<d.min?-1:0})},this.drawEvents=function(){var b=this;a.each(c,function(a,c){b._insidePlot(c.getOptions().min)&&!c.isHidden()?c.visual().draw():c.visual().getObject().hide()})},this.updateEvents=function(){var b,d,e=this,f=this._plot.getPlotOffset(),g=this._plot.getXAxes()[this._plot.getOptions().events.xaxis-1];a.each(c,function(a,c){d=f.top+e._plot.height()-c.visual().height(),b=g.p2c(c.getOptions().min)+f.left-c.visual().width()/2,c.visual().moveTo({top:d,left:b})})},this._clearEvents=function(){a.each(c,function(a,b){b.visual().clear()}),c=[]},this._buildDiv=function(b){var c,d,f,h,i,j,k,l,m,n=this,o=this._plot.getPlaceholder(),p=this._plot.getPlotOffset(),q=this._plot.getAxes(),r=this._plot.getXAxes()[this._plot.getOptions().events.xaxis-1];q.yaxis&&q.yaxis.used&&(c=q.yaxis),q.yaxis2&&q.yaxis2.used&&(c=q.yaxis2);var s=b.eventType;h=null!==this._types&&this._types[s]&&this._types[s].color?this._types[s].color:"#666",i=null!==this._types&&this._types[s]&&this._types[s].markerSize?this._types[s].markerSize:8,j=null===this._types||!this._types[s]||void 0===this._types[s].markerShow||this._types[s].markerShow,m=null===this._types||!this._types[s]||void 0===this._types[s].markerTooltip||this._types[s].markerTooltip,k=null!=this._types&&this._types[s]&&this._types[s].lineStyle?this._types[s].lineStyle.toLowerCase():"dashed",l=null!=this._types&&this._types[s]&&void 0!==this._types[s].lineWidth?this._types[s].lineWidth:1,d=p.top+this._plot.height(),f=r.p2c(b.min)+p.left;var t=a('<div class="events_line"></div>').css({position:"absolute",opacity:.8,left:f+"px",top:8,width:l+"px",height:this._plot.height(),"border-left-width":l+"px","border-left-style":k,"border-left-color":h}).appendTo(o);if(j){var u=a('<div class="events_marker"></div>').css({position:"absolute",left:-i-Math.round(l/2)+"px","font-size":0,"line-height":0,width:0,height:0,"border-left":i+"px solid transparent","border-right":i+"px solid transparent"}).appendTo(t);this._types[s]&&this._types[s].position&&"BOTTOM"===this._types[s].position.toUpperCase()?u.css({top:d-i-8+"px","border-top":"none","border-bottom":i+"px solid "+h}):u.css({top:"0px","border-top":i+"px solid "+h,"border-bottom":"none"}),u.data({event:b});var v=function(){e(u,a(this).data("event"))},w=function(){n._plot.clearSelection()};m&&(u.css({cursor:"help"}),u.hover(v,w))}var x=new g(t,function(a){a.show()},function(a){a.remove()},function(a,b){a.css({top:b.top,left:b.left})},f,d,t.width(),t.height());return x},this._insidePlot=function(a){var b=this._plot.getXAxes()[this._plot.getOptions().events.xaxis-1],c=b.p2c(a);return c>0&&c<b.p2c(b.max)}},j={events:{data:null,types:null,xaxis:1,position:"BOTTOM"}};a.plot.plugins.push({init:f,options:j,name:"events",version:"0.2.5"})})}(),function(){var a=System.amdDefine;a("app/plugins/panel/graph/graph.js",["angular","jquery","moment","lodash","app/core/utils/kbn","./graph_tooltip","jquery.flot","jquery.flot.selection","jquery.flot.time","jquery.flot.stack","jquery.flot.stackpercent","jquery.flot.fillbelow","jquery.flot.crosshair","./jquery.flot.events"],function(a,b,c,d,e,f){"use strict";var g=a.module("grafana.directives"),h={};g.directive("grafanaGraph",["$rootScope","timeSrv",function(a,g){return{restrict:"A",template:"<div> </div>",link:function(a,i){function j(a){if(!E.legend.show||E.legend.rightSide)return 0;if(E.legend.alignAsTable){var b=d.filter(z,function(a){return a.hideFromLegend(E.legend)===!1}),c=23+21*b.length;return Math.min(c,Math.floor(a/2))}return 26}function k(){try{var a=C.height-j(C.height);return i.css("height",a+"px"),!0}catch(b){return console.log(b),!1}}function l(){return!z||(!k()||(0===H||void 0))}function m(a,b){var c=h[a];return c||(c=h[a]=b.width()),c}function n(c){for(var f=c.getYAxes(),g=0;g<z.length;g++){var h=z[g],j=f[h.yaxis-1],k=e.valueFormats[E.yaxes[h.yaxis-1].format];if(d.isNumber(E.decimals))h.updateLegendValues(k,E.decimals,null);else{var l=(j.tickDecimals||-1)+1;h.updateLegendValues(k,l,j.scaledDecimals+2)}G.$$phase||a.$digest()}if(E.yaxes[0].label){var n=b("<div class='axisLabel left-yaxis-label'></div>").text(E.yaxes[0].label).appendTo(i);n[0].style.marginTop=m(E.yaxes[0].label,n)/2+"px"}if(E.yaxes[1].label){var o=b("<div class='axisLabel right-yaxis-label'></div>").text(E.yaxes[1].label).appendTo(i);o[0].style.marginTop=m(E.yaxes[1].label,o)/2+"px"}}function o(a,b){var c=E.yaxes[0],d=E.yaxes[1];c.show&&c.label&&(b.left=20),d.show&&d.label&&(b.right=20)}function p(){function a(a){try{b.plot(i,B,e)}catch(c){console.log("flotcharts error",c)}a&&C.renderingCompleted()}if(H=i.width(),!l()){for(var c=!!E.stack||null,e={hooks:{draw:[n],processOffset:[o]},legend:{show:!1},series:{stackpercent:!!E.stack&&E.percentage,stack:E.percentage?null:c,lines:{show:E.lines,zero:!1,fill:q(E.fill),lineWidth:E.linewidth,steps:E.steppedLine},bars:{show:E.bars,fill:1,barWidth:1,zero:!1,lineWidth:0},points:{show:E.points,fill:1,fillColor:!1,radius:E.points?E.pointradius:2},shadowSize:0},yaxes:[],xaxis:{},grid:{minBorderMargin:0,markings:[],backgroundColor:null,borderWidth:0,hoverable:!0,color:"#c8c8c8",margin:{left:0,right:0}},selection:{mode:"x",color:"#666"},crosshair:{mode:E.tooltip.shared||D.sharedCrosshair?"x":null}},f=0;f<z.length;f++){var g=z[f];g.data=g.getFlotPairs(g.nullPointMode||E.nullPointMode),C.hiddenSeries[g.alias]&&(g.data=[],g.stack=!1)}z.length&&z[0].stats.timeStep&&(e.series.bars.barWidth=z[0].stats.timeStep/1.5),s(e),t(e,E),u(e),v(z,e),B=d.sortBy(z,function(a){return a.zindex}),r(E)?(a(!1),setTimeout(function(){a(!0)},50),F=E.legend.rightSide):a(!0)}}function q(a){return 0===a?.001:a/10}function r(a){return!!a.legend.rightSide||(null!==F&&a.legend.rightSide!==F||void 0)}function s(a){var b=H/100,c=d.isUndefined(C.range.from)?null:C.range.from.valueOf(),e=d.isUndefined(C.range.to)?null:C.range.to.valueOf();a.xaxis={timezone:D.getTimezone(),show:E.xaxis.show,mode:"time",min:c,max:e,label:"Datetime",ticks:b,timeformat:y(b,c,e)}}function t(a,b){if(d.isNumber(b.grid.threshold1)){var c=b.grid.thresholdLine?b.grid.threshold1:b.grid.threshold2||null;if(a.grid.markings.push({yaxis:{from:b.grid.threshold1,to:c},color:b.grid.threshold1Color}),d.isNumber(b.grid.threshold2)){var e;e=b.grid.thresholdLine?b.grid.threshold2:b.grid.threshold1>b.grid.threshold2?-(1/0):+(1/0),a.grid.markings.push({yaxis:{from:b.grid.threshold2,to:e},color:b.grid.threshold2Color})}}}function u(a){if(A&&0!==A.length){var b={};d.each(A,function(a){b[a.annotation.name]||(b[a.annotation.name]={color:a.annotation.iconColor,position:"BOTTOM",markerSize:5})}),a.events={levels:d.keys(b).length+1,data:A,types:b}}}function v(a,b){var c={position:"left",show:E.yaxes[0].show,min:E.yaxes[0].min,index:1,logBase:E.yaxes[0].logBase||1,max:E.percentage&&E.stack?100:E.yaxes[0].max};if(b.yaxes.push(c),d.findWhere(a,{yaxis:2})){var e=d.clone(c);e.index=2,e.show=E.yaxes[1].show,e.logBase=E.yaxes[1].logBase||1,e.position="right",e.min=E.yaxes[1].min,e.max=E.percentage&&E.stack?100:E.yaxes[1].max,b.yaxes.push(e),w(b.yaxes[1],a),x(b.yaxes[1],E.percentage&&E.stack?"percent":E.yaxes[1].format)}w(b.yaxes[0],a),x(b.yaxes[0],E.percentage&&E.stack?"percent":E.yaxes[0].format)}function w(a,b){if(1!==a.logBase){var c,d,e=a.max;if(null===e){for(d=0;d<b.length;d++)c=b[d],c.yaxis===a.index&&e<c.stats.max&&(e=c.stats.max);void 0===e&&(e=Number.MAX_VALUE)}a.min=null!==a.min?a.min:0,a.ticks=[0,1];for(var f=1;;)if(f*=a.logBase,a.ticks.push(f),f>e)break;10===a.logBase?(a.transform=function(a){return Math.log(a+.1)},a.inverseTransform=function(a){return Math.pow(10,a)}):(a.transform=function(b){return Math.log(b+.1)/Math.log(a.logBase)},a.inverseTransform=function(b){return Math.pow(a.logBase,b)})}}function x(a,b){a.tickFormatter=function(a,c){return e.valueFormats[b](a,c.tickDecimals,c.scaledDecimals)}}function y(a,b,c){if(b&&c&&a){var d=c-b,e=d/a/1e3,f=864e5,g=31536e6;return e<=45?"%H:%M:%S":e<=7200||d<=f?"%H:%M":e<=8e4?"%m/%d %H:%M":e<=2419200||d<=g?"%m/%d":"%Y-%m"}return"%H:%M"}var z,A,B,C=a.ctrl,D=C.dashboard,E=C.panel,F=null,G=a.$root,H=0;G.onAppEvent("setCrosshair",function(b,c){if(c.scope!==a&&D.sharedCrosshair){var d=i.data().plot;d&&d.setCrosshair({x:c.pos.x,y:c.pos.y})}},a),G.onAppEvent("clearCrosshair",function(){var a=i.data().plot;a&&a.clearCrosshair()},a),C.events.on("render",function(a){return(z=a||z)?(A=z.annotations||A,void p()):void C.refresh()}),new f(i,D,a,function(){return B}),i.bind("plotselected",function(b,d){a.$apply(function(){g.setTime({from:c.utc(d.xaxis.from),to:c.utc(d.xaxis.to)})})})}}}])})}(),System.registerDynamic("vendor/flot/jquery.flot.time.js",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a){function b(a,b){return b*Math.floor(a/b)}function c(a,b,c,d){if("function"==typeof a.strftime)return a.strftime(b);var e=function(a,b){return a=""+a,b=""+(null==b?"0":b),1==a.length?b+a:a},f=[],g=!1,h=a.getHours(),i=h<12;null==c&&(c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==d&&(d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var j;j=h>12?h-12:0==h?12:h;for(var k=0;k<b.length;++k){var l=b.charAt(k);if(g){switch(l){case"a":l=""+d[a.getDay()];break;case"b":l=""+c[a.getMonth()];break;case"d":l=e(a.getDate(),"");break;case"e":l=e(a.getDate()," ");break;case"h":case"H":l=e(h);break;case"I":l=e(j);break;case"l":l=e(j," ");break;case"m":l=e(a.getMonth()+1,"");break;case"M":l=e(a.getMinutes());break;case"q":l=""+(Math.floor(a.getMonth()/3)+1);break;case"S":l=e(a.getSeconds());break;case"y":l=e(a.getFullYear()%100);break;case"Y":l=""+a.getFullYear();break;case"p":l=i?"am":"pm";
break;case"P":l=i?"AM":"PM";break;case"w":l=""+a.getDay()}f.push(l),g=!1}else"%"==l?g=!0:f.push(l)}return f.join("")}function d(a){function b(a,b,c,d){a[b]=function(){return c[d].apply(c,arguments)}}var c={date:a};void 0!=a.strftime&&b(c,"strftime",a,"strftime"),b(c,"getTime",a,"getTime"),b(c,"setTime",a,"setTime");for(var d=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],e=0;e<d.length;e++)b(c,"get"+d[e],a,"getUTC"+d[e]),b(c,"set"+d[e],a,"setUTC"+d[e]);return c}function e(a,b){if("browser"==b.timezone)return new Date(a);if(b.timezone&&"utc"!=b.timezone){if("undefined"!=typeof timezoneJS&&"undefined"!=typeof timezoneJS.Date){var c=new timezoneJS.Date;return c.setTimezone(b.timezone),c.setTime(a),c}return d(new Date(a))}return d(new Date(a))}function f(d){d.hooks.processOptions.push(function(d,f){a.each(d.getAxes(),function(a,d){var f=d.options;"time"==f.mode&&(d.tickGenerator=function(a){var c=[],d=e(a.min,f),g=0,i=f.tickSize&&"quarter"===f.tickSize[1]||f.minTickSize&&"quarter"===f.minTickSize[1]?k:j;null!=f.minTickSize&&(g="number"==typeof f.tickSize?f.tickSize:f.minTickSize[0]*h[f.minTickSize[1]]);for(var l=0;l<i.length-1&&!(a.delta<(i[l][0]*h[i[l][1]]+i[l+1][0]*h[i[l+1][1]])/2&&i[l][0]*h[i[l][1]]>=g);++l);var m=i[l][0],n=i[l][1];if("year"==n){if(null!=f.minTickSize&&"year"==f.minTickSize[1])m=Math.floor(f.minTickSize[0]);else{var o=Math.pow(10,Math.floor(Math.log(a.delta/h.year)/Math.LN10)),p=a.delta/h.year/o;m=p<1.5?1:p<3?2:p<7.5?5:10,m*=o}m<1&&(m=1)}a.tickSize=f.tickSize||[m,n];var q=a.tickSize[0];n=a.tickSize[1];var r=q*h[n];"second"==n?d.setSeconds(b(d.getSeconds(),q)):"minute"==n?d.setMinutes(b(d.getMinutes(),q)):"hour"==n?d.setHours(b(d.getHours(),q)):"month"==n?d.setMonth(b(d.getMonth(),q)):"quarter"==n?d.setMonth(3*b(d.getMonth()/3,q)):"year"==n&&d.setFullYear(b(d.getFullYear(),q)),d.setMilliseconds(0),r>=h.minute&&d.setSeconds(0),r>=h.hour&&d.setMinutes(0),r>=h.day&&d.setHours(0),r>=4*h.day&&d.setDate(1),r>=2*h.month&&d.setMonth(b(d.getMonth(),3)),r>=2*h.quarter&&d.setMonth(b(d.getMonth(),6)),r>=h.year&&d.setMonth(0);var s,t=0,u=Number.NaN;do if(s=u,u=d.getTime(),c.push(u),"month"==n||"quarter"==n)if(q<1){d.setDate(1);var v=d.getTime();d.setMonth(d.getMonth()+("quarter"==n?3:1));var w=d.getTime();d.setTime(u+t*h.hour+(w-v)*q),t=d.getHours(),d.setHours(0)}else d.setMonth(d.getMonth()+q*("quarter"==n?3:1));else"year"==n?d.setFullYear(d.getFullYear()+q):d.setTime(u+r);while(u<a.max&&u!=s);return c},d.tickFormatter=function(a,b){var d=e(a,b.options);if(null!=f.timeformat)return c(d,f.timeformat,f.monthNames,f.dayNames);var g,i=b.options.tickSize&&"quarter"==b.options.tickSize[1]||b.options.minTickSize&&"quarter"==b.options.minTickSize[1],j=b.tickSize[0]*h[b.tickSize[1]],k=b.max-b.min,l=f.twelveHourClock?" %p":"",m=f.twelveHourClock?"%I":"%H";g=j<h.minute?m+":%M:%S"+l:j<h.day?k<2*h.day?m+":%M"+l:"%b %d "+m+":%M"+l:j<h.month?"%b %d":i&&j<h.quarter||!i&&j<h.year?k<h.year?"%b":"%b %Y":i&&j<h.year?k<h.year?"Q%q":"Q%q %Y":"%Y";var n=c(d,g,f.monthNames,f.dayNames);return n})})})}var g={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},h={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},i=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],j=i.concat([[3,"month"],[6,"month"],[1,"year"]]),k=i.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);a.plot.plugins.push({init:f,options:g,name:"time",version:"1.0"}),a.plot.formatDate=c}(jQuery)}(this),d()}),function(){var a=System.amdDefine;a("app/plugins/panel/graph/legend.js",["angular","lodash","jquery","jquery.flot","jquery.flot.time"],function(a,b,c){"use strict";var d=a.module("grafana.directives");d.directive("graphLegend",["popoverSrv","$timeout",function(a,d){return{link:function(e,f){function g(a){return a.parents("[data-series-index]").data("series-index")}function h(b){if(!c(b.target).parents(".popover").length){var e=c(b.currentTarget).find(".fa-minus"),f=g(e),h=n[f];d(function(){a.show({element:e[0],position:"bottom center",template:"<gf-color-picker></gf-color-picker>",model:{series:h,toggleAxis:function(){r.toggleAxis(h)},colorSelected:function(a){r.changeSeriesColor(h,a)}}})})}}function i(a){var b=c(a.currentTarget),d=g(b),e=n[d];r.toggleSeries(e,a)}function j(a){var b=c(a.currentTarget),d=b.data("stat");return d!==s.legend.sort&&(s.legend.sortDesc=null),s.legend.sortDesc===!1?(s.legend.sort=null,s.legend.sortDesc=null,void l()):(s.legend.sortDesc=!s.legend.sortDesc,s.legend.sort=d,void l())}function k(a){if(!s.legend[a])return"";var b='<th class="pointer" data-stat="'+a+'">'+a;if(s.legend.sort===a){var c=s.legend.sortDesc?"fa fa-caret-down":"fa fa-caret-up";b+=' <span class="'+c+'"></span>'}return b+"</th>"}function l(){if(!r.panel.legend.show)return f.empty(),void(q=!0);q&&(f.append(p),p.on("click",".graph-legend-icon",h),p.on("click",".graph-legend-alias",i),p.on("click","th",j),q=!1),n=m,p.empty();var a=s.legend.rightSide&&s.legend.sideWidth?s.legend.sideWidth+"px":"";if(p.css("min-width",a),p.toggleClass("graph-legend-table",s.legend.alignAsTable===!0),s.legend.alignAsTable){var d="<tr>";d+='<th colspan="2" style="text-align:left"></th>',s.legend.values&&(d+=k("min"),d+=k("max"),d+=k("avg"),d+=k("current"),d+=k("total")),d+="</tr>",p.append(c(d))}s.legend.sort&&(n=b.sortBy(n,function(a){return a.stats[s.legend.sort]}),s.legend.sortDesc&&(n=n.reverse()));var e=0;for(o=0;o<n.length;o++){var g=n[o];if(!g.hideFromLegend(s.legend)){var l='<div class="graph-legend-series';if(2===g.yaxis&&(l+=" graph-legend-series--right-y"),r.hiddenSeries[g.alias]&&(l+=" graph-legend-series-hidden"),l+='" data-series-index="'+o+'">',l+='<div class="graph-legend-icon">',l+='<i class="fa fa-minus pointer" style="color:'+g.color+'"></i>',l+="</div>",l+='<a class="graph-legend-alias pointer">'+b.escape(g.label)+"</a>",s.legend.values){var t=g.formatValue(g.stats.avg),u=g.formatValue(g.stats.current),v=g.formatValue(g.stats.min),w=g.formatValue(g.stats.max),x=g.formatValue(g.stats.total);s.legend.min&&(l+='<div class="graph-legend-value min">'+v+"</div>"),s.legend.max&&(l+='<div class="graph-legend-value max">'+w+"</div>"),s.legend.avg&&(l+='<div class="graph-legend-value avg">'+t+"</div>"),s.legend.current&&(l+='<div class="graph-legend-value current">'+u+"</div>"),s.legend.total&&(l+='<div class="graph-legend-value total">'+x+"</div>")}l+="</div>",p.append(c(l)),e++}}if(s.legend.alignAsTable){var y=r.height;s.legend.rightSide||(y/=2);var z=6;p.css("max-height",y-z)}else p.css("max-height","")}var m,n,o,p=c('<section class="graph-legend"></section>'),q=!0,r=e.ctrl,s=r.panel;r.events.on("render",function(){m=r.seriesList,m&&l()})}}}])})}(),function(){var a=System.amdDefine;a("app/plugins/panel/graph/series_overrides_ctrl.js",["angular","jquery","lodash"],function(a,b,c){"use strict";var d=a.module("grafana.controllers");d.controller("SeriesOverridesCtrl",["$scope","$element","popoverSrv",function(a,b,d){a.overrideMenu=[],a.currentOverrides=[],a.override=a.override||{},a.addOverrideOption=function(b,d,e){var f={};f.text=b,f.propertyName=d,f.index=a.overrideMenu.length,f.values=e,f.submenu=c.map(e,function(a){return{text:String(a),value:a}}),a.overrideMenu.push(f)},a.setOverride=function(b,c){return"color"===b.propertyName?void a.openColorSelector():(a.override[b.propertyName]=c.value,"fillBelowTo"===b.propertyName&&(a.override.lines=!1,a.addSeriesOverride({alias:c.value,lines:!1})),a.updateCurrentOverrides(),void a.ctrl.render())},a.colorSelected=function(b){a.override.color=b,a.updateCurrentOverrides(),a.ctrl.render()},a.openColorSelector=function(){d.show({element:b.find(".dropdown")[0],position:"top center",openOn:"click",template:"<gf-color-picker></gf-color-picker>",model:{autoClose:!0,colorSelected:a.colorSelected},onClose:function(){a.ctrl.render()}})},a.removeOverride=function(b){delete a.override[b.propertyName],a.updateCurrentOverrides(),a.ctrl.refresh()},a.getSeriesNames=function(){return c.map(a.ctrl.seriesList,function(a){return a.alias})},a.updateCurrentOverrides=function(){a.currentOverrides=[],c.each(a.overrideMenu,function(b){var d=a.override[b.propertyName];c.isUndefined(d)||a.currentOverrides.push({name:b.text,propertyName:b.propertyName,value:String(d)})})},a.addOverrideOption("Bars","bars",[!0,!1]),a.addOverrideOption("Lines","lines",[!0,!1]),a.addOverrideOption("Line fill","fill",[0,1,2,3,4,5,6,7,8,9,10]),a.addOverrideOption("Line width","linewidth",[0,1,2,3,4,5,6,7,8,9,10]),a.addOverrideOption("Null point mode","nullPointMode",["connected","null","null as zero"]),a.addOverrideOption("Fill below to","fillBelowTo",a.getSeriesNames()),a.addOverrideOption("Staircase line","steppedLine",[!0,!1]),a.addOverrideOption("Points","points",[!0,!1]),a.addOverrideOption("Points Radius","pointradius",[1,2,3,4,5]),a.addOverrideOption("Stack","stack",[!0,!1,"A","B","C","D"]),a.addOverrideOption("Color","color",["change"]),a.addOverrideOption("Y-axis","yaxis",[1,2]),a.addOverrideOption("Z-index","zindex",[-1,-2,-3,0,1,2,3]),a.addOverrideOption("Transform","transform",["negative-Y"]),a.addOverrideOption("Legend","legend",[!0,!1]),a.updateCurrentOverrides()}])})}(),System.register("app/plugins/panel/graph/template.js",[],function(a){var b;return{setters:[],execute:function(){b='\n<div class="graph-wrapper" ng-class="{\'graph-legend-rightside\': ctrl.panel.legend.rightSide}">\n  <div class="graph-canvas-wrapper">\n\n    <div ng-if="datapointsWarning" class="datapoints-warning">\n      <span class="small" ng-show="!datapointsCount">\n        No datapoints <tip>No datapoints returned from metric query</tip>\n      </span>\n      <span class="small" ng-show="datapointsOutside">\n        Datapoints outside time range\n        <tip>Can be caused by timezone mismatch between browser and graphite server</tip>\n      </span>\n    </div>\n\n    <div grafana-graph class="histogram-chart" ng-dblclick="ctrl.zoomOut()">\n    </div>\n\n  </div>\n\n  <div class="graph-legend-wrapper" graph-legend></div>\n  </div>\n\n<div class="clearfix"></div>\n',a("default",b)}}}),System.register("app/plugins/panel/graph/module.js",["./graph","./legend","./series_overrides_ctrl","./template","moment","app/core/utils/kbn","lodash","app/core/time_series2","app/core/utils/file_export","app/plugins/sdk"],function(a){var b,c,d,e,f,g,h,i,j=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};return{setters:[function(a){},function(a){},function(a){},function(a){b=a},function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a}],execute:function(){i=function(a){function h(b,c,d){a.call(this,b,c),this.annotationsSrv=d,this.hiddenSeries={},this.seriesList=[],this.colors=[],this.panelDefaults={datasource:null,renderer:"flot",yaxes:[{label:null,show:!0,logBase:1,min:null,max:null,format:"short"},{label:null,show:!0,logBase:1,min:null,max:null,format:"short"}],xaxis:{show:!0},grid:{threshold1:null,threshold2:null,threshold1Color:"rgba(216, 200, 27, 0.27)",threshold2Color:"rgba(234, 112, 112, 0.22)"},lines:!0,fill:1,linewidth:2,points:!1,pointradius:5,bars:!1,stack:!1,percentage:!1,legend:{show:!0,values:!1,min:!1,max:!1,current:!1,total:!1,avg:!1},nullPointMode:"connected",steppedLine:!1,tooltip:{value_type:"cumulative",shared:!0,sort:0,msResolution:!1},timeFrom:null,timeShift:null,targets:[{}],aliasColors:{},seriesOverrides:[]},e["default"].defaults(this.panel,this.panelDefaults),e["default"].defaults(this.panel.tooltip,this.panelDefaults.tooltip),e["default"].defaults(this.panel.grid,this.panelDefaults.grid),e["default"].defaults(this.panel.legend,this.panelDefaults.legend),this.colors=b.$root.colors,this.events.on("render",this.onRender.bind(this)),this.events.on("data-received",this.onDataReceived.bind(this)),this.events.on("data-error",this.onDataError.bind(this)),this.events.on("data-snapshot-load",this.onDataSnapshotLoad.bind(this)),this.events.on("init-edit-mode",this.onInitEditMode.bind(this)),this.events.on("init-panel-actions",this.onInitPanelActions.bind(this))}return j(h,a),h.$inject=["$scope","$injector","annotationsSrv"],h.prototype.onInitEditMode=function(){this.addEditorTab("Axes","public/app/plugins/panel/graph/tab_axes.html",2),this.addEditorTab("Legend","public/app/plugins/panel/graph/tab_legend.html",3),this.addEditorTab("Display","public/app/plugins/panel/graph/tab_display.html",4),this.logScales={linear:1,"log (base 2)":2,"log (base 10)":10,"log (base 32)":32,"log (base 1024)":1024},this.unitFormats=d["default"].getUnitFormats()},h.prototype.onInitPanelActions=function(a){a.push({text:"Export CSV (series as rows)",click:"ctrl.exportCsv()"}),a.push({text:"Export CSV (series as columns)",click:"ctrl.exportCsvColumns()"}),a.push({text:"Toggle legend",click:"ctrl.toggleLegend()"})},h.prototype.setUnitFormat=function(a,b){a.format=b.value,this.render()},h.prototype.issueQueries=function(b){return this.annotationsPromise=this.annotationsSrv.getAnnotations(this.dashboard),a.prototype.issueQueries.call(this,b)},h.prototype.zoomOut=function(a){this.publishAppEvent("zoom-out",2)},h.prototype.onDataSnapshotLoad=function(a){this.annotationsPromise=this.annotationsSrv.getAnnotations(this.dashboard),this.onDataReceived(a)},h.prototype.onDataError=function(a){this.seriesList=[],this.render([])},h.prototype.onDataReceived=function(a){var b=this;this.datapointsWarning=!1,this.datapointsCount=0,this.datapointsOutside=!1,this.seriesList=a.map(this.seriesHandler.bind(this)),this.datapointsWarning=0===this.datapointsCount||this.datapointsOutside,this.annotationsPromise.then(function(a){b.loading=!1,b.seriesList.annotations=a,b.render(b.seriesList)},function(){b.loading=!1,b.render(b.seriesList)})},h.prototype.seriesHandler=function(a,b){var d=a.datapoints,e=a.target,g=b%this.colors.length,h=this.panel.aliasColors[e]||this.colors[g],i=new f["default"]({datapoints:d,alias:e,color:h,unit:a.unit});if(d&&d.length>0){var j=c["default"].utc(d[d.length-1][1]),k=c["default"].utc(this.range.from);j-k<-1e4&&(this.datapointsOutside=!0),this.datapointsCount+=d.length,this.panel.tooltip.msResolution=this.panel.tooltip.msResolution||i.isMsResolutionNeeded()}return i},h.prototype.onRender=function(){if(this.seriesList)for(var a=0,b=this.seriesList;a<b.length;a++){var c=b[a];c.applySeriesOverrides(this.panel.seriesOverrides),c.unit&&(this.panel.yaxes[c.yaxis-1].format=c.unit)}},h.prototype.changeSeriesColor=function(a,b){a.color=b,this.panel.aliasColors[a.alias]=a.color,this.render()},h.prototype.toggleSeries=function(a,b){b.ctrlKey||b.metaKey||b.shiftKey?this.hiddenSeries[a.alias]?delete this.hiddenSeries[a.alias]:this.hiddenSeries[a.alias]=!0:this.toggleSeriesExclusiveMode(a),this.render()},h.prototype.toggleSeriesExclusiveMode=function(a){var b=this,c=this.hiddenSeries;c[a.alias]&&delete c[a.alias];var d=e["default"].every(this.seriesList,function(b){return b.alias===a.alias||c[b.alias]});d?e["default"].each(this.seriesList,function(a){delete b.hiddenSeries[a.alias]}):e["default"].each(this.seriesList,function(c){c.alias!==a.alias&&(b.hiddenSeries[c.alias]=!0)})},h.prototype.toggleAxis=function(a){var b=e["default"].findWhere(this.panel.seriesOverrides,{alias:a.alias});b||(b={alias:a.alias},this.panel.seriesOverrides.push(b)),a.yaxis=b.yaxis=2===a.yaxis?1:2,this.render()},h.prototype.addSeriesOverride=function(a){this.panel.seriesOverrides.push(a||{})},h.prototype.removeSeriesOverride=function(a){this.panel.seriesOverrides=e["default"].without(this.panel.seriesOverrides,a),this.render()},h.prototype.toggleLegend=function(){this.panel.legend.show=!this.panel.legend.show,this.refresh()},h.prototype.legendValuesOptionChanged=function(){var a=this.panel.legend;a.values=a.min||a.max||a.avg||a.current||a.total,this.render()},h.prototype.exportCsv=function(){g.exportSeriesListToCsv(this.seriesList)},h.prototype.exportCsvColumns=function(){g.exportSeriesListToCsvColumns(this.seriesList)},h.template=b["default"],h}(h.MetricsPanelCtrl),a("GraphCtrl",i),a("PanelCtrl",i)}}}),System.register("app/plugins/panel/pluginlist/module.js",["lodash","../../../features/panel/panel_ctrl"],function(a){var b,c,d,e=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};return{setters:[function(a){b=a},function(a){c=a}],execute:function(){d=function(a){function c(c,d,e,f){a.call(this,c,d),this.backendSrv=e,this.$location=f,this.panelDefaults={},b["default"].defaults(this.panel,this.panelDefaults),this.events.on("init-edit-mode",this.onInitEditMode.bind(this)),this.pluginList=[],this.viewModel=[{header:"Installed Apps",list:[],type:"app"},{header:"Installed Panels",list:[],type:"panel"},{header:"Installed Datasources",list:[],type:"datasource"}],this.update()}return e(c,a),c.$inject=["$scope","$injector","backendSrv","$location"],c.prototype.onInitEditMode=function(){this.editorTabIndex=1,this.addEditorTab("Options","public/app/plugins/panel/pluginlist/editor.html")},c.prototype.gotoPlugin=function(a,b){b&&b.stopPropagation(),this.$location.url("plugins/"+a.id+"/edit")},c.prototype.updateAvailable=function(a,b){b.stopPropagation(),b.preventDefault();var c=this.$scope.$new(!0);c.plugin=a,this.publishAppEvent("show-modal",{src:"public/app/features/plugins/partials/update_instructions.html",scope:c})},c.prototype.update=function(){var a=this;this.backendSrv.get("api/plugins",{embedded:0,core:0}).then(function(c){a.pluginList=c,a.viewModel[0].list=b["default"].filter(c,{type:"app"}),a.viewModel[1].list=b["default"].filter(c,{type:"panel"}),a.viewModel[2].list=b["default"].filter(c,{type:"datasource"});for(var d=0,e=a.pluginList;d<e.length;d++){var f=e[d];f.hasUpdate?f.state="has-update":f.enabled||(f.state="not-enabled")}})},c.templateUrl="module.html",c}(c.PanelCtrl),a("PluginListCtrl",d),a("PanelCtrl",d)}}}),System.registerDynamic("vendor/flot/jquery.flot.js",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a){a.color={},a.color.make=function(b,c,d,e){var f={};return f.r=b||0,f.g=c||0,f.b=d||0,f.a=null!=e?e:1,f.add=function(a,b){for(var c=0;c<a.length;++c)f[a.charAt(c)]+=b;return f.normalize()},f.scale=function(a,b){for(var c=0;c<a.length;++c)f[a.charAt(c)]*=b;return f.normalize()},f.toString=function(){return f.a>=1?"rgb("+[f.r,f.g,f.b].join(",")+")":"rgba("+[f.r,f.g,f.b,f.a].join(",")+")"},f.normalize=function(){function a(a,b,c){return b<a?a:b>c?c:b}return f.r=a(0,parseInt(f.r),255),f.g=a(0,parseInt(f.g),255),f.b=a(0,parseInt(f.b),255),f.a=a(0,f.a,1),f},f.clone=function(){return a.color.make(f.r,f.b,f.g,f.a)},f.normalize()},a.color.extract=function(b,c){var d;do{if(d=b.css(c).toLowerCase(),""!=d&&"transparent"!=d)break;b=b.parent()}while(b.length&&!a.nodeName(b.get(0),"body"));return"rgba(0, 0, 0, 0)"==d&&(d="transparent"),a.color.parse(d)},a.color.parse=function(c){var d,e=a.color.make;if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c))return e(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10));if(d=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c))return e(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10),parseFloat(d[4]));if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c))return e(2.55*parseFloat(d[1]),2.55*parseFloat(d[2]),2.55*parseFloat(d[3]));if(d=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c))return e(2.55*parseFloat(d[1]),2.55*parseFloat(d[2]),2.55*parseFloat(d[3]),parseFloat(d[4]));if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c))return e(parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16));if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c))return e(parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16));var f=a.trim(c).toLowerCase();return"transparent"==f?e(255,255,255,0):(d=b[f]||[0,0,0],e(d[0],d[1],d[2]))};var b={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(a){function b(b,c){var d=c.children("."+b)[0];if(null==d&&(d=document.createElement("canvas"),d.className=b,a(d).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(c),!d.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");d=window.G_vmlCanvasManager.initElement(d)}this.element=d;var e=this.context=d.getContext("2d"),f=window.devicePixelRatio||1,g=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;this.pixelRatio=f/g,this.resize(c.width(),c.height()),this.textContainer=null,this.text={},this._textCache={},this._textSizeCache=window.flotTextSizeCache=window.flotTextSizeCache||{}}function c(c,e,f,g){function h(a,b){b=[qa].concat(b);for(var c=0;c<a.length;++c)a[c].apply(this,b)}function i(){for(var c={Canvas:b},d=0;d<g.length;++d){var e=g[d];e.init(qa,c),e.options&&a.extend(!0,ea,e.options)}}function j(b){a.extend(!0,ea,b),b&&b.colors&&(ea.colors=b.colors),null==ea.xaxis.color&&(ea.xaxis.color=a.color.parse(ea.grid.color).scale("a",.22).toString()),null==ea.yaxis.color&&(ea.yaxis.color=a.color.parse(ea.grid.color).scale("a",.22).toString()),null==ea.xaxis.tickColor&&(ea.xaxis.tickColor=ea.grid.tickColor||ea.xaxis.color),null==ea.yaxis.tickColor&&(ea.yaxis.tickColor=ea.grid.tickColor||ea.yaxis.color),null==ea.grid.borderColor&&(ea.grid.borderColor=ea.grid.color),null==ea.grid.tickColor&&(ea.grid.tickColor=a.color.parse(ea.grid.color).scale("a",.22).toString());var d,e,f,g=c.css("font-size"),i=g?+g.replace("px",""):13,j={style:c.css("font-style"),size:Math.round(.8*i),variant:c.css("font-variant"),weight:c.css("font-weight"),family:c.css("font-family")};for(f=ea.xaxes.length||1,d=0;d<f;++d)e=ea.xaxes[d],e&&!e.tickColor&&(e.tickColor=e.color),e=a.extend(!0,{},ea.xaxis,e),ea.xaxes[d]=e,e.font&&(e.font=a.extend({},j,e.font),e.font.color||(e.font.color=e.color),e.font.lineHeight||(e.font.lineHeight=Math.round(1.15*e.font.size)));for(f=ea.yaxes.length||1,d=0;d<f;++d)e=ea.yaxes[d],e&&!e.tickColor&&(e.tickColor=e.color),e=a.extend(!0,{},ea.yaxis,e),ea.yaxes[d]=e,e.font&&(e.font=a.extend({},j,e.font),e.font.color||(e.font.color=e.color),e.font.lineHeight||(e.font.lineHeight=Math.round(1.15*e.font.size)));for(ea.xaxis.noTicks&&null==ea.xaxis.ticks&&(ea.xaxis.ticks=ea.xaxis.noTicks),ea.yaxis.noTicks&&null==ea.yaxis.ticks&&(ea.yaxis.ticks=ea.yaxis.noTicks),ea.x2axis&&(ea.xaxes[1]=a.extend(!0,{},ea.xaxis,ea.x2axis),ea.xaxes[1].position="top",null==ea.x2axis.min&&(ea.xaxes[1].min=null),null==ea.x2axis.max&&(ea.xaxes[1].max=null)),ea.y2axis&&(ea.yaxes[1]=a.extend(!0,{},ea.yaxis,ea.y2axis),ea.yaxes[1].position="right",null==ea.y2axis.min&&(ea.yaxes[1].min=null),null==ea.y2axis.max&&(ea.yaxes[1].max=null)),ea.grid.coloredAreas&&(ea.grid.markings=ea.grid.coloredAreas),ea.grid.coloredAreasColor&&(ea.grid.markingsColor=ea.grid.coloredAreasColor),ea.lines&&a.extend(!0,ea.series.lines,ea.lines),ea.points&&a.extend(!0,ea.series.points,ea.points),ea.bars&&a.extend(!0,ea.series.bars,ea.bars),null!=ea.shadowSize&&(ea.series.shadowSize=ea.shadowSize),null!=ea.highlightColor&&(ea.series.highlightColor=ea.highlightColor),d=0;d<ea.xaxes.length;++d)q(ka,d+1).options=ea.xaxes[d];for(d=0;d<ea.yaxes.length;++d)q(la,d+1).options=ea.yaxes[d];for(var k in pa)ea.hooks[k]&&ea.hooks[k].length&&(pa[k]=pa[k].concat(ea.hooks[k]));h(pa.processOptions,[ea])}function k(a){da=l(a),r(),s()}function l(b){for(var c=[],d=0;d<b.length;++d){var e=a.extend(!0,{},ea.series);null!=b[d].data?(e.data=b[d].data,delete b[d].data,a.extend(!0,e,b[d]),b[d].data=e.data):e.data=b[d],c.push(e)}return c}function m(a,b){var c=a[b+"axis"];return"object"==typeof c&&(c=c.n),"number"!=typeof c&&(c=1),c}function n(){return a.grep(ka.concat(la),function(a){return a})}function o(a){var b,c,d={};for(b=0;b<ka.length;++b)c=ka[b],c&&c.used&&(d["x"+c.n]=c.c2p(a.left));for(b=0;b<la.length;++b)c=la[b],c&&c.used&&(d["y"+c.n]=c.c2p(a.top));return void 0!==d.x1&&(d.x=d.x1),void 0!==d.y1&&(d.y=d.y1),d}function p(a){var b,c,d,e={};for(b=0;b<ka.length;++b)if(c=ka[b],c&&c.used&&(d="x"+c.n,null==a[d]&&1==c.n&&(d="x"),null!=a[d])){e.left=c.p2c(a[d]);break}for(b=0;b<la.length;++b)if(c=la[b],c&&c.used&&(d="y"+c.n,null==a[d]&&1==c.n&&(d="y"),null!=a[d])){e.top=c.p2c(a[d]);break}return e}function q(b,c){return b[c-1]||(b[c-1]={n:c,direction:b==ka?"x":"y",options:a.extend(!0,{},b==ka?ea.xaxis:ea.yaxis)}),b[c-1]}function r(){var b,c=da.length,d=-1;for(b=0;b<da.length;++b){var e=da[b].color;null!=e&&(c--,"number"==typeof e&&e>d&&(d=e))}c<=d&&(c=d+1);var f,g=[],h=ea.colors,i=h.length,j=0;for(b=0;b<c;b++)f=a.color.parse(h[b%i]||"#666"),b%i==0&&b&&(j=j>=0?j<.5?-j-.2:0:-j),g[b]=f.scale("rgb",1+j);var k,l=0;for(b=0;b<da.length;++b){if(k=da[b],null==k.color?(k.color=g[l].toString(),++l):"number"==typeof k.color&&(k.color=g[k.color].toString()),null==k.lines.show){var n,o=!0;for(n in k)if(k[n]&&k[n].show){o=!1;break}o&&(k.lines.show=!0)}null==k.lines.zero&&(k.lines.zero=!!k.lines.fill),k.xaxis=q(ka,m(k,"x")),k.yaxis=q(la,m(k,"y"))}}function s(){function b(a,b,c){b<a.datamin&&b!=-s&&(a.datamin=b),c>a.datamax&&c!=s&&(a.datamax=c)}var c,d,e,f,g,i,j,k,l,m,o,p,q=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,s=Number.MAX_VALUE;for(a.each(n(),function(a,b){b.datamin=q,b.datamax=r,b.used=!1}),c=0;c<da.length;++c)g=da[c],g.datapoints={points:[]},h(pa.processRawData,[g,g.data,g.datapoints]);for(c=0;c<da.length;++c){if(g=da[c],o=g.data,p=g.datapoints.format,!p){if(p=[],p.push({x:!0,number:!0,required:!0}),p.push({y:!0,number:!0,required:!0}),g.bars.show||g.lines.show&&g.lines.fill){var t=!!(g.bars.show&&g.bars.zero||g.lines.show&&g.lines.zero);p.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:t}),g.bars.horizontal&&(delete p[p.length-1].y,p[p.length-1].x=!0)}g.datapoints.format=p}if(null==g.datapoints.pointsize){g.datapoints.pointsize=p.length,j=g.datapoints.pointsize,i=g.datapoints.points;var u=g.lines.show&&g.lines.steps;for(g.xaxis.used=g.yaxis.used=!0,d=e=0;d<o.length;++d,e+=j){m=o[d];var v=null==m;if(!v)for(f=0;f<j;++f)k=m[f],l=p[f],l&&(l.number&&null!=k&&(k=+k,isNaN(k)?k=null:k==1/0?k=s:k==-(1/0)&&(k=-s)),null==k&&(l.required&&(v=!0),null!=l.defaultValue&&(k=l.defaultValue))),i[e+f]=k;if(v)for(f=0;f<j;++f)k=i[e+f],null!=k&&(l=p[f],l.autoscale!==!1&&(l.x&&b(g.xaxis,k,k),l.y&&b(g.yaxis,k,k))),i[e+f]=null;else if(u&&e>0&&null!=i[e-j]&&i[e-j]!=i[e]&&i[e-j+1]!=i[e+1]){for(f=0;f<j;++f)i[e+j+f]=i[e+f];i[e+1]=i[e-j+1],e+=j}}}}for(c=0;c<da.length;++c){if(g=da[c],i=g.datapoints.points,j=g.datapoints.pointsize,"negative-Y"===g.transform)for(d=0;d<i.length;d+=j)null!=i[d]&&(k=i[d+1],i[d+1]=-k);h(pa.processDatapoints,[g,g.datapoints])}for(c=0;c<da.length;++c){g=da[c],i=g.datapoints.points,j=g.datapoints.pointsize,p=g.datapoints.format;var w=q,x=q,y=r,z=r;for(d=0;d<i.length;d+=j)if(null!=i[d])for(f=0;f<j;++f)k=i[d+f],l=p[f],l&&l.autoscale!==!1&&k!=s&&k!=-s&&(l.x&&(k<w&&(w=k),k>y&&(y=k)),l.y&&(k<x&&(x=k),k>z&&(z=k)));if(g.bars.show){var A;switch(g.bars.align){case"left":A=0;break;case"right":A=-g.bars.barWidth;break;default:A=-g.bars.barWidth/2}g.bars.horizontal?(x+=A,z+=A+g.bars.barWidth):(w+=A,y+=A+g.bars.barWidth)}b(g.xaxis,w,y),b(g.yaxis,x,z)}a.each(n(),function(a,b){b.datamin==q&&(b.datamin=null),b.datamax==r&&(b.datamax=null)})}function t(){c.css("padding",0).children().filter(function(){return!a(this).hasClass("flot-overlay")&&!a(this).hasClass("flot-base")}).remove(),"static"==c.css("position")&&c.css("position","relative"),fa=new b("flot-base",c),ga=new b("flot-overlay",c),ia=fa.context,ja=ga.context,ha=a(ga.element).unbind();var d=c.data("plot");d&&(d.shutdown(),ga.clear()),c.data("plot",qa)}function u(){ea.grid.hoverable&&(ha.mousemove(T),ha.bind("mouseleave",U)),ea.grid.clickable&&ha.click(V),h(pa.bindEvents,[ha])}function v(){sa&&clearTimeout(sa),ha.unbind("mousemove",T),ha.unbind("mouseleave",U),ha.unbind("click",V),h(pa.shutdown,[ha])}function w(a){function b(a){return a}var c,d,e=a.options.transform||b,f=a.options.inverseTransform;"x"==a.direction?(c=a.scale=na/Math.abs(e(a.max)-e(a.min)),d=Math.min(e(a.max),e(a.min))):(c=a.scale=oa/Math.abs(e(a.max)-e(a.min)),c=-c,d=Math.max(e(a.max),e(a.min))),e==b?a.p2c=function(a){return(a-d)*c}:a.p2c=function(a){return(e(a)-d)*c},f?a.c2p=function(a){return f(d+a/c)}:a.c2p=function(a){return d+a/c}}function x(a){for(var b=a.options,c=a.ticks||[],d=b.labelWidth||0,e=b.labelHeight||0,f=d||("x"==a.direction?Math.floor(fa.width/(c.length||1)):null),g=a.direction+"Axis "+a.direction+a.n+"Axis",h="flot-"+a.direction+"-axis flot-"+a.direction+a.n+"-axis "+g,i=b.font||"flot-tick-label tickLabel",j=0;j<c.length;++j){var k=c[j];if(k.label){var l=fa.getTextInfo(h,k.label,i,null,f);d=Math.max(d,l.width+1),e=Math.max(e,l.height)}}a.labelWidth=b.labelWidth||d,a.labelHeight=b.labelHeight||e}function y(b){var c=b.labelWidth,d=b.labelHeight,e=b.options.position,f="x"===b.direction,g=b.options.tickLength,h=ea.grid.axisMargin,i=ea.grid.labelMargin,j=!0,k=!0,l=!0,m=!1;a.each(f?ka:la,function(a,c){c&&(c.show||c.reserveSpace)&&(c===b?m=!0:c.options.position===e&&(m?k=!1:j=!1),m||(l=!1))}),k&&(h=0),null==g&&(g=l?"full":5),isNaN(+g)||(i+=+g),f?(d+=i,"bottom"==e?(ma.bottom+=d+h,b.box={top:fa.height-ma.bottom,height:d}):(b.box={top:ma.top+h,height:d},ma.top+=d+h)):(c+=i,"left"==e?(b.box={left:ma.left+h,width:c},ma.left+=c+h):(ma.right+=c+h,b.box={left:fa.width-ma.right,width:c})),b.position=e,b.tickLength=g,b.box.padding=i,b.innermost=j}function z(a){"x"==a.direction?(a.box.left=ma.left-a.labelWidth/2,a.box.width=fa.width-ma.left-ma.right+a.labelWidth):(a.box.top=ma.top-a.labelHeight/2,a.box.height=fa.height-ma.bottom-ma.top+a.labelHeight)}function A(){var b,c=ea.grid.minBorderMargin;if(null==c)for(c=0,b=0;b<da.length;++b)c=Math.max(c,2*(da[b].points.radius+da[b].points.lineWidth/2));var d={left:c,right:c,top:c,bottom:c};a.each(n(),function(a,b){b.reserveSpace&&b.ticks&&b.ticks.length&&("x"===b.direction?(d.left=Math.max(d.left,b.labelWidth/2),d.right=Math.max(d.right,b.labelWidth/2)):(d.bottom=Math.max(d.bottom,b.labelHeight/2),d.top=Math.max(d.top,b.labelHeight/2)))}),ma.left=Math.ceil(Math.max(d.left,ma.left)),ma.right=Math.ceil(Math.max(d.right,ma.right)),ma.top=Math.ceil(Math.max(d.top,ma.top)),ma.bottom=Math.ceil(Math.max(d.bottom,ma.bottom))}function B(){var b,c=n(),d=ea.grid.show;for(var e in ma){var f=ea.grid.margin||0;ma[e]="number"==typeof f?f:f[e]||0}h(pa.processOffset,[ma]);for(var e in ma)"object"==typeof ea.grid.borderWidth?ma[e]+=d?ea.grid.borderWidth[e]:0:ma[e]+=d?ea.grid.borderWidth:0;
if(a.each(c,function(a,b){var c=b.options;b.show=null==c.show?b.used:c.show,b.reserveSpace=null==c.reserveSpace?b.show:c.reserveSpace,C(b)}),d){var g=a.grep(c,function(a){return a.show||a.reserveSpace});for(a.each(g,function(a,b){D(b),E(b),F(b,b.ticks),x(b)}),b=g.length-1;b>=0;--b)y(g[b]);A(),a.each(g,function(a,b){z(b)})}na=fa.width-ma.left-ma.right,oa=fa.height-ma.bottom-ma.top,a.each(c,function(a,b){w(b)}),d&&K(),R()}function C(a){var b=a.options,c=+(null!=b.min?b.min:a.datamin),d=+(null!=b.max?b.max:a.datamax),e=d-c;if(0==e){var f=0==d?1:.01;null==b.min&&(c-=f),null!=b.max&&null==b.min||(d+=f)}else{var g=b.autoscaleMargin;null!=g&&(null==b.min&&(c-=e*g,c<0&&null!=a.datamin&&a.datamin>=0&&(c=0)),null==b.max&&(d+=e*g,d>0&&null!=a.datamax&&a.datamax<=0&&(d=0)))}a.min=c,a.max=d}function D(b){var c,e=b.options;c="number"==typeof e.ticks&&e.ticks>0?e.ticks:.3*Math.sqrt("x"==b.direction?fa.width:fa.height);var f=(b.max-b.min)/c,g=-Math.floor(Math.log(f)/Math.LN10),h=e.tickDecimals;null!=h&&g>h&&(g=h);var i,j=Math.pow(10,-g),k=f/j;if(k<1.5?i=1:k<3?(i=2,k>2.25&&(null==h||g+1<=h)&&(i=2.5,++g)):i=k<7.5?5:10,i*=j,null!=e.minTickSize&&i<e.minTickSize&&(i=e.minTickSize),b.delta=f,b.tickDecimals=Math.max(0,null!=h?h:g),b.tickSize=e.tickSize||i,b.scaledDecimals=b.tickDecimals-Math.floor(Math.log(b.tickSize)/Math.LN10),"time"==e.mode&&!b.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(b.tickGenerator||(b.tickGenerator=function(a){var b,c=[],e=d(a.min,a.tickSize),f=0,g=Number.NaN;do b=g,g=e+f*a.tickSize,c.push(g),++f;while(g<a.max&&g!=b);return c},b.tickFormatter=function(a,b){var c=b.tickDecimals?Math.pow(10,b.tickDecimals):1,d=""+Math.round(a*c)/c;if(null!=b.tickDecimals){var e=d.indexOf("."),f=e==-1?0:d.length-e-1;if(f<b.tickDecimals)return(f?d:d+".")+(""+c).substr(1,b.tickDecimals-f)}return d}),a.isFunction(e.tickFormatter)&&(b.tickFormatter=function(a,b){return""+e.tickFormatter(a,b)}),null!=e.alignTicksWithAxis){var l=("x"==b.direction?ka:la)[e.alignTicksWithAxis-1];if(l&&l.used&&l!=b){var m=b.tickGenerator(b);if(m.length>0&&(null==e.min&&(b.min=Math.min(b.min,m[0])),null==e.max&&m.length>1&&(b.max=Math.max(b.max,m[m.length-1]))),b.tickGenerator=function(a){var b,c,d=[];for(c=0;c<l.ticks.length;++c)b=(l.ticks[c].v-l.min)/(l.max-l.min),b=a.min+b*(a.max-a.min),d.push(b);return d},!b.mode&&null==e.tickDecimals){var n=Math.max(0,-Math.floor(Math.log(b.delta)/Math.LN10)+1),o=b.tickGenerator(b);o.length>1&&/\..*0$/.test((o[1]-o[0]).toFixed(n))||(b.tickDecimals=n)}}}}function E(b){var c=b.options.ticks,d=[];null==c||"number"==typeof c&&c>0?d=b.tickGenerator(b):c&&(d=a.isFunction(c)?c(b):c);var e,f;for(b.ticks=[],e=0;e<d.length;++e){var g=null,h=d[e];"object"==typeof h?(f=+h[0],h.length>1&&(g=h[1])):f=+h,null==g&&(g=b.tickFormatter(f,b)),isNaN(f)||b.ticks.push({v:f,label:g})}}function F(a,b){a.options.autoscaleMargin&&b.length>0&&(null==a.options.min&&(a.min=Math.min(a.min,b[0].v)),null==a.options.max&&b.length>1&&(a.max=Math.max(a.max,b[b.length-1].v)))}function G(){fa.clear(),h(pa.drawBackground,[ia]);var a=ea.grid;a.show&&a.backgroundColor&&I(),a.show&&!a.aboveData&&J();for(var b=0;b<da.length;++b)h(pa.drawSeries,[ia,da[b]]),L(da[b]);h(pa.draw,[ia]),a.show&&a.aboveData&&J(),fa.render(),X()}function H(a,b){for(var c,d,e,f,g=n(),h=0;h<g.length;++h)if(c=g[h],c.direction==b&&(f=b+c.n+"axis",a[f]||1!=c.n||(f=b+"axis"),a[f])){d=a[f].from,e=a[f].to;break}if(a[f]||(c="x"==b?ka[0]:la[0],d=a[b+"1"],e=a[b+"2"]),null!=d&&null!=e&&d>e){var i=d;d=e,e=i}return{from:d,to:e,axis:c}}function I(){ia.save(),ia.translate(ma.left,ma.top),ia.fillStyle=ca(ea.grid.backgroundColor,oa,0,"rgba(255, 255, 255, 0)"),ia.fillRect(0,0,na,oa),ia.restore()}function J(){var b,c,d,e;ia.save(),ia.translate(ma.left,ma.top);var f=ea.grid.markings;if(f)for(a.isFunction(f)&&(c=qa.getAxes(),c.xmin=c.xaxis.min,c.xmax=c.xaxis.max,c.ymin=c.yaxis.min,c.ymax=c.yaxis.max,f=f(c)),b=0;b<f.length;++b){var g=f[b],h=H(g,"x"),i=H(g,"y");if(null==h.from&&(h.from=h.axis.min),null==h.to&&(h.to=h.axis.max),null==i.from&&(i.from=i.axis.min),null==i.to&&(i.to=i.axis.max),!(h.to<h.axis.min||h.from>h.axis.max||i.to<i.axis.min||i.from>i.axis.max)){h.from=Math.max(h.from,h.axis.min),h.to=Math.min(h.to,h.axis.max),i.from=Math.max(i.from,i.axis.min),i.to=Math.min(i.to,i.axis.max);var j=h.from===h.to,k=i.from===i.to;if(!j||!k)if(h.from=Math.floor(h.axis.p2c(h.from)),h.to=Math.floor(h.axis.p2c(h.to)),i.from=Math.floor(i.axis.p2c(i.from)),i.to=Math.floor(i.axis.p2c(i.to)),j||k){var l=g.lineWidth||ea.grid.markingsLineWidth,m=l%2?.5:0;ia.beginPath(),ia.strokeStyle=g.color||ea.grid.markingsColor,ia.lineWidth=l,j?(ia.moveTo(h.to+m,i.from),ia.lineTo(h.to+m,i.to)):(ia.moveTo(h.from,i.to+m),ia.lineTo(h.to,i.to+m)),ia.stroke()}else ia.fillStyle=g.color||ea.grid.markingsColor,ia.fillRect(h.from,i.to,h.to-h.from,i.from-i.to)}}c=n(),d=ea.grid.borderWidth;for(var o=0;o<c.length;++o){var p,q,r,s,t=c[o],u=t.box,v=t.tickLength;if(t.show&&0!=t.ticks.length){for(ia.lineWidth=1,"x"==t.direction?(p=0,q="full"==v?"top"==t.position?0:oa:u.top-ma.top+("top"==t.position?u.height:0)):(q=0,p="full"==v?"left"==t.position?0:na:u.left-ma.left+("left"==t.position?u.width:0)),t.innermost||(ia.strokeStyle=t.options.color,ia.beginPath(),r=s=0,"x"==t.direction?r=na+1:s=oa+1,1==ia.lineWidth&&("x"==t.direction?q=Math.floor(q)+.5:p=Math.floor(p)+.5),ia.moveTo(p,q),ia.lineTo(p+r,q+s),ia.stroke()),ia.strokeStyle=t.options.tickColor,ia.beginPath(),b=0;b<t.ticks.length;++b){var w=t.ticks[b].v;r=s=0,isNaN(w)||w<t.min||w>t.max||"full"==v&&("object"==typeof d&&d[t.position]>0||d>0)&&(w==t.min||w==t.max)||("x"==t.direction?(p=t.p2c(w),s="full"==v?-oa:v,"top"==t.position&&(s=-s)):(q=t.p2c(w),r="full"==v?-na:v,"left"==t.position&&(r=-r)),1==ia.lineWidth&&("x"==t.direction?p=Math.floor(p)+.5:q=Math.floor(q)+.5),ia.moveTo(p,q),ia.lineTo(p+r,q+s))}ia.stroke()}}d&&(e=ea.grid.borderColor,"object"==typeof d||"object"==typeof e?("object"!=typeof d&&(d={top:d,right:d,bottom:d,left:d}),"object"!=typeof e&&(e={top:e,right:e,bottom:e,left:e}),d.top>0&&(ia.strokeStyle=e.top,ia.lineWidth=d.top,ia.beginPath(),ia.moveTo(0-d.left,0-d.top/2),ia.lineTo(na,0-d.top/2),ia.stroke()),d.right>0&&(ia.strokeStyle=e.right,ia.lineWidth=d.right,ia.beginPath(),ia.moveTo(na+d.right/2,0-d.top),ia.lineTo(na+d.right/2,oa),ia.stroke()),d.bottom>0&&(ia.strokeStyle=e.bottom,ia.lineWidth=d.bottom,ia.beginPath(),ia.moveTo(na+d.right,oa+d.bottom/2),ia.lineTo(0,oa+d.bottom/2),ia.stroke()),d.left>0&&(ia.strokeStyle=e.left,ia.lineWidth=d.left,ia.beginPath(),ia.moveTo(0-d.left/2,oa+d.bottom),ia.lineTo(0-d.left/2,0),ia.stroke())):(ia.lineWidth=d,ia.strokeStyle=ea.grid.borderColor,ia.strokeRect(-d/2,-d/2,na+d,oa+d))),ia.restore()}function K(){a.each(n(),function(a,b){var c,d,e,f,g,h=b.box,i=b.direction+"Axis "+b.direction+b.n+"Axis",j="flot-"+b.direction+"-axis flot-"+b.direction+b.n+"-axis "+i,k=b.options.font||"flot-tick-label tickLabel";if(fa.removeText(j),b.show&&0!=b.ticks.length)for(var l=0;l<b.ticks.length;++l)c=b.ticks[l],!c.label||c.v<b.min||c.v>b.max||("x"==b.direction?(f="center",d=ma.left+b.p2c(c.v),"bottom"==b.position?e=h.top+h.padding:(e=h.top+h.height-h.padding,g="bottom")):(g="middle",e=ma.top+b.p2c(c.v),"left"==b.position?(d=h.left+h.width-h.padding,f="right"):d=h.left+h.padding),fa.addText(j,d,e,c.label,k,null,null,f,g))})}function L(a){a.lines.show&&M(a),a.bars.show&&P(a),a.points.show&&N(a)}function M(a){function b(a,b,c,d,e){var f=a.points,g=a.pointsize,h=null,i=null;ia.beginPath();for(var j=g;j<f.length;j+=g){var k=f[j-g],l=f[j-g+1],m=f[j],n=f[j+1];if(null!=k&&null!=m){if(l<=n&&l<e.min){if(n<e.min)continue;k=(e.min-l)/(n-l)*(m-k)+k,l=e.min}else if(n<=l&&n<e.min){if(l<e.min)continue;m=(e.min-l)/(n-l)*(m-k)+k,n=e.min}if(l>=n&&l>e.max){if(n>e.max)continue;k=(e.max-l)/(n-l)*(m-k)+k,l=e.max}else if(n>=l&&n>e.max){if(l>e.max)continue;m=(e.max-l)/(n-l)*(m-k)+k,n=e.max}if(k<=m&&k<d.min){if(m<d.min)continue;l=(d.min-k)/(m-k)*(n-l)+l,k=d.min}else if(m<=k&&m<d.min){if(k<d.min)continue;n=(d.min-k)/(m-k)*(n-l)+l,m=d.min}if(k>=m&&k>d.max){if(m>d.max)continue;l=(d.max-k)/(m-k)*(n-l)+l,k=d.max}else if(m>=k&&m>d.max){if(k>d.max)continue;n=(d.max-k)/(m-k)*(n-l)+l,m=d.max}k==h&&l==i||ia.moveTo(d.p2c(k)+b,e.p2c(l)+c),h=m,i=n,ia.lineTo(d.p2c(m)+b,e.p2c(n)+c)}}ia.stroke()}function c(a,b,c){for(var d=a.points,e=a.pointsize,f=Math.min(Math.max(0,c.min),c.max),g=0,h=!1,i=1,j=0,k=0;;){if(e>0&&g>d.length+e)break;g+=e;var l=d[g-e],m=d[g-e+i],n=d[g],o=d[g+i];if(h){if(e>0&&null!=l&&null==n){k=g,e=-e,i=2;continue}if(e<0&&g==j+e){ia.fill(),h=!1,e=-e,i=1,g=j=k+e;continue}}if(null!=l&&null!=n){if(l<=n&&l<b.min){if(n<b.min)continue;m=(b.min-l)/(n-l)*(o-m)+m,l=b.min}else if(n<=l&&n<b.min){if(l<b.min)continue;o=(b.min-l)/(n-l)*(o-m)+m,n=b.min}if(l>=n&&l>b.max){if(n>b.max)continue;m=(b.max-l)/(n-l)*(o-m)+m,l=b.max}else if(n>=l&&n>b.max){if(l>b.max)continue;o=(b.max-l)/(n-l)*(o-m)+m,n=b.max}if(h||(ia.beginPath(),ia.moveTo(b.p2c(l),c.p2c(f)),h=!0),m>=c.max&&o>=c.max)ia.lineTo(b.p2c(l),c.p2c(c.max)),ia.lineTo(b.p2c(n),c.p2c(c.max));else if(m<=c.min&&o<=c.min)ia.lineTo(b.p2c(l),c.p2c(c.min)),ia.lineTo(b.p2c(n),c.p2c(c.min));else{var p=l,q=n;m<=o&&m<c.min&&o>=c.min?(l=(c.min-m)/(o-m)*(n-l)+l,m=c.min):o<=m&&o<c.min&&m>=c.min&&(n=(c.min-m)/(o-m)*(n-l)+l,o=c.min),m>=o&&m>c.max&&o<=c.max?(l=(c.max-m)/(o-m)*(n-l)+l,m=c.max):o>=m&&o>c.max&&m<=c.max&&(n=(c.max-m)/(o-m)*(n-l)+l,o=c.max),l!=p&&ia.lineTo(b.p2c(p),c.p2c(m)),ia.lineTo(b.p2c(l),c.p2c(m)),ia.lineTo(b.p2c(n),c.p2c(o)),n!=q&&(ia.lineTo(b.p2c(n),c.p2c(o)),ia.lineTo(b.p2c(q),c.p2c(o)))}}}}ia.save(),ia.translate(ma.left,ma.top),ia.lineJoin="round";var d=a.lines.lineWidth,e=a.shadowSize;if(d>0&&e>0){ia.lineWidth=e,ia.strokeStyle="rgba(0,0,0,0.1)";var f=Math.PI/18;b(a.datapoints,Math.sin(f)*(d/2+e/2),Math.cos(f)*(d/2+e/2),a.xaxis,a.yaxis),ia.lineWidth=e/2,b(a.datapoints,Math.sin(f)*(d/2+e/4),Math.cos(f)*(d/2+e/4),a.xaxis,a.yaxis)}ia.lineWidth=d,ia.strokeStyle=a.color;var g=Q(a.lines,a.color,0,oa);g&&(ia.fillStyle=g,c(a.datapoints,a.xaxis,a.yaxis)),d>0&&b(a.datapoints,0,0,a.xaxis,a.yaxis),ia.restore()}function N(a){function b(a,b,c,d,e,f,g,h){for(var i=a.points,j=a.pointsize,k=0;k<i.length;k+=j){var l=i[k],m=i[k+1];null==l||l<f.min||l>f.max||m<g.min||m>g.max||(ia.beginPath(),l=f.p2c(l),m=g.p2c(m)+d,"circle"==h?ia.arc(l,m,b,0,e?Math.PI:2*Math.PI,!1):h(ia,l,m,b,e),ia.closePath(),c&&(ia.fillStyle=c,ia.fill()),ia.stroke())}}ia.save(),ia.translate(ma.left,ma.top);var c=a.points.lineWidth,d=a.shadowSize,e=a.points.radius,f=a.points.symbol;if(0==c&&(c=1e-4),c>0&&d>0){var g=d/2;ia.lineWidth=g,ia.strokeStyle="rgba(0,0,0,0.1)",b(a.datapoints,e,null,g+g/2,!0,a.xaxis,a.yaxis,f),ia.strokeStyle="rgba(0,0,0,0.2)",b(a.datapoints,e,null,g/2,!0,a.xaxis,a.yaxis,f)}ia.lineWidth=c,ia.strokeStyle=a.color,b(a.datapoints,e,Q(a.points,a.color),0,!1,a.xaxis,a.yaxis,f),ia.restore()}function O(a,b,c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q,r,s,t;j?(s=q=r=!0,p=!1,l=c,m=a,o=b+d,n=b+e,m<l&&(t=m,m=l,l=t,p=!0,q=!1)):(p=q=r=!0,s=!1,l=a+d,m=a+e,n=c,o=b,o<n&&(t=o,o=n,n=t,s=!0,r=!1)),m<g.min||l>g.max||o<h.min||n>h.max||(l<g.min&&(l=g.min,p=!1),m>g.max&&(m=g.max,q=!1),n<h.min&&(n=h.min,s=!1),o>h.max&&(o=h.max,r=!1),l=g.p2c(l),n=h.p2c(n),m=g.p2c(m),o=h.p2c(o),f&&(i.fillStyle=f(n,o),i.fillRect(l,o,m-l,n-o)),k>0&&(p||q||r||s)&&(i.beginPath(),i.moveTo(l,n),p?i.lineTo(l,o):i.moveTo(l,o),r?i.lineTo(m,o):i.moveTo(m,o),q?i.lineTo(m,n):i.moveTo(m,n),s?i.lineTo(l,n):i.moveTo(l,n),i.stroke()))}function P(a){function b(b,c,d,e,f,g){for(var h=b.points,i=b.pointsize,j=0;j<h.length;j+=i)null!=h[j]&&O(h[j],h[j+1],h[j+2],c,d,e,f,g,ia,a.bars.horizontal,a.bars.lineWidth)}ia.save(),ia.translate(ma.left,ma.top),ia.lineWidth=a.bars.lineWidth,ia.strokeStyle=a.color;var c;switch(a.bars.align){case"left":c=0;break;case"right":c=-a.bars.barWidth;break;default:c=-a.bars.barWidth/2}var d=a.bars.fill?function(b,c){return Q(a.bars,a.color,b,c)}:null;b(a.datapoints,c,c+a.bars.barWidth,d,a.xaxis,a.yaxis),ia.restore()}function Q(b,c,d,e){var f=b.fill;if(!f)return null;if(b.fillColor)return ca(b.fillColor,d,e,c);var g=a.color.parse(c);return g.a="number"==typeof f?f:.4,g.normalize(),g.toString()}function R(){if(null!=ea.legend.container?a(ea.legend.container).html(""):c.find(".legend").remove(),ea.legend.show){for(var b,d,e=[],f=[],g=!1,h=ea.legend.labelFormatter,i=0;i<da.length;++i)b=da[i],b.label&&(d=h?h(b.label,b):b.label,d&&f.push({label:d,color:b.color}));if(ea.legend.sorted)if(a.isFunction(ea.legend.sorted))f.sort(ea.legend.sorted);else if("reverse"==ea.legend.sorted)f.reverse();else{var j="descending"!=ea.legend.sorted;f.sort(function(a,b){return a.label==b.label?0:a.label<b.label!=j?1:-1})}for(var i=0;i<f.length;++i){var k=f[i];i%ea.legend.noColumns==0&&(g&&e.push("</tr>"),e.push("<tr>"),g=!0),e.push('<td class="legendColorBox"><div style="border:1px solid '+ea.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+k.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+k.label+"</td>")}if(g&&e.push("</tr>"),0!=e.length){var l='<table style="font-size:smaller;color:'+ea.grid.color+'">'+e.join("")+"</table>";if(null!=ea.legend.container)a(ea.legend.container).html(l);else{var m="",n=ea.legend.position,o=ea.legend.margin;null==o[0]&&(o=[o,o]),"n"==n.charAt(0)?m+="top:"+(o[1]+ma.top)+"px;":"s"==n.charAt(0)&&(m+="bottom:"+(o[1]+ma.bottom)+"px;"),"e"==n.charAt(1)?m+="right:"+(o[0]+ma.right)+"px;":"w"==n.charAt(1)&&(m+="left:"+(o[0]+ma.left)+"px;");var p=a('<div class="legend">'+l.replace('style="','style="position:absolute;'+m+";")+"</div>").appendTo(c);if(0!=ea.legend.backgroundOpacity){var q=ea.legend.backgroundColor;null==q&&(q=ea.grid.backgroundColor,q=q&&"string"==typeof q?a.color.parse(q):a.color.extract(p,"background-color"),q.a=1,q=q.toString());var r=p.children();a('<div style="position:absolute;width:'+r.width()+"px;height:"+r.height()+"px;"+m+"background-color:"+q+';"> </div>').prependTo(p).css("opacity",ea.legend.backgroundOpacity)}}}}}function S(a,b,c){var d,e,f,g=ea.grid.mouseActiveRadius,h=g*g+1,i=null;for(d=da.length-1;d>=0;--d)if(c(da[d])){var j=da[d],k=j.xaxis,l=j.yaxis,m=j.datapoints.points,n=k.c2p(a),o=l.c2p(b),p=g/k.scale,q=g/l.scale;if(f=j.datapoints.pointsize,k.options.inverseTransform&&(p=Number.MAX_VALUE),l.options.inverseTransform&&(q=Number.MAX_VALUE),j.lines.show||j.points.show)for(e=0;e<m.length;e+=f){var r=m[e],s=m[e+1];if(null!=r&&!(r-n>p||r-n<-p||s-o>q||s-o<-q)){var t=Math.abs(k.p2c(r)-a),u=Math.abs(l.p2c(s)-b),v=t*t+u*u;v<h&&(h=v,i=[d,e/f])}}if(j.bars.show&&!i){var w,x;switch(j.bars.align){case"left":w=0;break;case"right":w=-j.bars.barWidth;break;default:w=-j.bars.barWidth/2}for(x=w+j.bars.barWidth,e=0;e<m.length;e+=f){var r=m[e],s=m[e+1],y=m[e+2];null!=r&&(da[d].bars.horizontal?n<=Math.max(y,r)&&n>=Math.min(y,r)&&o>=s+w&&o<=s+x:n>=r+w&&n<=r+x&&o>=Math.min(y,s)&&o<=Math.max(y,s))&&(i=[d,e/f])}}}return i?(d=i[0],e=i[1],f=da[d].datapoints.pointsize,{datapoint:da[d].datapoints.points.slice(e*f,(e+1)*f),dataIndex:e,series:da[d],seriesIndex:d}):null}function T(a){ea.grid.hoverable&&W("plothover",a,function(a){return 0!=a.hoverable})}function U(a){ea.grid.hoverable&&W("plothover",a,function(a){return!1})}function V(a){W("plotclick",a,function(a){return 0!=a.clickable})}function W(a,b,d){var e=ha.offset(),f=b.pageX-e.left-ma.left,g=b.pageY-e.top-ma.top,h=o({left:f,top:g});h.pageX=b.pageX,h.pageY=b.pageY;var i=S(f,g,d);if(i&&(i.pageX=parseInt(i.series.xaxis.p2c(i.datapoint[0])+e.left+ma.left,10),i.pageY=parseInt(i.series.yaxis.p2c(i.datapoint[1])+e.top+ma.top,10)),ea.grid.autoHighlight){for(var j=0;j<ra.length;++j){var k=ra[j];k.auto!=a||i&&k.series==i.series&&k.point[0]==i.datapoint[0]&&k.point[1]==i.datapoint[1]||$(k.series,k.point)}i&&Z(i.series,i.datapoint,a)}c.trigger(a,[h,i])}function X(){var a=ea.interaction.redrawOverlayInterval;return a==-1?void Y():void(sa||(sa=setTimeout(Y,a)))}function Y(){sa=null,ja.save(),ga.clear(),ja.translate(ma.left,ma.top);var a,b;for(a=0;a<ra.length;++a)b=ra[a],b.series.bars.show?ba(b.series,b.point):aa(b.series,b.point);ja.restore(),h(pa.drawOverlay,[ja])}function Z(a,b,c){if("number"==typeof a&&(a=da[a]),"number"==typeof b){var d=a.datapoints.pointsize;b=a.datapoints.points.slice(d*b,d*(b+1))}var e=_(a,b);e==-1?(ra.push({series:a,point:b,auto:c}),X()):c||(ra[e].auto=!1)}function $(a,b){if(null==a&&null==b)return ra=[],void X();if("number"==typeof a&&(a=da[a]),"number"==typeof b){var c=a.datapoints.pointsize;b=a.datapoints.points.slice(c*b,c*(b+1))}var d=_(a,b);d!=-1&&(ra.splice(d,1),X())}function _(a,b){for(var c=0;c<ra.length;++c){var d=ra[c];if(d.series==a&&d.point[0]==b[0]&&d.point[1]==b[1])return c}return-1}function aa(b,c){var d=c[0],e=c[1],f=b.xaxis,g=b.yaxis,h="string"==typeof b.highlightColor?b.highlightColor:a.color.parse(b.color).scale("a",.5).toString();if(!(d<f.min||d>f.max||e<g.min||e>g.max)){var i=b.points.radius+b.points.lineWidth/2;ja.lineWidth=i,ja.strokeStyle=h;var j=1.5*i;d=f.p2c(d),e=g.p2c(e),ja.beginPath(),"circle"==b.points.symbol?ja.arc(d,e,j,0,2*Math.PI,!1):b.points.symbol(ja,d,e,j,!1),ja.closePath(),ja.stroke()}}function ba(b,c){var d,e="string"==typeof b.highlightColor?b.highlightColor:a.color.parse(b.color).scale("a",.5).toString(),f=e;switch(b.bars.align){case"left":d=0;break;case"right":d=-b.bars.barWidth;break;default:d=-b.bars.barWidth/2}ja.lineWidth=b.bars.lineWidth,ja.strokeStyle=e,O(c[0],c[1],c[2]||0,d,d+b.bars.barWidth,function(){return f},b.xaxis,b.yaxis,ja,b.bars.horizontal,b.bars.lineWidth)}function ca(b,c,d,e){if("string"==typeof b)return b;for(var f=ia.createLinearGradient(0,d,0,c),g=0,h=b.colors.length;g<h;++g){var i=b.colors[g];if("string"!=typeof i){var j=a.color.parse(e);null!=i.brightness&&(j=j.scale("rgb",i.brightness)),null!=i.opacity&&(j.a*=i.opacity),i=j.toString()}f.addColorStop(g/(h-1),i)}return f}var da=[],ea={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},fa=null,ga=null,ha=null,ia=null,ja=null,ka=[],la=[],ma={left:0,right:0,top:0,bottom:0},na=0,oa=0,pa={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},qa=this;qa.setData=k,qa.setupGrid=B,qa.draw=G,qa.getPlaceholder=function(){return c},qa.getCanvas=function(){return fa.element},qa.getPlotOffset=function(){return ma},qa.width=function(){return na},qa.height=function(){return oa},qa.offset=function(){var a=ha.offset();return a.left+=ma.left,a.top+=ma.top,a},qa.getData=function(){return da},qa.getAxes=function(){var b={};return a.each(ka.concat(la),function(a,c){c&&(b[c.direction+(1!=c.n?c.n:"")+"axis"]=c)}),b},qa.getXAxes=function(){return ka},qa.getYAxes=function(){return la},qa.c2p=o,qa.p2c=p,qa.getOptions=function(){return ea},qa.highlight=Z,qa.unhighlight=$,qa.triggerRedrawOverlay=X,qa.pointOffset=function(a){return{left:parseInt(ka[m(a,"x")-1].p2c(+a.x)+ma.left,10),top:parseInt(la[m(a,"y")-1].p2c(+a.y)+ma.top,10)}},qa.shutdown=v,qa.destroy=function(){v(),c.removeData("plot").empty(),da=[],ea=null,fa=null,ga=null,ha=null,ia=null,ja=null,ka=[],la=[],pa=null,ra=[],qa=null},qa.resize=function(){var a=c.width(),b=c.height();fa.resize(a,b),ga.resize(a,b)},qa.hooks=pa,i(qa),j(f),t(),k(e),B(),G(),u();var ra=[],sa=null}function d(a,b){return b*Math.floor(a/b)}var e=Object.prototype.hasOwnProperty;a.fn.detach||(a.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),b.prototype.resize=function(a,b){if(a<=0||b<=0)throw new Error("Invalid dimensions for plot, width = "+a+", height = "+b);var c=this.element,d=this.context,e=this.pixelRatio;this.width!=a&&(c.width=a*e,c.style.width=a+"px",this.width=a),this.height!=b&&(c.height=b*e,c.style.height=b+"px",this.height=b),d.restore(),d.save(),d.scale(e,e)},b.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},b.prototype.render=function(){var a=this._textCache;for(var b in a)if(e.call(a,b)){var c=this.getTextLayer(b),d=a[b];c.hide();for(var f in d)if(e.call(d,f)){var g=d[f];for(var h in g)if(e.call(g,h)){for(var i,j=g[h].positions,k=0;i=j[k];k++)i.active?i.rendered||(c.append(i.element),i.rendered=!0):(j.splice(k--,1),i.rendered&&i.element.detach());0==j.length&&delete g[h]}}c.show()}},b.prototype.getTextLayer=function(b){var c=this.text[b];return null==c&&(null==this.textContainer&&(this.textContainer=a("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),c=this.text[b]=a("<div></div>").addClass(b).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),c},b.prototype.getTextInfo=function(b,c,d,e,f){var g,h,i,j;if(c=""+c,g="object"==typeof d?d.style+" "+d.variant+" "+d.weight+" "+d.size+"px/"+d.lineHeight+"px "+d.family:d,h=this._textCache[b],null==h&&(h=this._textCache[b]={}),i=h[g],null==i&&(i=h[g]={}),j=i[c],null==j){var k=a("<div></div>").html(c).css({position:"absolute","max-width":f,top:-9999}).appendTo(this.getTextLayer(b));"object"==typeof d?k.css({font:g,color:d.color}):"string"==typeof d&&k.addClass(d),j=i[c]={element:k,positions:[]};var l=this._textSizeCache[c];l?(j.width=l.width,j.height=l.height):(j.width=k.outerWidth(!0),j.height=k.outerHeight(!0),this._textSizeCache[c]={width:j.width,height:j.height}),k.detach()}return j},b.prototype.addText=function(a,b,c,d,e,f,g,h,i){var j=this.getTextInfo(a,d,e,f,g),k=j.positions;"center"==h?b-=j.width/2:"right"==h&&(b-=j.width),"middle"==i?c-=j.height/2:"bottom"==i&&(c-=j.height);for(var l,m=0;l=k[m];m++)if(l.x==b&&l.y==c)return void(l.active=!0);l={active:!0,rendered:!1,element:k.length?j.element.clone():j.element,x:b,y:c},k.push(l),l.element.css({top:Math.round(c),left:Math.round(b),"text-align":h})},b.prototype.removeText=function(a,b,c,d,f,g){if(null==d){var h=this._textCache[a];if(null!=h)for(var i in h)if(e.call(h,i)){var j=h[i];for(var k in j)if(e.call(j,k))for(var l,m=j[k].positions,n=0;l=m[n];n++)l.active=!1}}else for(var l,m=this.getTextInfo(a,d,f,g).positions,n=0;l=m[n];n++)l.x==b&&l.y==c&&(l.active=!1)},a.plot=function(b,d,e){var f=new c(a(b),d,e,a.plot.plugins);return f},a.plot.version="0.8.3",a.plot.plugins=[],a.fn.plot=function(b,c){return this.each(function(){a.plot(this,b,c)})}}(jQuery)}(this),d()}),System.registerDynamic("vendor/flot/jquery.flot.gauge.js",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a){function b(a){return"undefined"!=typeof Logger?new Logger(a):null}function c(a,b){return b%a}function d(a,b){return Math.floor(b/a)}function e(a){return a*Math.PI}function f(a,b,c,d,e,f,g,h,i,j){if(f!==g){var k=!1;a.save(),a.beginPath(),a.arc(b,c,d,f,g,k),a.lineTo(b+(d-e)*Math.cos(g),c+(d-e)*Math.sin(g)),a.arc(b,c,d-e,g,f,!k),a.closePath(),i&&(a.lineWidth=i),h&&(a.strokeStyle=h,a.stroke()),j&&(a.fillStyle=j,a.fill()),a.restore()}}function g(c){c.hooks.processOptions.push(function(a,c){b(c.series.gauges.debug);c.series.gauges.show&&(c.grid.show=!1,c.legend.show=!1);var d=c.series.gauges.threshold.values;d.sort(function(a,b){return a.value<b.value?-1:a.value>b.value?1:0})}),c.hooks.draw.push(function(c,d){var e=c.getOptions(),f=e.series.gauges;b(f.debug);if(f.show){var g=c.getData();if(g&&g.length){var i=new h(c,d),j=i.calculateLayout();f.debug.layout,i.drawBackground(j);for(var k=0;k<g.length;k++){var l=g[k],m=a.extend({},f,l.gauges);l.gauges&&i.calculateAutoValues(m,j.cellWidth);var n=i.calculateCellLayout(m,j,k);i.drawCellBackground(m,n),m.debug.layout,m.label.show&&i.drawLable(m,j,n,k,l),i.drawGauge(m,j,n,l.label,l.data[0][1]),m.threshold.show&&i.drawThreshold(m,j,n),m.threshold.label.show&&i.drawThresholdValues(m,j,n,k),m.value.show&&i.drawValue(m,j,n,k,l)}}}})}var h=function(){function g(a,b){"auto"===a.gauge.width&&(a.gauge.width=Math.max(5,b/8)),"auto"===a.label.margin&&(a.label.margin=Math.max(1,b/20)),"auto"===a.label.font.size&&(a.label.font.size=Math.max(5,b/8)),"auto"===a.value.margin&&(a.value.margin=Math.max(1,b/30)),"auto"===a.value.font.size&&(a.value.font.size=Math.max(5,b/9)),"auto"===a.threshold.width&&(a.threshold.width=Math.max(3,b/100)),"auto"===a.threshold.label.margin&&(a.threshold.label.margin=Math.max(3,b/40)),"auto"===a.threshold.label.font.size&&(a.threshold.label.font.size=Math.max(5,b/15))}function h(a,b){for(var c,d=0;d<a.threshold.values.length;d++){var e=a.threshold.values[d];if(c=e.color,b<=e.value)break}return c}function i(a,b,c){var d=a.gauge.startAngle+(a.gauge.endAngle-a.gauge.startAngle)*((c-a.gauge.min)/(a.gauge.max-a.gauge.min));return d<a.gauge.startAngle?d=a.gauge.startAngle:d>a.gauge.endAngle&&(d=a.gauge.endAngle),d}function j(a,b,c,d,e,g,h,i,j,k){e!==g&&(m.save(),f(m,a,b,c,d,e,g,h,i,j),k&&(f(m,a,b,c,d,e,g),m.clip(),m.shadowOffsetX=0,m.shadowOffsetY=0,m.shadowBlur=10,m.shadowColor="gray",f(m,a,b,c+1,d+2,e,g,h,1)),m.restore())}function k(a,b,c,d,f,g){l(c.cx+(b.thresholdLabelMargin+b.thresholdLabelFontSize/2+b.radius)*Math.cos(e(g)),c.cy+(b.thresholdLabelMargin+b.thresholdLabelFontSize/2+b.radius)*Math.sin(e(g)),"flotGagueThresholdValue"+d,a.threshold.label.formatter?a.threshold.label.formatter(f):f,a.threshold.label,g)}function l(b,c,d,e,f,g){var h=a("."+d,n),i=h.length;i||(h=a("<span></span>"),h.attr("id",d),h.css("position","absolute"),h.css("top",c+"px"),f.font.size&&h.css("font-size",f.font.size+"px"),f.font.family&&h.css("font-family",f.font.family),f.color&&h.css("color",f.color),f.background.color&&h.css("background-color",f.background.color),f.background.opacity&&h.css("opacity",f.background.opacity),n.append(h)),h.text(e),h.css("left",b+"px"),h.css("left",parseInt(h.css("left"))-h.width()/2+"px"),!i&&g&&(h.css("top",parseInt(h.css("top"))-h.height()/2+"px"),h.css("transform","rotate("+(180*g+90)+"deg)"))}var m,n,o,p,q,r,s=function(a,c){m=c,n=a.getPlaceholder(),o=a.getOptions(),p=o.series.gauges,q=a.getData(),r=b(p.debug)};return s.prototype.calculateLayout=function(){var a=n.width(),b=n.height(),c=Math.min(q.length,p.layout.columns),d=Math.ceil(q.length/c),f=p.layout.margin,h=p.layout.hMargin,i=p.layout.vMargin,j=(a-2*f-h*(c-1))/c,k=(b-2*f-i*(d-1))/d;if(p.layout.square){var l=Math.min(j,k);j=l,k=l}g(p,j);var m=p.cell.margin,o=0,r=0;p.label.show&&(o=p.label.margin,r=p.label.font.size);var s=0,t=0;p.value.show&&(s=p.value.margin,t=p.value.font.size);var u=0;p.threshold.show&&(u=p.threshold.width);var v=0,w=0;p.threshold.label.show&&(v=p.threshold.label.margin,w=p.threshold.label.font.size);for(var x=j/2-m-u-2*v-w,y=p.gauge.startAngle,z=p.gauge.endAngle,A=(z-y)/100,B=-1,C=y;C<z;C+=A)B=Math.max(B,Math.sin(e(C)));B=Math.max(B,Math.sin(e(z)));var D=(k-2*m-2*o-r)/(1+B);D*B<s+t/2&&(D=k-2*m-2*o-r-s-t/2);var E=D-2*v-w-u,F=Math.min(x,E),G=p.gauge.width;G>=F&&(G=Math.max(3,F/3));var H=2*v+w+u+F,I=Math.max(H*(1+B),H+s+t/2);return{canvasWidth:a,canvasHeight:b,margin:f,hMargin:h,vMargin:i,columns:c,rows:d,cellWidth:j,cellHeight:k,cellMargin:m,labelMargin:o,labelFontSize:r,valueMargin:s,valueFontSize:t,width:G,radius:F,thresholdWidth:u,thresholdLabelMargin:v,thresholdLabelFontSize:w,gaugeOuterHeight:I}},s.prototype.calculateAutoValues=g,s.prototype.calculateCellLayout=function(a,b,e){var f=c(b.columns,e),g=d(b.columns,e),h=b.margin+(b.cellWidth+b.hMargin)*f,i=b.margin+(b.cellHeight+b.vMargin)*g,j=h+b.cellWidth/2,k=i+b.cellMargin+2*b.labelMargin+b.labelFontSize+b.thresholdWidth+b.thresholdLabelFontSize+2*b.thresholdLabelMargin+b.radius,l=b.cellHeight-2*b.cellMargin-2*b.labelMargin-b.labelFontSize-b.gaugeOuterHeight,m=0;return"middle"===a.cell.vAlign?m=l/2:"bottom"===a.cell.vAlign&&(m=l),k+=m,{col:f,row:g,x:h,y:i,offsetY:m,cellWidth:b.cellWidth,cellHeight:b.cellHeight,cellMargin:b.cellMargin,cx:j,cy:k}},s.prototype.drawBackground=function(a){p.frame.show&&(m.save(),m.strokeStyle=o.grid.borderColor,m.lineWidth=o.grid.borderWidth,m.strokeRect(0,0,a.canvasWidth,a.canvasHeight),o.grid.backgroundColor&&(m.fillStyle=o.grid.backgroundColor,m.fillRect(0,0,a.canvasWidth,a.canvasHeight)),m.restore())},s.prototype.drawCellBackground=function(a,b){m.save(),a.cell.border&&a.cell.border.show&&a.cell.border.color&&a.cell.border.width&&(m.strokeStyle=a.cell.border.color,m.lineWidth=a.cell.border.width,m.strokeRect(b.x,b.y,b.cellWidth,b.cellHeight)),a.cell.background&&a.cell.background.color&&(m.fillStyle=a.cell.background.color,m.fillRect(b.x,b.y,b.cellWidth,b.cellHeight)),m.restore()},s.prototype.drawGauge=function(a,b,c,d,f){var g=a.gauge.shadow.show?a.gauge.shadow.blur:0;j(c.cx,c.cy,b.radius,b.width,e(a.gauge.startAngle),e(a.gauge.endAngle),a.gauge.border.color,a.gauge.border.width,a.gauge.background.color,g);var k=h(a,f),l=i(a,b,f);j(c.cx,c.cy,b.radius-1,b.width-2,e(a.gauge.startAngle),e(l),k,1,k,g)},s.prototype.drawThreshold=function(a,b,c){for(var d=a.gauge.startAngle,g=0;g<a.threshold.values.length;g++){var h=a.threshold.values[g];c1=h.color,a2=i(a,b,h.value),f(m,c.cx,c.cy,b.radius+b.thresholdWidth,b.thresholdWidth-2,e(d),e(a2),c1,1,c1),d=a2}},s.prototype.drawLable=function(a,b,c,d,e){l(c.cx,c.y+c.cellMargin+b.labelMargin+c.offsetY,"flotGagueLabel"+d,a.label.formatter?a.label.formatter(e.label,e.data[0][1]):text,a.label)},s.prototype.drawValue=function(a,b,c,d,e){l(c.cx,c.cy-a.value.font.size/2,"flotGagueValue"+d,a.value.formatter?a.value.formatter(e.label,e.data[0][1]):text,a.value)},s.prototype.drawThresholdValues=function(a,b,c,d){k(a,b,c,"Min"+d,a.gauge.min,a.gauge.startAngle),k(a,b,c,"Max"+d,a.gauge.max,a.gauge.endAngle);for(var e=0;e<a.threshold.values.length;e++){var f=a.threshold.values[e];if(f.value>a.gauge.min&&f.value<a.gauge.max){var g=i(a,b,f.value);k(a,b,c,d+"_"+e,f.value,g)}}},s}(),i={series:{gauges:{debug:{log:!1,layout:!1,alert:!1},show:!1,layout:{margin:5,columns:3,hMargin:5,vMargin:5,square:!1},frame:{show:!0},cell:{background:{color:null},border:{show:!0,color:"black",width:1},margin:5,vAlign:"middle"},gauge:{width:"auto",startAngle:.9,endAngle:2.1,min:0,max:100,background:{color:"white"},border:{color:"lightgray",width:2},shadow:{show:!0,blur:5}},label:{show:!0,margin:"auto",background:{color:null,opacity:0},font:{size:"auto",family:"sans-serif"},color:null,formatter:function(a,b){return a}},value:{show:!0,margin:"auto",background:{color:null,opacity:0},font:{size:"auto",family:"sans-serif"},color:null,formatter:function(a,b){return parseInt(b)}},threshold:{show:!0,width:"auto",label:{show:!0,margin:"auto",background:{color:null,opacity:0},font:{size:"auto",family:",sans-serif"},color:null,formatter:function(a){return a}},values:[{value:50,color:"lightgreen"},{value:80,color:"yellow"},{value:100,color:"red"}]}}}};a.plot.plugins.push({init:g,options:i,name:"gauge",version:"1.1.0"})}(jQuery)}(this),d()}),System.register("app/plugins/panel/singlestat/module.js",["lodash","jquery","jquery.flot","jquery.flot.gauge","app/core/utils/kbn","app/core/config","app/core/time_series2","app/plugins/sdk"],function(a){
function b(a,b){for(var d=a.thresholds.length;d>0;d--)if(b>=a.thresholds[d-1])return a.colorMap[d];return c["default"].first(a.colorMap)}var c,d,e,f,g,h,i,j=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};return{setters:[function(a){c=a},function(a){d=a},function(a){},function(a){},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a}],execute:function(){i=function(a){function h(b,d,e,f){a.call(this,b,d),this.$location=e,this.linkSrv=f,this.panelDefaults={links:[],datasource:null,maxDataPoints:100,interval:null,targets:[{}],cacheTimeout:null,format:"none",prefix:"",postfix:"",nullText:null,valueMaps:[{value:"null",op:"=",text:"N/A"}],mappingTypes:[{name:"value to text",value:1},{name:"range to text",value:2}],rangeMaps:[{from:"null",to:"null",text:"N/A"}],mappingType:1,nullPointMode:"connected",valueName:"avg",prefixFontSize:"50%",valueFontSize:"80%",postfixFontSize:"50%",thresholds:"",colorBackground:!1,colorValue:!1,colors:["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],sparkline:{show:!1,full:!1,lineColor:"rgb(31, 120, 193)",fillColor:"rgba(31, 118, 189, 0.18)"},gauge:{show:!1,minValue:0,maxValue:100,thresholdMarkers:!0,thresholdLabels:!1}},c["default"].defaults(this.panel,this.panelDefaults),this.events.on("data-received",this.onDataReceived.bind(this)),this.events.on("data-error",this.onDataError.bind(this)),this.events.on("data-snapshot-load",this.onDataReceived.bind(this)),this.events.on("init-edit-mode",this.onInitEditMode.bind(this))}return j(h,a),h.$inject=["$scope","$injector","$location","linkSrv"],h.prototype.onInitEditMode=function(){this.fontSizes=["20%","30%","50%","70%","80%","100%","110%","120%","150%","170%","200%"],this.addEditorTab("Options","public/app/plugins/panel/singlestat/editor.html",2),this.addEditorTab("Value Mappings","public/app/plugins/panel/singlestat/mappings.html",3),this.unitFormats=e["default"].getUnitFormats()},h.prototype.setUnitFormat=function(a){this.panel.format=a.value,this.render()},h.prototype.onDataError=function(a){this.onDataReceived([])},h.prototype.onDataReceived=function(a){this.series=a.map(this.seriesHandler.bind(this));var b={};this.setValues(b),this.data=b,this.render()},h.prototype.seriesHandler=function(a){var b=new g["default"]({datapoints:a.datapoints,alias:a.target});return b.flotpairs=b.getFlotPairs(this.panel.nullPointMode),b},h.prototype.setColoring=function(a){a.background?(this.panel.colorValue=!1,this.panel.colors=["rgba(71, 212, 59, 0.4)","rgba(245, 150, 40, 0.73)","rgba(225, 40, 40, 0.59)"]):(this.panel.colorBackground=!1,this.panel.colors=["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"]),this.render()},h.prototype.invertColorOrder=function(){var a=this.panel.colors[0];this.panel.colors[0]=this.panel.colors[2],this.panel.colors[2]=a,this.render()},h.prototype.getDecimalsForValue=function(a){if(c["default"].isNumber(this.panel.decimals))return{decimals:this.panel.decimals,scaledDecimals:null};var b,d=a/2,e=-Math.floor(Math.log(d)/Math.LN10),f=Math.pow(10,-e),g=d/f;g<1.5?b=1:g<3?(b=2,g>2.25&&(b=2.5,++e)):b=g<7.5?5:10,b*=f,Math.floor(a)===a&&(e=0);var h={};return h.decimals=Math.max(0,e),h.scaledDecimals=h.decimals-Math.floor(Math.log(b)/Math.LN10)+2,h},h.prototype.setValues=function(a){if(a.flotpairs=[],this.series.length>1){var b=new Error;throw b.message="Multiple Series Error",b.data="Metric query returns "+this.series.length+" series. Single Stat Panel expects a single series.\n\nResponse:\n"+JSON.stringify(this.series),b}if(this.series&&this.series.length>0){var d=c["default"].last(this.series[0].datapoints),f=c["default"].isArray(d)?d[0]:null;if(c["default"].isString(f))a.value=0,a.valueFormated=f,a.valueRounded=0;else{a.value=this.series[0].stats[this.panel.valueName],a.flotpairs=this.series[0].flotpairs;var g=this.getDecimalsForValue(a.value),h=e["default"].valueFormats[this.panel.format];a.valueFormated=h(a.value,g.decimals,g.scaledDecimals),a.valueRounded=e["default"].roundValue(a.value,g.decimals)}}if(1===this.panel.mappingType)for(var i=0;i<this.panel.valueMaps.length;i++){var j=this.panel.valueMaps[i];if("null"!==j.value){var k=parseFloat(j.value);if(k===a.valueRounded)return void(a.valueFormated=j.text)}else if(null===a.value||void 0===a.value)return void(a.valueFormated=j.text)}else if(2===this.panel.mappingType)for(var i=0;i<this.panel.rangeMaps.length;i++){var j=this.panel.rangeMaps[i];if("null"!==j.from||"null"!==j.to){var l=parseFloat(j.from),m=parseFloat(j.to);if(m>=a.valueRounded&&l<=a.valueRounded)return void(a.valueFormated=j.text)}else if(null===a.value||void 0===a.value)return void(a.valueFormated=j.text)}null!==a.value&&void 0!==a.value||(a.valueFormated="no value")},h.prototype.removeValueMap=function(a){var b=c["default"].indexOf(this.panel.valueMaps,a);this.panel.valueMaps.splice(b,1),this.render()},h.prototype.addValueMap=function(){this.panel.valueMaps.push({value:"",op:"=",text:""})},h.prototype.removeRangeMap=function(a){var b=c["default"].indexOf(this.panel.rangeMaps,a);this.panel.rangeMaps.splice(b,1),this.render()},h.prototype.addRangeMap=function(){this.panel.rangeMaps.push({from:"",to:"",text:""})},h.prototype.link=function(a,c,e,g){function h(){c.css("height",g.height+"px")}function i(a,c){if(!v.colorValue)return c;var d=b(q,a);return d?'<span style="color:'+d+'">'+c+"</span>":c}function j(a,b,c){return c=w.replace(c),'<span class="'+a+'" style="font-size:'+b+'">'+c+"</span>"}function k(){var a='<div class="singlestat-panel-value-container">';v.prefix&&(a+=j("singlestat-panel-prefix",v.prefixFontSize,v.prefix));var b=i(q.value,q.valueFormated);return a+=j("singlestat-panel-value",v.valueFontSize,b),v.postfix&&(a+=j("singlestat-panel-postfix",v.postfixFontSize,v.postfix)),a+="</div>"}function l(){var a=v.prefix?v.prefix:"";return a+=q.valueFormated,a+=v.postfix?v.postfix:""}function m(){var a=c.width(),e=c.height();if(g.invalidGaugeRange=!1,v.gauge.minValue>v.gauge.maxValue)return void(g.invalidGaugeRange=!0);var h=d["default"]("<div></div>"),i={top:"10px",margin:"auto",position:"relative",height:.9*e+"px",width:a+"px"};h.css(i);for(var j=[],k=0;k<q.thresholds.length;k++)j.push({value:q.thresholds[k],color:q.colorMap[k]});j.push({value:v.gauge.maxValue,color:q.colorMap[q.colorMap.length-1]});var m=f["default"].bootData.user.lightTheme?"rgb(230,230,230)":"rgb(38,38,38)",n=parseInt(v.valueFontSize)/100,o=Math.min(a,e),p=Math.min(o/5,100)*n,r=Math.min(o/6,60),s=r/5,t={series:{gauges:{gauge:{min:v.gauge.minValue,max:v.gauge.maxValue,background:{color:m},border:{color:null},shadow:{show:!1},width:r},frame:{show:!1},label:{show:!1},layout:{margin:0,thresholdWidth:0},cell:{border:{width:0}},threshold:{values:j,label:{show:v.gauge.thresholdLabels,margin:8,font:{size:18}},show:v.gauge.thresholdMarkers,width:s},value:{color:v.colorValue?b(q,q.valueRounded):null,formatter:function(){return l()},font:{size:p,family:'Helvetica Neue", Helvetica, Arial, sans-serif'}},show:!0}}};c.append(h);var u={data:[[0,q.valueRounded]]};d["default"].plot(h,[u],t)}function n(){var a=c.width()+20;if(a<30)return void setTimeout(n,30);var b=g.height,e=d["default"]("<div></div>"),f={};if(f.position="absolute",v.sparkline.full){f.bottom="5px",f.left="-5px",f.width=a-10+"px";var h=b<=100?5:15*Math.round(b/100)+5;f.height=b-h+"px"}else f.bottom="0px",f.left="-5px",f.width=a-10+"px",f.height=Math.floor(.25*b)+"px";e.css(f);var i={legend:{show:!1},series:{lines:{show:!0,fill:1,lineWidth:1,fillColor:v.sparkline.fillColor}},yaxes:{show:!1},xaxis:{show:!1,mode:"time",min:g.range.from.valueOf(),max:g.range.to.valueOf()},grid:{hoverable:!1,show:!1}};c.append(e);var j={data:q.flotpairs,color:v.sparkline.lineColor};d["default"].plot(e,[j],i)}function o(){if(g.data){q=g.data,q.thresholds=v.thresholds.split(",").map(function(a){return Number(a.trim())}),q.colorMap=v.colors,h();var d=v.gauge.show?"":k();if(v.colorBackground&&!isNaN(q.valueRounded)){var e=b(q,q.valueRounded);e&&(x.css("background-color",e),a.fullscreen?c.css("background-color",e):c.css("background-color",""))}else x.css("background-color",""),c.css("background-color","");c.html(d),v.sparkline.show&&n(),v.gauge.show&&m(),c.toggleClass("pointer",v.links.length>0),r=v.links.length>0?t.getPanelLinkAnchorInfo(v.links[0],v.scopedVars):null}}function p(){var a=d["default"]('<div id="tooltip" class="">hello</div>"');c.mouseleave(function(){0!==v.links.length&&a.detach()}),c.click(function(b){if(r&&!(d["default"](b).parents(".panel-header").length>0)){if("_blank"===r.target){var c=window.open(r.href,"_blank");return void c.location}0===r.href.indexOf("http")?window.location.href=r.href:u(function(){s.url(r.href)}),a.detach()}}),c.mousemove(function(b){r&&(a.text("click to go to: "+r.title),a.place_tt(b.pageX+20,b.pageY-15))})}var q,r,s=this.$location,t=this.linkSrv,u=this.$timeout,v=g.panel,w=this.templateSrv,x=c.find(".panel-container");c=c.find(".singlestat-panel"),p(),this.events.on("render",function(){o(),g.renderingCompleted()})},h.templateUrl="module.html",h}(h.MetricsPanelCtrl),a("SingleStatCtrl",i),a("PanelCtrl",i),a("getColorForValue",b)}}}),System.register("app/core/utils/file_export.js",["lodash"],function(a){function b(a){var b="sep=;\nSeries;Time;Value\n";f["default"].each(a,function(a){f["default"].each(a.datapoints,function(c){b+=a.alias+";"+new Date(c[1]).toISOString()+";"+c[0]+"\n"})}),e(b,"grafana_data_export.csv")}function c(a){var b="sep=;\nTime;";f["default"].each(a,function(a){b+=a.alias+";"}),b=b.substring(0,b.length-1),b+="\n";var c=[[]],d=1;f["default"].each(a,function(a){var b=0;c.push([]),f["default"].each(a.datapoints,function(a){c[0][b]=new Date(a[1]).toISOString(),c[d][b]=a[0],b++}),d++});for(var g=0;g<c[0].length;g++){b+=c[0][g]+";";for(var h=1;h<c.length;h++)b+=c[h][g]+";";b=b.substring(0,b.length-1),b+="\n"}e(b,"grafana_data_export.csv")}function d(a){var b="";f["default"].each(a.columns,function(a){b+=a.text+";"}),b+="\n",f["default"].each(a.rows,function(a){f["default"].each(a,function(a){b+=a+";"}),b+="\n"}),e(b,"grafana_data_export.csv")}function e(a,b){var c=new Blob([a],{type:"text/csv;charset=utf-8"});window.saveAs(c,b)}var f;return a("exportSeriesListToCsv",b),a("exportSeriesListToCsvColumns",c),a("exportTableDataToCsv",d),a("saveSaveBlob",e),{setters:[function(a){f=a}],execute:function(){}}}),System.register("app/core/utils/flatten.js",[],function(a){function b(a,b){function c(a,h){Object.keys(a).forEach(function(i){var j=a[i],k=b.safe&&Array.isArray(j),l=Object.prototype.toString.call(j),m="[object Object]"===l,n=h?h+d+i:i;return b.maxDepth||(e=f+1),!k&&m&&Object.keys(j).length&&f<e?(++f,c(j,n)):void(g[n]=j)})}b=b||{};var d=b.delimiter||".",e=b.maxDepth||3,f=1,g={};return c(a,null),g}return a("default",b),{setters:[],execute:function(){}}}),System.register("app/core/time_series2.js",["app/core/utils/kbn","lodash"],function(a){function b(a,b){if(!a)return!1;if("/"===a[0]){var c=d["default"].stringToJsRegex(a);return null!=b.match(c)}return a===b}function c(a){return 0===a?.001:a/10}var d,e,f;return{setters:[function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a){this.datapoints=a.datapoints,this.label=a.alias,this.id=a.alias,this.alias=a.alias,this.color=a.color,this.valueFormater=d["default"].valueFormats.none,this.stats={},this.legend=!0,this.unit=a.unit}return a.prototype.applySeriesOverrides=function(a){this.lines={},this.points={},this.bars={},this.yaxis=1,this.zindex=0,this.nullPointMode=null,delete this.stack;for(var d=0;d<a.length;d++){var e=a[d];b(e.alias,this.alias)&&(void 0!==e.lines&&(this.lines.show=e.lines),void 0!==e.points&&(this.points.show=e.points),void 0!==e.bars&&(this.bars.show=e.bars),void 0!==e.fill&&(this.lines.fill=c(e.fill)),void 0!==e.stack&&(this.stack=e.stack),void 0!==e.linewidth&&(this.lines.lineWidth=e.linewidth),void 0!==e.nullPointMode&&(this.nullPointMode=e.nullPointMode),void 0!==e.pointradius&&(this.points.radius=e.pointradius),void 0!==e.steppedLine&&(this.lines.steps=e.steppedLine),void 0!==e.zindex&&(this.zindex=e.zindex),void 0!==e.fillBelowTo&&(this.fillBelowTo=e.fillBelowTo),void 0!==e.color&&(this.color=e.color),void 0!==e.transform&&(this.transform=e.transform),void 0!==e.legend&&(this.legend=e.legend),void 0!==e.yaxis&&(this.yaxis=e.yaxis))}},a.prototype.getFlotPairs=function(a){var b=[];this.stats.total=0,this.stats.max=-Number.MAX_VALUE,this.stats.min=Number.MAX_VALUE,this.stats.avg=null,this.stats.current=null,this.allIsNull=!0,this.allIsZero=!0;for(var c,d,f="connected"===a,g="null as zero"===a,h=0,i=0;i<this.datapoints.length;i++){if(d=this.datapoints[i][0],c=this.datapoints[i][1],null===d){if(f)continue;g&&(d=0)}null!==d&&(e["default"].isNumber(d)&&(this.stats.total+=d,this.allIsNull=!1,h++),d>this.stats.max&&(this.stats.max=d),d<this.stats.min&&(this.stats.min=d)),0!==d&&(this.allIsZero=!1),b.push([c,d])}return this.datapoints.length>=2&&(this.stats.timeStep=this.datapoints[1][1]-this.datapoints[0][1]),this.stats.max===-Number.MAX_VALUE&&(this.stats.max=null),this.stats.min===Number.MAX_VALUE&&(this.stats.min=null),b.length&&(this.stats.avg=this.stats.total/h,this.stats.current=b[b.length-1][1],null===this.stats.current&&b.length>1&&(this.stats.current=b[b.length-2][1])),this.stats.count=b.length,b},a.prototype.updateLegendValues=function(a,b,c){this.valueFormater=a,this.decimals=b,this.scaledDecimals=c},a.prototype.formatValue=function(a){return this.valueFormater(a,this.decimals,this.scaledDecimals)},a.prototype.isMsResolutionNeeded=function(){for(var a=0;a<this.datapoints.length;a++)if(null!==this.datapoints[a][1]){var b=this.datapoints[a][1].toString();if(13===b.length&&b%1e3!==0)return!0}return!1},a.prototype.hideFromLegend=function(a){return!(!a.hideEmpty||!this.allIsNull)||(!this.legend||!(!a.hideZero||!this.allIsZero))},a}(),a("default",f)}}}),System.register("app/core/table_model.js",[],function(a){var b;return{setters:[],execute:function(){b=function(){function a(){this.columns=[],this.rows=[],this.type="table"}return a.prototype.sort=function(a){null===a.col||this.columns.length<=a.col||(this.rows.sort(function(b,c){return b=b[a.col],c=c[a.col],b<c?-1:b>c?1:0}),this.columns[a.col].sort=!0,a.desc?(this.rows.reverse(),this.columns[a.col].desc=!0):this.columns[a.col].desc=!1)},a}(),a("default",b)}}}),System.register("app/plugins/panel/table/transformers.js",["lodash","../../../core/utils/flatten","../../../core/time_series2","../../../core/table_model"],function(a){function b(a,b){var c=new f["default"];if(!a||0===a.length)return c;var d=g[b.transform];if(!d)throw{message:"Transformer "+b.transformer+" not found"};return d.transform(a,b,c),c}var c,d,e,f,g;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){g={},g.timeseries_to_rows={description:"Time series to rows",getColumns:function(){return[]},transform:function(a,b,c){c.columns=[{text:"Time",type:"date"},{text:"Metric"},{text:"Value"}];for(var d=0;d<a.length;d++)for(var e=a[d],f=0;f<e.datapoints.length;f++){var g=e.datapoints[f];c.rows.push([g[1],e.target,g[0]])}}},g.timeseries_to_columns={description:"Time series to columns",getColumns:function(){return[]},transform:function(a,b,c){c.columns.push({text:"Time",type:"date"});for(var d={},e=0;e<a.length;e++){var f=a[e];c.columns.push({text:f.target});for(var g=0;g<f.datapoints.length;g++){var h=f.datapoints[g],i=h[1].toString();d[i]?d[i][e]=h[0]:(d[i]={time:h[1]},d[i][e]=h[0])}}for(var j in d){for(var k=d[j],l=[k.time],e=0;e<a.length;e++){var m=k[e];l.push(m)}c.rows.push(l)}}},g.timeseries_aggregations={description:"Time series aggregations",getColumns:function(){return[{text:"Avg",value:"avg"},{text:"Min",value:"min"},{text:"Max",value:"max"},{text:"Total",value:"total"},{text:"Current",value:"current"},{text:"Count",value:"count"}]},transform:function(a,b,c){var d,f;for(c.columns.push({text:"Metric"}),0===b.columns.length&&b.columns.push({text:"Avg",value:"avg"}),d=0;d<b.columns.length;d++)c.columns.push({text:b.columns[d].text});for(d=0;d<a.length;d++){var g=new e["default"]({datapoints:a[d].datapoints,alias:a[d].target});g.getFlotPairs("connected");var h=[g.alias];for(f=0;f<b.columns.length;f++)h.push(g.stats[b.columns[f].value]);c.rows.push(h)}}},g.annotations={description:"Annotations",getColumns:function(){return[]},transform:function(a,b,c){if(c.columns.push({text:"Time",type:"date"}),c.columns.push({text:"Title"}),c.columns.push({text:"Text"}),c.columns.push({text:"Tags"}),a&&0!==a.length)for(var d=0;d<a.length;d++){var e=a[d];c.rows.push([e.min,e.title,e.text,e.tags])}}},g.table={description:"Table",getColumns:function(a){if(!a||0===a.length)return[]},transform:function(a,b,c){if(a&&0!==a.length){if("table"!==a[0].type)throw{message:"Query result is not in table format, try using another transform."};c.columns=a[0].columns,c.rows=a[0].rows}}},g.json={description:"JSON Data",getColumns:function(a){if(!a||0===a.length)return[];for(var b={},e=0;e<a.length;e++){var f=a[e];if("docs"===f.type)for(var g=Math.min(f.datapoints.length,100),h=0;h<g;h++){var i=f.datapoints[h],j=d["default"](i,null);for(var k in j)b[k]=!0}}return c["default"].map(b,function(a,b){return{text:b,value:b}})},transform:function(a,b,e){var f,g,h;for(f=0;f<b.columns.length;f++)e.columns.push({text:b.columns[f].text});for(0===e.columns.length&&e.columns.push({text:"JSON"}),f=0;f<a.length;f++){var i=a[f];for(g=0;g<i.datapoints.length;g++){var j=i.datapoints[g],k=[];if(c["default"].isObject(j)&&b.columns.length>0){var l=d["default"](j,null);for(h=0;h<b.columns.length;h++)k.push(l[b.columns[h].value])}else k.push(JSON.stringify(j));e.rows.push(k)}}}},a("transformers",g),a("transformDataToTable",b)}}}),System.register("app/plugins/panel/table/editor.js",["lodash","angular","./transformers","app/core/utils/kbn"],function(a){function b(a,b){"use strict";return{restrict:"E",scope:!0,templateUrl:"public/app/plugins/panel/table/editor.html",controller:g}}b.$inject=["$q","uiSegmentSrv"];var c,d,e,f,g;return a("tablePanelEditor",b),{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){g=function(){function a(a,b,d){var g=this;this.$q=b,this.uiSegmentSrv=d,a.editor=this,this.panelCtrl=a.ctrl,this.panel=this.panelCtrl.panel,this.transformers=e.transformers,this.unitFormats=f["default"].getUnitFormats(),this.colorModes=[{text:"Disabled",value:null},{text:"Cell",value:"cell"},{text:"Value",value:"value"},{text:"Row",value:"row"}],this.columnTypes=[{text:"Number",value:"number"},{text:"String",value:"string"},{text:"Date",value:"date"}],this.fontSizes=["80%","90%","100%","110%","120%","130%","150%","160%","180%","200%","220%","250%"],this.dateFormats=[{text:"YYYY-MM-DD HH:mm:ss",value:"YYYY-MM-DD HH:mm:ss"},{text:"MM/DD/YY h:mm:ss a",value:"MM/DD/YY h:mm:ss a"},{text:"MMMM D, YYYY LT",value:"MMMM D, YYYY LT"}],this.addColumnSegment=d.newPlusButton(),this.getColumnNames=function(){return g.panelCtrl.table?c["default"].map(g.panelCtrl.table.columns,function(a){return a.text}):[]}}return a.$inject=["$scope","$q","uiSegmentSrv"],a.prototype.getColumnOptions=function(){var a=this;if(!this.panelCtrl.dataRaw)return this.$q.when([]);var b=this.transformers[this.panel.transform].getColumns(this.panelCtrl.dataRaw),d=c["default"].map(b,function(b){return a.uiSegmentSrv.newSegment({value:b.text})});return this.$q.when(d)},a.prototype.addColumn=function(){var a=e.transformers[this.panel.transform].getColumns(this.panelCtrl.dataRaw),b=c["default"].findWhere(a,{text:this.addColumnSegment.value});b&&(this.panel.columns.push(b),this.render());var d=this.uiSegmentSrv.newPlusButton();this.addColumnSegment.html=d.html,this.addColumnSegment.value=d.value},a.prototype.transformChanged=function(){this.panel.columns=[],this.render()},a.prototype.render=function(){this.panelCtrl.render()},a.prototype.removeColumn=function(a){this.panel.columns=c["default"].without(this.panel.columns,a),this.panelCtrl.render()},a.prototype.setUnitFormat=function(a,b){a.unit=b.value,this.panelCtrl.render()},a.prototype.addColumnStyle=function(){var a={unit:"short",type:"number",decimals:2,colors:["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],colorMode:null,pattern:"/.*/",dateFormat:"YYYY-MM-DD HH:mm:ss",thresholds:[]};this.panel.styles.push(d["default"].copy(a))},a.prototype.removeColumnStyle=function(a){this.panel.styles=c["default"].without(this.panel.styles,a)},a.prototype.invertColorOrder=function(a){var b=this.panel.styles[a].colors,c=b[0];b[0]=b[2],b[2]=c,this.panelCtrl.render()},a}(),a("TablePanelEditorCtrl",g)}}}),System.register("app/plugins/panel/table/renderer.js",["lodash","moment","app/core/utils/kbn"],function(a){var b,c,d,e;return{setters:[function(a){b=a},function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(a,b,c,d){this.panel=a,this.table=b,this.isUtc=c,this.sanitize=d,this.formaters=[],this.colorState={}}return a.prototype.getColorForValue=function(a,c){if(!c.thresholds)return null;for(var d=c.thresholds.length;d>0;d--)if(a>=c.thresholds[d-1])return c.colors[d];return b["default"].first(c.colors)},a.prototype.defaultCellFormater=function(a,c){return null===a||void 0===a||void 0===a?"":(b["default"].isArray(a)&&(a=a.join(", ")),c&&c.sanitize?this.sanitize(a):b["default"].escape(a))},a.prototype.createColumnFormater=function(a,e){var f=this;if(!a)return this.defaultCellFormater;if("date"===a.type)return function(d){b["default"].isArray(d)&&(d=d[0]);var e=c["default"](d);return f.isUtc&&(e=e.utc()),e.format(a.dateFormat)};if("number"===a.type){var g=d["default"].valueFormats[e.unit||a.unit];return function(c){return null===c||void 0===c?"-":b["default"].isString(c)?f.defaultCellFormater(c,a):(a.colorMode&&(f.colorState[a.colorMode]=f.getColorForValue(c,a)),g(c,a.decimals,null))}}return function(b){return f.defaultCellFormater(b,a)}},a.prototype.formatColumnValue=function(a,b){if(this.formaters[a])return this.formaters[a](b);for(var c=0;c<this.panel.styles.length;c++){var e=this.panel.styles[c],f=this.table.columns[a],g=d["default"].stringToJsRegex(e.pattern);if(f.text.match(g))return this.formaters[a]=this.createColumnFormater(e,f),this.formaters[a](b)}return this.formaters[a]=this.defaultCellFormater,this.formaters[a](b)},a.prototype.renderCell=function(a,b,c){void 0===c&&(c=!1),b=this.formatColumnValue(a,b);var d="";this.colorState.cell?(d=' style="background-color:'+this.colorState.cell+';color: white"',this.colorState.cell=null):this.colorState.value&&(d=' style="color:'+this.colorState.value+'"',this.colorState.value=null);var e="";return c&&(e='<div class="table-panel-width-hack">'+this.table.columns[a].text+"</div>"),"<td"+d+">"+b+e+"</td>"},a.prototype.render=function(a){for(var b=this.panel.pageSize||100,c=a*b,d=Math.min(c+b,this.table.rows.length),e="",f=c;f<d;f++){for(var g=this.table.rows[f],h="",i="",j=0;j<this.table.columns.length;j++)h+=this.renderCell(j,g[j],f===c);this.colorState.row&&(i=' style="background-color:'+this.colorState.row+';color: white"',this.colorState.row=null),e+="<tr "+i+">"+h+"</tr>"}return e},a}(),a("TableRenderer",e)}}}),System.register("app/plugins/panel/table/module.js",["lodash","jquery","app/core/utils/file_export","app/plugins/sdk","./transformers","./editor","./renderer"],function(a){var b,c,d,e,f,g,h,i,j=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};return{setters:[function(a){b=a},function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a}],execute:function(){i=function(a){function e(c,d,e,f){a.call(this,c,d),this.annotationsSrv=e,this.$sanitize=f,this.panelDefaults={targets:[{}],transform:"timeseries_to_columns",pageSize:null,showHeader:!0,styles:[{type:"date",pattern:"Time",dateFormat:"YYYY-MM-DD HH:mm:ss"},{unit:"short",type:"number",decimals:2,colors:["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],colorMode:null,pattern:"/.*/",thresholds:[]}],columns:[],scroll:!0,fontSize:"100%",sort:{col:0,desc:!0}},this.pageIndex=0,void 0===this.panel.styles&&(this.panel.styles=this.panel.columns,this.panel.columns=this.panel.fields,delete this.panel.columns,delete this.panel.fields),b["default"].defaults(this.panel,this.panelDefaults),this.events.on("data-received",this.onDataReceived.bind(this)),this.events.on("data-error",this.onDataError.bind(this)),this.events.on("data-snapshot-load",this.onDataReceived.bind(this)),this.events.on("init-edit-mode",this.onInitEditMode.bind(this)),this.events.on("init-panel-actions",this.onInitPanelActions.bind(this))}return j(e,a),e.$inject=["$scope","$injector","annotationsSrv","$sanitize"],e.prototype.onInitEditMode=function(){this.addEditorTab("Options",g.tablePanelEditor,2)},e.prototype.onInitPanelActions=function(a){a.push({text:"Export CSV",click:"ctrl.exportCsv()"})},e.prototype.issueQueries=function(b){return this.pageIndex=0,"annotations"===this.panel.transform?(this.setTimeQueryStart(),this.annotationsSrv.getAnnotations(this.dashboard).then(function(a){return{data:a}})):a.prototype.issueQueries.call(this,b)},e.prototype.onDataError=function(a){this.dataRaw=[],this.render()},e.prototype.onDataReceived=function(a){this.dataRaw=a,this.pageIndex=0,this.dataRaw&&this.dataRaw.length&&("table"===this.dataRaw[0].type?this.panel.transform="table":"docs"===this.dataRaw[0].type?this.panel.transform="json":"table"!==this.panel.transform&&"json"!==this.panel.transform||(this.panel.transform="timeseries_to_rows")),this.render()},e.prototype.render=function(){return this.table=f.transformDataToTable(this.dataRaw,this.panel),this.table.sort(this.panel.sort),a.prototype.render.call(this,this.table)},e.prototype.toggleColumnSort=function(a,b){this.table.columns[this.panel.sort.col]&&(this.table.columns[this.panel.sort.col].sort=!1),this.panel.sort.col===b?this.panel.sort.desc?this.panel.sort.desc=!1:this.panel.sort.col=null:(this.panel.sort.col=b,this.panel.sort.desc=!0),this.render()},e.prototype.exportCsv=function(){d.exportTableDataToCsv(this.table)},e.prototype.link=function(a,b,d,e){function f(){var a=e.height;return n>1&&(a-=26),a-31+"px"}function g(a){var b=new h.TableRenderer(m,l,e.dashboard.isTimezoneUtc(),e.$sanitize);a.empty(),a.html(b.render(e.pageIndex))}function i(a){var b=c["default"](a.currentTarget);e.pageIndex=parseInt(b.text(),10)-1,k()}function j(a){a.empty();var b=m.pageSize||100;if(n=Math.ceil(l.rows.length/b),1!==n){for(var d=Math.max(e.pageIndex-3,0),f=Math.min(n,d+9),g=c["default"]("<ul></ul>"),h=d;h<f;h++){var i=h===e.pageIndex?"active":"",j=c["default"]('<li><a class="table-panel-page-link pointer '+i+'">'+(h+1)+"</a></li>");g.append(j)}a.append(g)}}function k(){var a=b.parents(".panel"),c=b.find(".table-panel-scroll"),d=b.find("tbody"),e=b.find(".table-panel-footer");b.css({"font-size":m.fontSize}),a.addClass("table-panel-wrapper"),g(d),j(e),c.css({"max-height":m.scroll?f():""})}var l,m=e.panel,n=0;b.on("click",".table-panel-page-link",i),a.$on("$destroy",function(){b.off("click",".table-panel-page-link")}),e.events.on("render",function(a){l=a||l,l&&k(),e.renderingCompleted()})},e.templateUrl="module.html",e}(e.MetricsPanelCtrl),a("TablePanelCtrl",i),a("PanelCtrl",i)}}}),function(){var a=System.amdDefine;a("app/core/directives/annotation_tooltip.js",["jquery","lodash","../core_module"],function(a,b,c){"use strict";c["default"].directive("annotationTooltip",["$sanitize","dashboardSrv","$compile",function(c,d,e){function f(a){try{return c(a)}catch(d){return console.log("Could not sanitize annotation string, html escaping instead"),b.escape(a)}}return{link:function(c,g){var h=c.event,i=f(h.title),j=d.getCurrent(),k="<i>"+j.formatDate(h.min)+"</i>",l='<div class="graph-annotation">';if(l+='<div class="graph-annotation-title">'+i+"</div>",h.text){var m=f(h.text);l+=m.replace(/\n/g,"<br>")+"<br>"}var n=h.tags;b.isString(h.tags)&&(n=h.tags.split(","),1===n.length&&(n=h.tags.split(" "))),n&&n.length&&(c.tags=n,l+='<span class="label label-tag small" ng-repeat="tag in tags" tag-color-from-name="tag">{{tag}}</span><br/>'),l+='<div class="graph-annotation-time">'+k+"</div>",l+="</div>";var o=a(l);o.appendTo(g),e(g.contents())(c)}}}])})}(),function(){var a=System.amdDefine;a("app/core/directives/dash_class.js",["lodash","jquery","../core_module"],function(a,b,c){"use strict";c["default"].directive("dashClass",function(){return{link:function(b,c){var d;b.onAppEvent("panel-fullscreen-enter",function(){c.toggleClass("panel-in-fullscreen",!0)}),b.onAppEvent("panel-fullscreen-exit",function(){c.toggleClass("panel-in-fullscreen",!1)}),b.$watch("dashboard.hideControls",function(){if(b.dashboard){var a=b.dashboard.hideControls||b.playlist_active;d!==a&&(c.toggleClass("hide-controls",a),d=a)}}),b.$watch("playlistSrv",function(b){c.toggleClass("playlist-active",a.isObject(b))})}}})})}(),function(){var a=System.amdDefine;a("app/core/directives/confirm_click.js",["../core_module"],function(a){"use strict";a["default"].directive("confirmClick",function(){return{restrict:"A",link:function(a,b,c){b.bind("click",function(){var b=c.confirmation||"Are you sure you want to do that?";if(window.confirm(b)){var d=c.confirmClick;d&&a.$apply(a.$eval(d))}})}}})})}(),function(){var a=System.amdDefine;a("app/core/directives/dash_edit_link.js",["jquery","../core_module"],function(a,b){"use strict";var c={settings:{src:"public/app/features/dashboard/partials/settings.html"},annotations:{src:"public/app/features/annotations/partials/editor.html"},templating:{src:"public/app/features/templating/partials/editor.html"},"import":{src:"<dash-import></dash-import>"}};b["default"].directive("dashEditorView",["$compile","$location","$rootScope",function(b,d,e){return{restrict:"A",link:function(f,g){function h(){j&&(f.appEvent("dash-editor-hidden",k),j.dismiss())}function i(i,l,m){if(m&&(f.contextSrv.editview=c[m],l.src=f.contextSrv.editview.src),k===l.src)return void h();if(h(),k=l.src,j=l.scope?l.scope.$new():f.$new(),j.dismiss=function(){if(j.$destroy(),g.empty(),k=null,j=null,m){var a=d.search();m===a.editview&&(delete a.editview,d.search(a))}},"import"===m){var n=e.$new();return n.$on("$destroy",function(){j.dismiss()}),void e.appEvent("show-modal",{templateHtml:"<dash-import></dash-import>",scope:n,backdrop:"static"})}var o=l.src;o.indexOf(".html")>0&&(o=a('<div class="tabbed-view" ng-include="\''+o+"'\"></div>")),g.append(o),b(g.contents())(j)}var j,k;f.$watch("dashboardViewState.state.editview",function(a,b){a?i(null,{},a):b&&(f.contextSrv.editview=null,k===c[b]&&h())}),f.contextSrv.editview=null,f.$on("$destroy",h),f.onAppEvent("hide-dash-editor",h),f.onAppEvent("show-dash-editor",i)}}}])})}(),function(){var a=System.amdDefine;a("app/core/directives/dropdown_typeahead.js",["lodash","jquery","../core_module"],function(a,b,c){"use strict";c["default"].directive("dropdownTypeahead",["$compile",function(c){var d='<input type="text" class="gf-form-input input-medium tight-form-input" spellcheck="false" style="display:none"></input>',e='<a  class="gf-form-label tight-form-func dropdown-toggle" tabindex="1" gf-dropdown="menuItems" data-toggle="dropdown" data-placement="top"><i class="fa fa-plus"></i></a>';return{scope:{menuItems:"=dropdownTypeahead",dropdownTypeaheadOnSelect:"&dropdownTypeaheadOnSelect",model:"=ngModel"},link:function(f,g,h){var i=b(d),j=b(e);i.appendTo(g),j.appendTo(g),h.linkText&&j.html(h.linkText),h.ngModel&&f.$watch("model",function(b){a.each(f.menuItems,function(c){a.each(c.submenu,function(a){a.value===b&&j.html(a.text)})})});var k=a.reduce(f.menuItems,function(b,c,d){return c.submenu?a.each(c.submenu,function(a,e){a.click="menuItemSelected("+d+","+e+")",b.push(c.text+" "+a.text)}):(c.click="menuItemSelected("+d+")",b.push(c.text)),b},[]);f.menuItemSelected=function(a,b){
var c=f.menuItems[a],d={$item:c};c.submenu&&void 0!==b&&(d.$subItem=c.submenu[b]),f.dropdownTypeaheadOnSelect(d)},i.attr("data-provide","typeahead"),i.typeahead({source:k,minLength:1,items:10,updater:function(b){var c={};return a.each(f.menuItems,function(d){a.each(d.submenu,function(a){b===d.text+" "+a.text&&(c.$subItem=a,c.$item=d)})}),c.$item&&f.$apply(function(){f.dropdownTypeaheadOnSelect(c)}),i.trigger("blur"),""}}),j.click(function(){j.hide(),i.show(),i.focus()}),i.keyup(function(){g.toggleClass("open",""===i.val())}),i.blur(function(){i.hide(),i.val(""),j.show(),j.focus(),setTimeout(function(){g.removeClass("open")},200)}),c(g.contents())(f)}}}]),c["default"].directive("dropdownTypeahead2",["$compile",function(c){var d='<input type="text" class="gf-form-input" spellcheck="false" style="display:none"></input>',e='<a class="gf-form-input dropdown-toggle" tabindex="1" gf-dropdown="menuItems" data-toggle="dropdown" data-placement="top"><i class="fa fa-plus"></i></a>';return{scope:{menuItems:"=dropdownTypeahead2",dropdownTypeaheadOnSelect:"&dropdownTypeaheadOnSelect",model:"=ngModel"},link:function(f,g,h){var i=b(d),j=b(e);i.appendTo(g),j.appendTo(g),h.linkText&&j.html(h.linkText),h.ngModel&&f.$watch("model",function(b){a.each(f.menuItems,function(c){a.each(c.submenu,function(a){a.value===b&&j.html(a.text)})})});var k=a.reduce(f.menuItems,function(b,c,d){return c.submenu?a.each(c.submenu,function(a,e){a.click="menuItemSelected("+d+","+e+")",b.push(c.text+" "+a.text)}):(c.click="menuItemSelected("+d+")",b.push(c.text)),b},[]);f.menuItemSelected=function(a,b){var c=f.menuItems[a],d={$item:c};c.submenu&&void 0!==b&&(d.$subItem=c.submenu[b]),f.dropdownTypeaheadOnSelect(d)},i.attr("data-provide","typeahead"),i.typeahead({source:k,minLength:1,items:10,updater:function(b){var c={};return a.each(f.menuItems,function(d){a.each(d.submenu,function(a){b===d.text+" "+a.text&&(c.$subItem=a,c.$item=d)})}),c.$item&&f.$apply(function(){f.dropdownTypeaheadOnSelect(c)}),i.trigger("blur"),""}}),j.click(function(){j.hide(),i.show(),i.focus()}),i.keyup(function(){g.toggleClass("open",""===i.val())}),i.blur(function(){i.hide(),i.val(""),j.show(),j.focus(),setTimeout(function(){g.removeClass("open")},200)}),c(g.contents())(f)}}}])})}(),function(){var a=System.amdDefine;a("app/core/directives/grafana_version_check.js",["../core_module"],function(a){"use strict";a["default"].directive("grafanaVersionCheck",["$http","contextSrv",function(a,b){return{restrict:"A",link:function(c,d){"master"!==b.version&&a({method:"GET",url:"https://grafanarel.s3.amazonaws.com/latest.json"}).then(function(a){a.data&&a.data.version&&b.version!==a.data.version&&d.append('<i class="icon-info-sign"></i> <a href="http://grafana.org/download" target="_blank"> New version available: '+a.data.version+"</a>")})}}}])})}(),function(){var a=System.amdDefine;a("app/core/directives/metric_segment.js",["lodash","jquery","../core_module"],function(a,b,c){"use strict";c["default"].directive("metricSegment",["$compile","$sce",function(c,d){var e='<input type="text" data-provide="typeahead"  class="gf-form-input input-medium" spellcheck="false" style="display:none"></input>',f='<a class="gf-form-label" ng-class="segment.cssClass" tabindex="1" give-focus="segment.focus" ng-bind-html="segment.html"></a>',g='<a class="gf-form-input gf-form-input--dropdown" ng-class="segment.cssClass" tabindex="1" give-focus="segment.focus" ng-bind-html="segment.html"></a>';return{scope:{segment:"=",getOptions:"&",onChange:"&"},link:function(h,i,j){var k=b(e),l=b("select"===j.styleMode?g:f),m=h.segment,n=null,o=null,p=!0;k.appendTo(i),l.appendTo(i),h.updateVariableValue=function(b){""!==b&&m.value!==b&&h.$apply(function(){var c=a.findWhere(h.altSegments,{value:b});c?(m.value=c.value,m.html=c.html,m.fake=!1,m.expandable=c.expandable):"false"!==m.custom&&(m.value=b,m.html=d.trustAsHtml(b),m.expandable=!0,m.fake=!1),h.onChange()})},h.switchToLink=function(a){p&&!a||(clearTimeout(o),o=null,p=!0,k.hide(),l.show(),h.updateVariableValue(k.val()))},h.inputBlur=function(){o=setTimeout(h.switchToLink,200)},h.source=function(b,c){return n?n:void h.$apply(function(){h.getOptions().then(function(b){h.altSegments=b,n=a.map(h.altSegments,function(a){return a.value}),"false"!==m.custom&&(m.fake||a.indexOf(n,m.value)!==-1||n.unshift(m.value)),c(n)})})},h.updater=function(a){return a===m.value?(clearTimeout(o),k.focus(),a):(k.val(a),h.switchToLink(!0),a)},h.matcher=function(a){var b=this.query;"/"===b[0]&&(b=b.substring(1)),"/"===b[b.length-1]&&(b=b.substring(0,b.length-1));try{return a.toLowerCase().match(b)}catch(c){return!1}},k.attr("data-provide","typeahead"),k.typeahead({source:h.source,minLength:0,items:1e4,updater:h.updater,matcher:h.matcher});var q=k.data("typeahead");q.lookup=function(){this.query=this.$element.val()||"";var a=this.source(this.query,b.proxy(this.process,this));return a?this.process(a):a},l.keydown(function(a){40!==a.keyCode&&13!==a.keyCode||l.click()}),l.click(function(){n=null,k.css("width",l.width()+16+"px"),l.hide(),k.show(),k.focus(),p=!1;var a=k.data("typeahead");a&&(k.val(""),a.lookup())}),k.blur(h.inputBlur),c(i.contents())(h)}}}]),c["default"].directive("metricSegmentModel",["uiSegmentSrv","$q",function(b,c){return{template:'<metric-segment segment="segment" get-options="getOptionsInternal()" on-change="onSegmentChange()"></metric-segment>',restrict:"E",scope:{property:"=",options:"=",getOptions:"&",onChange:"&"},link:{pre:function(d,e,f){d.valueToSegment=function(c){var e=a.findWhere(d.options,{value:c}),g={cssClass:f.cssClass,custom:f.custom,value:e?e.text:c};return b.newSegment(g)},d.getOptionsInternal=function(){if(d.options){var e=a.map(d.options,function(a){return b.newSegment({value:a.text})});return c.when(e)}return d.getOptions()},d.onSegmentChange=function(){if(d.options){var b=a.findWhere(d.options,{text:d.segment.value});b&&b.value!==d.property?d.property=b.value:"false"!==f.custom&&(d.property=d.segment.value)}else d.property=d.segment.value;d.$$postDigest(function(){d.$apply(function(){d.onChange()})})},d.segment=d.valueToSegment(d.property)}}}}])})}(),function(){var a=System.amdDefine;a("app/core/directives/misc.js",["angular","../core_module","app/core/utils/kbn"],function(a,b,c){"use strict";b["default"].directive("tip",["$compile",function(b){return{restrict:"E",link:function(d,e,f){var g='<i class="grafana-tip fa fa-'+(f.icon||"question-circle")+'" bs-tooltip="\''+c.addslashes(e.text())+"'\"></i>";g=g.replace(/{/g,"\\{").replace(/}/g,"\\}"),e.replaceWith(b(a.element(g))(d))}}}]),b["default"].directive("watchChange",function(){return{scope:{onchange:"&watchChange"},link:function(a,b){b.on("input",function(){a.$apply(function(){a.onchange({inputValue:b.val()})})})}}}),b["default"].directive("editorOptBool",["$compile",function(b){return{restrict:"E",link:function(c,d,e){var f=e.change?' ng-change="'+e.change+'"':"",g=e.tip?" <tip>"+e.tip+"</tip>":"",h=e.showIf?' ng-show="'+e.showIf+'" ':"",i='<div class="editor-option gf-form-checkbox text-center"'+h+'> <label for="'+e.model+'" class="small">'+e.text+g+'</label><input class="cr1" id="'+e.model+'" type="checkbox"        ng-model="'+e.model+'"'+f+'       ng-checked="'+e.model+'"></input> <label for="'+e.model+'" class="cr1"></label>';d.replaceWith(b(a.element(i))(c))}}}]),b["default"].directive("editorCheckbox",["$compile","$interpolate",function(b,c){return{restrict:"E",link:function(d,e,f){var g=c(f.text)(d),h=c(f.model)(d),i=f.change?' ng-change="'+f.change+'"':"",j=f.tip?" <tip>"+f.tip+"</tip>":"",k='<label for="'+d.$id+h+'" class="checkbox-label">'+g+j+"</label>",l='<input class="cr1" id="'+d.$id+h+'" type="checkbox"        ng-model="'+h+'"'+i+'       ng-checked="'+h+'"></input> <label for="'+d.$id+h+'" class="cr1"></label>';l+=k,e.addClass("gf-form-checkbox"),e.html(b(a.element(l))(d))}}}]),b["default"].directive("gfDropdown",["$parse","$compile","$timeout",function(b,c,d){function e(b,c){var d="top"===c?"dropup":"",f=['<ul class="dropdown-menu '+d+'" role="menu" aria-labelledby="drop1">',"</ul>"];return a.forEach(b,function(a,b){if(a.divider)return f.splice(b+1,0,'<li class="divider"></li>');var c="<li"+(a.submenu&&a.submenu.length?' class="dropdown-submenu"':"")+'><a tabindex="-1" ng-href="'+(a.href||"")+'"'+(a.click?' ng-click="'+a.click+'"':"")+(a.target?' target="'+a.target+'"':"")+(a.method?' data-method="'+a.method+'"':"")+">"+(a.text||"")+"</a>";a.submenu&&a.submenu.length&&(c+=e(a.submenu).join("\n")),c+="</li>",f.splice(b+1,0,c)}),f}return{restrict:"EA",scope:!0,link:function(f,g,h){var i=b(h.gfDropdown),j=i(f);d(function(){var b=g.data("placement"),d=a.element(e(j,b).join(""));d.insertAfter(g),c(g.next("ul.dropdown-menu"))(f)}),g.addClass("dropdown-toggle").attr("data-toggle","dropdown")}}}])})}(),function(){var a=System.amdDefine;a("app/core/utils/kbn.js",["jquery","lodash","moment"],function(a,b,c){"use strict";var d={};return d.valueFormats={},d.round_interval=function(a){switch(!0){case a<=15:return 10;case a<=35:return 20;case a<=75:return 50;case a<=150:return 100;case a<=350:return 200;case a<=750:return 500;case a<=1500:return 1e3;case a<=3500:return 2e3;case a<=7500:return 5e3;case a<=12500:return 1e4;case a<=17500:return 15e3;case a<=25e3:return 2e4;case a<=45e3:return 3e4;case a<=9e4:return 6e4;case a<=21e4:return 12e4;case a<=45e4:return 3e5;case a<=75e4:return 6e5;case a<=105e4:return 9e5;case a<=15e5:return 12e5;case a<=27e5:return 18e5;case a<=54e5:return 36e5;case a<=9e6:return 72e5;case a<=162e5:return 108e5;case a<=324e5:return 216e5;case a<=864e5:return 432e5;case a<=1728e5:return 864e5;case a<=6048e5:return 864e5;case a<=18144e5:return 6048e5;case a<36288e5:return 2592e6;default:return 31536e6}},d.secondsToHms=function(a){var b=Math.floor(a/31536e3);if(b)return b+"y";var c=Math.floor(a%31536e3/86400);if(c)return c+"d";var d=Math.floor(a%31536e3%86400/3600);if(d)return d+"h";var e=Math.floor(a%31536e3%86400%3600/60);if(e)return e+"m";var f=Math.floor(a%31536e3%86400%3600%60);if(f)return f+"s";var g=Math.floor(1e3*a);return g?g+"ms":"less then a millisecond"},d.to_percent=function(a,b){return Math.floor(a/b*1e4)/100+"%"},d.addslashes=function(a){return a=a.replace(/\\/g,"\\\\"),a=a.replace(/\'/g,"\\'"),a=a.replace(/\"/g,'\\"'),a=a.replace(/\0/g,"\\0")},d.interval_regex=/(\d+(?:\.\d+)?)(ms|[Mwdhmsy])/,d.intervals_in_seconds={y:31536e3,M:2592e3,w:604800,d:86400,h:3600,m:60,s:1,ms:.001},d.calculateInterval=function(a,b,c){var e,f,g=1;if(c){if(">"!==c[0])return c;f=c.slice(1),g=d.interval_to_ms(f)}return e=d.round_interval((a.to.valueOf()-a.from.valueOf())/b),g>e&&(e=g),d.secondsToHms(e/1e3)},d.describe_interval=function(a){var c=a.match(d.interval_regex);if(c&&b.has(d.intervals_in_seconds,c[2]))return{sec:d.intervals_in_seconds[c[2]],type:c[2],count:parseInt(c[1],10)};throw new Error('Invalid interval string, expecting a number followed by one of "Mwdhmsy"')},d.interval_to_ms=function(a){var b=d.describe_interval(a);return 1e3*b.sec*b.count},d.interval_to_seconds=function(a){var b=d.describe_interval(a);return b.sec*b.count},d.query_color_dot=function(a,b){return'<div class="icon-circle" style="'+["display:inline-block","color:"+a,"font-size:"+b+"px"].join(";")+'"></div>'},d.slugifyForUrl=function(a){return a.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")},d.stringToJsRegex=function(a){if("/"!==a[0])return new RegExp("^"+a+"$");var b=a.match(new RegExp("^/(.*?)/(g?i?m?y?)$"));return new RegExp(b[1],b[2])},d.toFixed=function(a,b){if(null===a)return"";var c=b?Math.pow(10,Math.max(0,b)):1,d=String(Math.round(a*c)/c);if(d.indexOf("e")!==-1||0===a)return d;if(null!=b){var e=d.indexOf("."),f=e===-1?0:d.length-e-1;if(f<b)return(f?d:d+".")+String(c).substr(1,b-f)}return d},d.toFixedScaled=function(a,b,c,e,f){return null===c?d.toFixed(a,b)+f:d.toFixed(a,c+e)+f},d.roundValue=function(a,b){if(null===a)return null;var c=Math.pow(10,b);return Math.round((c*a).toFixed(b))/c},d.formatBuilders={},d.formatBuilders.fixedUnit=function(a){return function(b,c){return null===b?"":d.toFixed(b,c)+" "+a}},d.formatBuilders.scaledUnits=function(a,b){return function(c,e,f){if(null===c)return"";for(var g=0,h=b.length;Math.abs(c)>=a;)if(g++,c/=a,g>=h)return"NA";return g>0&&null!==f&&(e=f+3*g),d.toFixed(c,e)+b[g]}},d.formatBuilders.decimalSIPrefix=function(a,b){var c=["n","µ","m","","k","M","G","T","P","E","Z","Y"];c=c.slice(3+(b||0));var e=c.map(function(b){return" "+b+a});return d.formatBuilders.scaledUnits(1e3,e)},d.formatBuilders.binarySIPrefix=function(a,b){var c=["","Ki","Mi","Gi","Ti","Pi","Ei","Zi","Yi"].slice(b),e=c.map(function(b){return" "+b+a});return d.formatBuilders.scaledUnits(1024,e)},d.formatBuilders.currency=function(a){var b=["","K","M","B","T"],c=d.formatBuilders.scaledUnits(1e3,b);return function(b,d,e){if(null===b)return"";var f=c(b,d,e);return a+f}},d.formatBuilders.simpleCountUnit=function(a){var b=["","K","M","B","T"],c=d.formatBuilders.scaledUnits(1e3,b);return function(b,d,e){if(null===b)return"";var f=c(b,d,e);return f+" "+a}},d.valueFormats.none=d.toFixed,d.valueFormats["short"]=d.formatBuilders.scaledUnits(1e3,[""," K"," Mil"," Bil"," Tri"," Quadr"," Quint"," Sext"," Sept"]),d.valueFormats.dB=d.formatBuilders.fixedUnit("dB"),d.valueFormats.ppm=d.formatBuilders.fixedUnit("ppm"),d.valueFormats.percent=function(a,b){return null===a?"":d.toFixed(a,b)+"%"},d.valueFormats.percentunit=function(a,b){return null===a?"":d.toFixed(100*a,b)+"%"},d.valueFormats.currencyUSD=d.formatBuilders.currency("$"),d.valueFormats.currencyGBP=d.formatBuilders.currency("£"),d.valueFormats.currencyEUR=d.formatBuilders.currency("€"),d.valueFormats.currencyJPY=d.formatBuilders.currency("¥"),d.valueFormats.bits=d.formatBuilders.binarySIPrefix("b"),d.valueFormats.bytes=d.formatBuilders.binarySIPrefix("B"),d.valueFormats.kbytes=d.formatBuilders.binarySIPrefix("B",1),d.valueFormats.mbytes=d.formatBuilders.binarySIPrefix("B",2),d.valueFormats.gbytes=d.formatBuilders.binarySIPrefix("B",3),d.valueFormats.pps=d.formatBuilders.decimalSIPrefix("pps"),d.valueFormats.bps=d.formatBuilders.decimalSIPrefix("bps"),d.valueFormats.Bps=d.formatBuilders.decimalSIPrefix("Bps"),d.valueFormats.KBs=d.formatBuilders.decimalSIPrefix("Bs",1),d.valueFormats.Kbits=d.formatBuilders.decimalSIPrefix("bits",1),d.valueFormats.MBs=d.formatBuilders.decimalSIPrefix("Bs",2),d.valueFormats.Mbits=d.formatBuilders.decimalSIPrefix("bits",2),d.valueFormats.GBs=d.formatBuilders.decimalSIPrefix("Bs",3),d.valueFormats.Gbits=d.formatBuilders.decimalSIPrefix("bits",3),d.valueFormats.ops=d.formatBuilders.simpleCountUnit("ops"),d.valueFormats.rps=d.formatBuilders.simpleCountUnit("rps"),d.valueFormats.wps=d.formatBuilders.simpleCountUnit("wps"),d.valueFormats.iops=d.formatBuilders.simpleCountUnit("iops"),d.valueFormats.watt=d.formatBuilders.decimalSIPrefix("W"),d.valueFormats.kwatt=d.formatBuilders.decimalSIPrefix("W",1),d.valueFormats.voltamp=d.formatBuilders.decimalSIPrefix("VA"),d.valueFormats.kvoltamp=d.formatBuilders.decimalSIPrefix("VA",1),d.valueFormats.voltampreact=d.formatBuilders.decimalSIPrefix("var"),d.valueFormats.watth=d.formatBuilders.decimalSIPrefix("Wh"),d.valueFormats.kwatth=d.formatBuilders.decimalSIPrefix("Wh",1),d.valueFormats.joule=d.formatBuilders.decimalSIPrefix("J"),d.valueFormats.ev=d.formatBuilders.decimalSIPrefix("eV"),d.valueFormats.amp=d.formatBuilders.decimalSIPrefix("A"),d.valueFormats.volt=d.formatBuilders.decimalSIPrefix("V"),d.valueFormats.dBm=d.formatBuilders.decimalSIPrefix("dBm"),d.valueFormats.celsius=d.formatBuilders.fixedUnit("°C"),d.valueFormats.farenheit=d.formatBuilders.fixedUnit("°F"),d.valueFormats.kelvin=d.formatBuilders.fixedUnit("K"),d.valueFormats.humidity=d.formatBuilders.fixedUnit("%H"),d.valueFormats.pressurembar=d.formatBuilders.fixedUnit("mbar"),d.valueFormats.pressurehpa=d.formatBuilders.fixedUnit("hPa"),d.valueFormats.pressurehg=d.formatBuilders.fixedUnit('"Hg'),d.valueFormats.pressurepsi=d.formatBuilders.scaledUnits(1e3,[" psi"," ksi"," Mpsi"]),d.valueFormats.lengthm=d.formatBuilders.decimalSIPrefix("m"),d.valueFormats.lengthmm=d.formatBuilders.decimalSIPrefix("m",-1),d.valueFormats.lengthkm=d.formatBuilders.decimalSIPrefix("m",1),d.valueFormats.lengthmi=d.formatBuilders.fixedUnit("mi"),d.valueFormats.velocityms=d.formatBuilders.fixedUnit("m/s"),d.valueFormats.velocitykmh=d.formatBuilders.fixedUnit("km/h"),d.valueFormats.velocitymph=d.formatBuilders.fixedUnit("mph"),d.valueFormats.velocityknot=d.formatBuilders.fixedUnit("kn"),d.valueFormats.litre=d.formatBuilders.decimalSIPrefix("L"),d.valueFormats.mlitre=d.formatBuilders.decimalSIPrefix("L",-1),d.valueFormats.m3=d.formatBuilders.decimalSIPrefix("m3"),d.valueFormats.hertz=d.formatBuilders.decimalSIPrefix("Hz"),d.valueFormats.ms=function(a,b,c){return null===a?"":Math.abs(a)<1e3?d.toFixed(a,b)+" ms":Math.abs(a)<6e4?d.toFixedScaled(a/1e3,b,c,3," s"):Math.abs(a)<36e5?d.toFixedScaled(a/6e4,b,c,5," min"):Math.abs(a)<864e5?d.toFixedScaled(a/36e5,b,c,7," hour"):Math.abs(a)<31536e6?d.toFixedScaled(a/864e5,b,c,8," day"):d.toFixedScaled(a/31536e6,b,c,10," year")},d.valueFormats.s=function(a,b,c){return null===a?"":Math.abs(a)<60?d.toFixed(a,b)+" s":Math.abs(a)<3600?d.toFixedScaled(a/60,b,c,1," min"):Math.abs(a)<86400?d.toFixedScaled(a/3600,b,c,4," hour"):Math.abs(a)<604800?d.toFixedScaled(a/86400,b,c,5," day"):Math.abs(a)<31536e3?d.toFixedScaled(a/604800,b,c,6," week"):d.toFixedScaled(a/31556900,b,c,7," year")},d.valueFormats["µs"]=function(a,b,c){return null===a?"":Math.abs(a)<1e3?d.toFixed(a,b)+" µs":Math.abs(a)<1e6?d.toFixedScaled(a/1e3,b,c,3," ms"):d.toFixedScaled(a/1e6,b,c,6," s")},d.valueFormats.ns=function(a,b,c){return null===a?"":Math.abs(a)<1e3?d.toFixed(a,b)+" ns":Math.abs(a)<1e6?d.toFixedScaled(a/1e3,b,c,3," µs"):Math.abs(a)<1e9?d.toFixedScaled(a/1e6,b,c,6," ms"):Math.abs(a)<6e10?d.toFixedScaled(a/1e9,b,c,9," s"):d.toFixedScaled(a/6e10,b,c,12," min")},d.valueFormats.m=function(a,b,c){return null===a?"":Math.abs(a)<60?d.toFixed(a,b)+" min":Math.abs(a)<1440?d.toFixedScaled(a/60,b,c,2," hour"):Math.abs(a)<10080?d.toFixedScaled(a/1440,b,c,3," day"):Math.abs(a)<604800?d.toFixedScaled(a/10080,b,c,4," week"):d.toFixedScaled(a/525948,b,c,5," year")},d.valueFormats.h=function(a,b,c){return null===a?"":Math.abs(a)<24?d.toFixed(a,b)+" hour":Math.abs(a)<168?d.toFixedScaled(a/24,b,c,2," day"):Math.abs(a)<8760?d.toFixedScaled(a/168,b,c,3," week"):d.toFixedScaled(a/8760,b,c,4," year")},d.valueFormats.d=function(a,b,c){return null===a?"":Math.abs(a)<7?d.toFixed(a,b)+" day":Math.abs(a)<365?d.toFixedScaled(a/7,b,c,2," week"):d.toFixedScaled(a/365,b,c,3," year")},d.toDuration=function(a,b){return c.duration(a,b)},d.valueFormats.dtdurationms=function(a){return d.toDuration(a,"ms").humanize()},d.valueFormats.dtdurations=function(a){return d.toDuration(a,"s").humanize()},d.getUnitFormats=function(){return[{text:"none",submenu:[{text:"none",value:"none"},{text:"short",value:"short"},{text:"percent (0-100)",value:"percent"},{text:"percent (0.0-1.0)",value:"percentunit"},{text:"Humidity (%H)",value:"humidity"},{text:"ppm",value:"ppm"},{text:"decibel",value:"dB"}]},{text:"currency",submenu:[{text:"Dollars ($)",value:"currencyUSD"},{text:"Pounds (£)",value:"currencyGBP"},{text:"Euro (€)",value:"currencyEUR"},{text:"Yen (¥)",value:"currencyJPY"}]},{text:"time",submenu:[{text:"Hertz (1/s)",value:"hertz"},{text:"nanoseconds (ns)",value:"ns"},{text:"microseconds (µs)",value:"µs"},{text:"milliseconds (ms)",value:"ms"},{text:"seconds (s)",value:"s"},{text:"minutes (m)",value:"m"},{text:"hours (h)",value:"h"},{text:"days (d)",value:"d"},{text:"duration (ms)",value:"dtdurationms"},{text:"duration (s)",value:"dtdurations"}]},{text:"data",submenu:[{text:"bits",value:"bits"},{text:"bytes",value:"bytes"},{text:"kilobytes",value:"kbytes"},{text:"megabytes",value:"mbytes"},{text:"gigabytes",value:"gbytes"}]},{text:"data rate",submenu:[{text:"packets/sec",value:"pps"},{text:"bits/sec",value:"bps"},{text:"bytes/sec",value:"Bps"},{text:"kilobits/sec",value:"Kbits"},{text:"kilobytes/sec",value:"KBs"},{text:"megabits/sec",value:"Mbits"},{text:"megabytes/sec",value:"MBs"},{text:"gigabytes/sec",value:"GBs"},{text:"gigabits/sec",value:"Gbits"}]},{text:"throughput",submenu:[{text:"ops/sec (ops)",value:"ops"},{text:"reads/sec (rps)",value:"rps"},{text:"writes/sec (wps)",value:"wps"},{text:"I/O ops/sec (iops)",value:"iops"}]},{text:"length",submenu:[{text:"millimetre (mm)",value:"lengthmm"},{text:"meter (m)",value:"lengthm"},{text:"kilometer (km)",value:"lengthkm"},{text:"mile (mi)",value:"lengthmi"}]},{text:"velocity",submenu:[{text:"m/s",value:"velocityms"},{text:"km/h",value:"velocitykmh"},{text:"mph",value:"velocitymph"},{text:"knot (kn)",value:"velocityknot"}]},{text:"volume",submenu:[{text:"millilitre",value:"mlitre"},{text:"litre",value:"litre"},{text:"cubic metre",value:"m3"}]},{text:"energy",submenu:[{text:"watt (W)",value:"watt"},{text:"kilowatt (kW)",value:"kwatt"},{text:"volt-ampere (VA)",value:"voltamp"},{text:"kilovolt-ampere (kVA)",value:"kvoltamp"},{text:"volt-ampere reactive (var)",value:"voltampreact"},{text:"watt-hour (Wh)",value:"watth"},{text:"kilowatt-hour (kWh)",value:"kwatth"},{text:"joule (J)",value:"joule"},{text:"electron volt (eV)",value:"ev"},{text:"Ampere (A)",value:"amp"},{text:"Volt (V)",value:"volt"},{text:"Decibel-milliwatt (dBm)",value:"dBm"}]},{text:"temperature",submenu:[{text:"Celcius (°C)",value:"celsius"},{text:"Farenheit (°F)",value:"farenheit"},{text:"Kelvin (K)",value:"kelvin"}]},{text:"pressure",submenu:[{text:"Millibars",value:"pressurembar"},{text:"Hectopascals",value:"pressurehpa"},{text:"Inches of mercury",value:"pressurehg"},{text:"PSI",value:"pressurepsi"}]}]},d})}(),function(){var a=System.amdDefine;a("app/core/directives/ng_model_on_blur.js",["../core_module","app/core/utils/kbn","app/core/utils/rangeutil"],function(a,b,c){"use strict";a["default"].directive("ngModelOnblur",function(){return{restrict:"A",priority:1,require:"ngModel",link:function(a,b,c,d){"radio"!==c.type&&"checkbox"!==c.type&&(b.off("input keydown change"),b.bind("blur",function(){a.$apply(function(){d.$setViewValue(b.val())})}))}}}),a["default"].directive("emptyToNull",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$parsers.push(function(a){return""===a?null:a})}}}),a["default"].directive("validTimeSpan",function(){return{require:"ngModel",link:function(a,b,d,e){e.$validators.integer=function(a,b){if(e.$isEmpty(a))return!0;if(0===b.indexOf("$"))return!0;var d=c.describeTextRange(b);return d.invalid!==!0}}}})})}(),function(){var a=System.amdDefine;a("app/core/directives/password_strenght.js",["../core_module"],function(a){"use strict";a["default"].directive("passwordStrength",function(){var a='<div class="password-strength small" ng-if="!loginMode" ng-class="strengthClass"><em>{{strengthText}}</em></div>';return{template:a,scope:{password:"="},link:function(a){function b(b){return b?b.length<4?(a.strengthText="strength: weak sauce.",void(a.strengthClass="password-strength-bad")):b.length<=8?(a.strengthText="strength: you can do better.",void(a.strengthClass="password-strength-ok")):(a.strengthText="strength: strong like a bull.",void(a.strengthClass="password-strength-good")):(a.strengthText="",void(a.strengthClass="hidden"))}a.strengthClass="",a.$watch("password",b)}}})})}(),function(){var a=System.amdDefine;!function(b){"use strict";"function"==typeof a&&a.amd?a("spectrum",["jquery"],b):"object"==typeof exports&&"object"==typeof module?module.exports=b:b(jQuery)}(function(a,b){"use strict";function c(b,c,d,e){for(var f=[],g=0;g<b.length;g++){var h=b[g];if(h){var i=tinycolor(h),j=i.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";j+=tinycolor.equals(c,h)?" sp-thumb-active":"";var k=i.toString(e.preferredFormat||"rgb"),l=q?"background-color:"+i.toRgbString():"filter:"+i.toFilter();f.push('<span title="'+k+'" data-color="'+i.toRgbString()+'" class="'+j+'"><span class="sp-thumb-inner" style="'+l+';" /></span>')}else{var m="sp-clear-display";f.push(a("<div />").append(a('<span data-color="" style="background-color:transparent;" class="'+m+'"></span>').attr("title",e.noColorSelectedText)).html())}}return"<div class='sp-cf "+d+"'>"+f.join("")+"</div>"}function d(){for(var a=0;a<o.length;a++)o[a]&&o[a].hide()}function e(b,c){var d=a.extend({},n,b);return d.callbacks={move:j(d.move,c),change:j(d.change,c),show:j(d.show,c),hide:j(d.hide,c),beforeShow:j(d.beforeShow,c)},d}function f(f,h){function j(){if(U.showPaletteOnly&&(U.showPalette=!0),Ma.text(U.showPaletteOnly?U.togglePaletteMoreText:U.togglePaletteLessText),U.palette){na=U.palette.slice(0),oa=a.isArray(na[0])?na:[na],pa={};for(var b=0;b<oa.length;b++)for(var c=0;c<oa[b].length;c++){var d=tinycolor(oa[b][c]).toRgbString();pa[d]=!0}}xa.toggleClass("sp-flat",V),xa.toggleClass("sp-input-disabled",!U.showInput),xa.toggleClass("sp-alpha-enabled",U.showAlpha),xa.toggleClass("sp-clear-enabled",Za),xa.toggleClass("sp-buttons-disabled",!U.showButtons),xa.toggleClass("sp-palette-buttons-disabled",!U.togglePaletteOnly),xa.toggleClass("sp-palette-disabled",!U.showPalette),xa.toggleClass("sp-palette-only",U.showPaletteOnly),xa.toggleClass("sp-initial-disabled",!U.showInitial),xa.addClass(U.className).addClass(U.containerClassName),O()}function n(){function b(b){return b.data&&b.data.ignore?(H(a(b.target).closest(".sp-thumb-el").data("color")),K()):(H(a(b.target).closest(".sp-thumb-el").data("color")),K(),N(!0),U.hideAfterPaletteSelect&&F()),!1}if(p&&xa.find("*:not(input)").attr("unselectable","on"),j(),Pa&&va.after(Qa).hide(),Za||Ka.hide(),V)va.after(xa).hide();else{var c="parent"===U.appendTo?va.parent():a(U.appendTo);1!==c.length&&(c=a("body")),c.append(xa)}t(),Ra.bind("click.spectrum touchstart.spectrum",function(b){wa||B(),b.stopPropagation(),a(b.target).is("input")||b.preventDefault()}),(va.is(":disabled")||U.disabled===!0)&&S(),xa.click(i),Ga.change(A),Ga.bind("paste",function(){setTimeout(A,1)}),Ga.keydown(function(a){13==a.keyCode&&A()}),Ja.text(U.cancelText),Ja.bind("click.spectrum",function(a){a.stopPropagation(),a.preventDefault(),G(),F()}),Ka.attr("title",U.clearText),Ka.bind("click.spectrum",function(a){a.stopPropagation(),a.preventDefault(),Ya=!0,K(),V&&N(!0)}),La.text(U.chooseText),La.bind("click.spectrum",function(a){a.stopPropagation(),a.preventDefault(),p&&Ga.is(":focus")&&Ga.trigger("change"),J()&&(N(!0),F())}),Ma.text(U.showPaletteOnly?U.togglePaletteMoreText:U.togglePaletteLessText),Ma.bind("click.spectrum",function(a){a.stopPropagation(),a.preventDefault(),U.showPaletteOnly=!U.showPaletteOnly,U.showPaletteOnly||V||xa.css("left","-="+(ya.outerWidth(!0)+5)),j()}),k(Ea,function(a,b,c){ma=a/ga,Ya=!1,c.shiftKey&&(ma=Math.round(10*ma)/10),K()},y,z),k(Ba,function(a,b){ja=parseFloat(b/ea),Ya=!1,U.showAlpha||(ma=1),K()},y,z),k(za,function(a,b,c){if(c.shiftKey){if(!ta){var d=ka*ba,e=ca-la*ca,f=Math.abs(a-d)>Math.abs(b-e);ta=f?"x":"y"}}else ta=null;var g=!ta||"x"===ta,h=!ta||"y"===ta;g&&(ka=parseFloat(a/ba)),h&&(la=parseFloat((ca-b)/ca)),Ya=!1,U.showAlpha||(ma=1),K()},y,z),Ta?(H(Ta),L(),Wa=Va||tinycolor(Ta).format,u(Ta)):L(),V&&C();var d=p?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Ha.delegate(".sp-thumb-el",d,b),Ia.delegate(".sp-thumb-el:nth-child(1)",d,{ignore:!0},b)}function t(){if(X&&window.localStorage){try{var b=window.localStorage[X].split(",#");b.length>1&&(delete window.localStorage[X],a.each(b,function(a,b){u(b)}))}catch(c){}try{qa=window.localStorage[X].split(";")}catch(c){}}}function u(b){if(W){var c=tinycolor(b).toRgbString();if(!pa[c]&&a.inArray(c,qa)===-1)for(qa.push(c);qa.length>ra;)qa.shift();if(X&&window.localStorage)try{window.localStorage[X]=qa.join(";")}catch(d){}}}function v(){var a=[];if(U.showPalette)for(var b=0;b<qa.length;b++){var c=tinycolor(qa[b]).toRgbString();pa[c]||a.push(qa[b])}return a.reverse().slice(0,U.maxSelectionSize)}function w(){var b=I(),d=a.map(oa,function(a,d){return c(a,b,"sp-palette-row sp-palette-row-"+d,U)});t(),qa&&d.push(c(v(),b,"sp-palette-row sp-palette-row-selection",U)),Ha.html(d.join(""))}function x(){if(U.showInitial){var a=Ua,b=I();Ia.html(c([a,b],b,"sp-palette-row-initial",U))}}function y(){(ca<=0||ba<=0||ea<=0)&&O(),aa=!0,xa.addClass(sa),ta=null,va.trigger("dragstart.spectrum",[I()])}function z(){aa=!1,xa.removeClass(sa),va.trigger("dragstop.spectrum",[I()])}function A(){var a=Ga.val();if(null!==a&&""!==a||!Za){var b=tinycolor(a);b.isValid()?(H(b),N(!0)):Ga.addClass("sp-validation-error")}else H(null),N(!0)}function B(){_?F():C()}function C(){var b=a.Event("beforeShow.spectrum");return _?void O():(va.trigger(b,[I()]),void(Z.beforeShow(I())===!1||b.isDefaultPrevented()||(d(),_=!0,a(ua).bind("keydown.spectrum",D),a(ua).bind("click.spectrum",E),a(window).bind("resize.spectrum",$),Qa.addClass("sp-active"),xa.removeClass("sp-hidden"),O(),L(),Ua=I(),x(),Z.show(Ua),va.trigger("show.spectrum",[Ua]))))}function D(a){27===a.keyCode&&F()}function E(a){2!=a.button&&(aa||(Xa?N(!0):G(),F()))}function F(){_&&!V&&(_=!1,a(ua).unbind("keydown.spectrum",D),a(ua).unbind("click.spectrum",E),a(window).unbind("resize.spectrum",$),Qa.removeClass("sp-active"),xa.addClass("sp-hidden"),Z.hide(I()),va.trigger("hide.spectrum",[I()]))}function G(){H(Ua,!0)}function H(a,b){if(tinycolor.equals(a,I()))return void L();var c,d;!a&&Za?Ya=!0:(Ya=!1,c=tinycolor(a),d=c.toHsv(),ja=d.h%360/360,ka=d.s,la=d.v,ma=d.a),L(),c&&c.isValid()&&!b&&(Wa=Va||c.getFormat())}function I(a){return a=a||{},Za&&Ya?null:tinycolor.fromRatio({h:ja,s:ka,v:la,a:Math.round(100*ma)/100},{format:a.format||Wa})}function J(){return!Ga.hasClass("sp-validation-error")}function K(){L(),Z.move(I()),va.trigger("move.spectrum",[I()])}function L(){Ga.removeClass("sp-validation-error"),M();var a=tinycolor.fromRatio({h:ja,s:1,v:1});za.css("background-color",a.toHexString());var b=Wa;ma<1&&(0!==ma||"name"!==b)&&("hex"!==b&&"hex3"!==b&&"hex6"!==b&&"name"!==b||(b="rgb"));var c=I({format:b}),d="";if(Sa.removeClass("sp-clear-display"),Sa.css("background-color","transparent"),!c&&Za)Sa.addClass("sp-clear-display");else{var e=c.toHexString(),f=c.toRgbString();if(q||1===c.alpha?Sa.css("background-color",f):(Sa.css("background-color","transparent"),Sa.css("filter",c.toFilter())),U.showAlpha){var g=c.toRgb();g.a=0;var h=tinycolor(g).toRgbString(),i="linear-gradient(left, "+h+", "+e+")";p?Da.css("filter",tinycolor(h).toFilter({gradientType:1},e)):(Da.css("background","-webkit-"+i),Da.css("background","-moz-"+i),Da.css("background","-ms-"+i),Da.css("background","linear-gradient(to right, "+h+", "+e+")"))}d=c.toString(b)}U.showInput&&Ga.val(d),U.showPalette&&w(),x()}function M(){var a=ka,b=la;if(Za&&Ya)Fa.hide(),Ca.hide(),Aa.hide();else{Fa.show(),Ca.show(),Aa.show();var c=a*ba,d=ca-b*ca;c=Math.max(-da,Math.min(ba-da,c-da)),d=Math.max(-da,Math.min(ca-da,d-da)),Aa.css({top:d+"px",left:c+"px"});var e=ma*ga;Fa.css({left:e-ha/2+"px"});var f=ja*ea;Ca.css({top:f-ia+"px"})}}function N(a){var b=I(),c="",d=!tinycolor.equals(b,Ua);b&&(c=b.toString(Wa),u(b)),Na&&va.val(c),a&&d&&(Z.change(b),va.trigger("change",[b]))}function O(){ba=za.width(),ca=za.height(),da=Aa.height(),fa=Ba.width(),ea=Ba.height(),ia=Ca.height(),ga=Ea.width(),ha=Fa.width(),V||(xa.css("position","absolute"),U.offset?xa.offset(U.offset):xa.offset(g(xa,Ra))),M(),U.showPalette&&w(),va.trigger("reflow.spectrum")}function P(){va.show(),Ra.unbind("click.spectrum touchstart.spectrum"),xa.remove(),Qa.remove(),o[$a.id]=null}function Q(c,d){return c===b?a.extend({},U):d===b?U[c]:(U[c]=d,void j())}function R(){wa=!1,va.attr("disabled",!1),Ra.removeClass("sp-disabled")}function S(){F(),wa=!0,va.attr("disabled",!0),Ra.addClass("sp-disabled")}function T(a){U.offset=a,O()}var U=e(h,f),V=U.flat,W=U.showSelectionPalette,X=U.localStorageKey,Y=U.theme,Z=U.callbacks,$=l(O,10),_=!1,aa=!1,ba=0,ca=0,da=0,ea=0,fa=0,ga=0,ha=0,ia=0,ja=0,ka=0,la=0,ma=1,na=[],oa=[],pa={},qa=U.selectionPalette.slice(0),ra=U.maxSelectionSize,sa="sp-dragging",ta=null,ua=f.ownerDocument,va=(ua.body,a(f)),wa=!1,xa=a(s,ua).addClass(Y),ya=xa.find(".sp-picker-container"),za=xa.find(".sp-color"),Aa=xa.find(".sp-dragger"),Ba=xa.find(".sp-hue"),Ca=xa.find(".sp-slider"),Da=xa.find(".sp-alpha-inner"),Ea=xa.find(".sp-alpha"),Fa=xa.find(".sp-alpha-handle"),Ga=xa.find(".sp-input"),Ha=xa.find(".sp-palette"),Ia=xa.find(".sp-initial"),Ja=xa.find(".sp-cancel"),Ka=xa.find(".sp-clear"),La=xa.find(".sp-choose"),Ma=xa.find(".sp-palette-toggle"),Na=va.is("input"),Oa=Na&&"color"===va.attr("type")&&m(),Pa=Na&&!V,Qa=Pa?a(r).addClass(Y).addClass(U.className).addClass(U.replacerClassName):a([]),Ra=Pa?Qa:va,Sa=Qa.find(".sp-preview-inner"),Ta=U.color||Na&&va.val(),Ua=!1,Va=U.preferredFormat,Wa=Va,Xa=!U.showButtons||U.clickoutFiresChange,Ya=!Ta,Za=U.allowEmpty&&!Oa;
n();var $a={show:C,hide:F,toggle:B,reflow:O,option:Q,enable:R,disable:S,offset:T,set:function(a){H(a),N()},get:I,destroy:P,container:xa};return $a.id=o.push($a)-1,$a}function g(b,c){var d=0,e=b.outerWidth(),f=b.outerHeight(),g=c.outerHeight(),h=b[0].ownerDocument,i=h.documentElement,j=i.clientWidth+a(h).scrollLeft(),k=i.clientHeight+a(h).scrollTop(),l=c.offset();return l.top+=g,l.left-=Math.min(l.left,l.left+e>j&&j>e?Math.abs(l.left+e-j):0),l.top-=Math.min(l.top,l.top+f>k&&k>f?Math.abs(f+g-d):d),l}function h(){}function i(a){a.stopPropagation()}function j(a,b){var c=Array.prototype.slice,d=c.call(arguments,2);return function(){return a.apply(b,d.concat(c.call(arguments)))}}function k(b,c,d,e){function f(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.returnValue=!1}function g(a){if(k){if(p&&j.documentMode<9&&!a.button)return i();var d=a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches[0],e=d&&d.pageX||a.pageX,g=d&&d.pageY||a.pageY,h=Math.max(0,Math.min(e-l.left,n)),q=Math.max(0,Math.min(g-l.top,m));o&&f(a),c.apply(b,[h,q,a])}}function h(c){var e=c.which?3==c.which:2==c.button;e||k||d.apply(b,arguments)!==!1&&(k=!0,m=a(b).height(),n=a(b).width(),l=a(b).offset(),a(j).bind(q),a(j.body).addClass("sp-dragging"),g(c),f(c))}function i(){k&&(a(j).unbind(q),a(j.body).removeClass("sp-dragging"),setTimeout(function(){e.apply(b,arguments)},0)),k=!1}c=c||function(){},d=d||function(){},e=e||function(){};var j=document,k=!1,l={},m=0,n=0,o="ontouchstart"in window,q={};q.selectstart=f,q.dragstart=f,q["touchmove mousemove"]=g,q["touchend mouseup"]=i,a(b).bind("touchstart mousedown",h)}function l(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,a.apply(e,f)};c&&clearTimeout(d),!c&&d||(d=setTimeout(g,b))}}function m(){return a.fn.spectrum.inputTypeColorSupport()}var n={beforeShow:h,move:h,change:h,show:h,hide:h,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},o=[],p=!!/msie/i.exec(window.navigator.userAgent),q=function(){function a(a,b){return!!~(""+a).indexOf(b)}var b=document.createElement("div"),c=b.style;return c.cssText="background-color:rgba(0,0,0,.5)",a(c.backgroundColor,"rgba")||a(c.backgroundColor,"hsla")}(),r=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),s=function(){var a="";if(p)for(var b=1;b<=6;b++)a+="<div class='sp-"+b+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",a,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),t="spectrum.id";a.fn.spectrum=function(b,c){if("string"==typeof b){var d=this,e=Array.prototype.slice.call(arguments,1);return this.each(function(){var c=o[a(this).data(t)];if(c){var f=c[b];if(!f)throw new Error("Spectrum: no such method: '"+b+"'");"get"==b?d=c.get():"container"==b?d=c.container:"option"==b?d=c.option.apply(c,e):"destroy"==b?(c.destroy(),a(this).removeData(t)):f.apply(c,e)}}),d}return this.spectrum("destroy").each(function(){var c=a.extend({},b,a(this).data()),d=f(this,c);a(this).data(t,d.id)})},a.fn.spectrum.load=!0,a.fn.spectrum.loadOpts={},a.fn.spectrum.draggable=k,a.fn.spectrum.defaults=n,a.fn.spectrum.inputTypeColorSupport=function u(){if("undefined"==typeof u._cachedResult){var b=a("<input type='color' value='!' />")[0];u._cachedResult="color"===b.type&&"!"!==b.value}return u._cachedResult},a.spectrum={},a.spectrum.localization={},a.spectrum.palettes={},a.fn.spectrum.processNativeColorInputs=function(){var b=a("input[type=color]");b.length&&!m()&&b.spectrum({preferredFormat:"hex6"})},function(){function a(a){var c={r:0,g:0,b:0},e=1,g=!1,h=!1;return"string"==typeof a&&(a=G(a)),"object"==typeof a&&(a.hasOwnProperty("r")&&a.hasOwnProperty("g")&&a.hasOwnProperty("b")?(c=b(a.r,a.g,a.b),g=!0,h="%"===String(a.r).substr(-1)?"prgb":"rgb"):a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("v")?(a.s=D(a.s),a.v=D(a.v),c=f(a.h,a.s,a.v),g=!0,h="hsv"):a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("l")&&(a.s=D(a.s),a.l=D(a.l),c=d(a.h,a.s,a.l),g=!0,h="hsl"),a.hasOwnProperty("a")&&(e=a.a)),e=w(e),{ok:g,format:a.format||h,r:M(255,N(c.r,0)),g:M(255,N(c.g,0)),b:M(255,N(c.b,0)),a:e}}function b(a,b,c){return{r:255*x(a,255),g:255*x(b,255),b:255*x(c,255)}}function c(a,b,c){a=x(a,255),b=x(b,255),c=x(c,255);var d,e,f=N(a,b,c),g=M(a,b,c),h=(f+g)/2;if(f==g)d=e=0;else{var i=f-g;switch(e=h>.5?i/(2-f-g):i/(f+g),f){case a:d=(b-c)/i+(b<c?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,l:h}}function d(a,b,c){function d(a,b,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?a+6*(b-a)*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}var e,f,g;if(a=x(a,360),b=x(b,100),c=x(c,100),0===b)e=f=g=c;else{var h=c<.5?c*(1+b):c+b-c*b,i=2*c-h;e=d(i,h,a+1/3),f=d(i,h,a),g=d(i,h,a-1/3)}return{r:255*e,g:255*f,b:255*g}}function e(a,b,c){a=x(a,255),b=x(b,255),c=x(c,255);var d,e,f=N(a,b,c),g=M(a,b,c),h=f,i=f-g;if(e=0===f?0:i/f,f==g)d=0;else{switch(f){case a:d=(b-c)/i+(b<c?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,v:h}}function f(a,b,c){a=6*x(a,360),b=x(b,100),c=x(c,100);var d=K.floor(a),e=a-d,f=c*(1-b),g=c*(1-e*b),h=c*(1-(1-e)*b),i=d%6,j=[c,g,f,f,h,c][i],k=[h,c,c,g,f,f][i],l=[f,f,h,c,c,g][i];return{r:255*j,g:255*k,b:255*l}}function g(a,b,c,d){var e=[C(L(a).toString(16)),C(L(b).toString(16)),C(L(c).toString(16))];return d&&e[0].charAt(0)==e[0].charAt(1)&&e[1].charAt(0)==e[1].charAt(1)&&e[2].charAt(0)==e[2].charAt(1)?e[0].charAt(0)+e[1].charAt(0)+e[2].charAt(0):e.join("")}function h(a,b,c,d){var e=[C(E(d)),C(L(a).toString(16)),C(L(b).toString(16)),C(L(c).toString(16))];return e.join("")}function i(a,b){b=0===b?0:b||10;var c=P(a).toHsl();return c.s-=b/100,c.s=y(c.s),P(c)}function j(a,b){b=0===b?0:b||10;var c=P(a).toHsl();return c.s+=b/100,c.s=y(c.s),P(c)}function k(a){return P(a).desaturate(100)}function l(a,b){b=0===b?0:b||10;var c=P(a).toHsl();return c.l+=b/100,c.l=y(c.l),P(c)}function m(a,b){b=0===b?0:b||10;var c=P(a).toRgb();return c.r=N(0,M(255,c.r-L(255*-(b/100)))),c.g=N(0,M(255,c.g-L(255*-(b/100)))),c.b=N(0,M(255,c.b-L(255*-(b/100)))),P(c)}function n(a,b){b=0===b?0:b||10;var c=P(a).toHsl();return c.l-=b/100,c.l=y(c.l),P(c)}function o(a,b){var c=P(a).toHsl(),d=(L(c.h)+b)%360;return c.h=d<0?360+d:d,P(c)}function p(a){var b=P(a).toHsl();return b.h=(b.h+180)%360,P(b)}function q(a){var b=P(a).toHsl(),c=b.h;return[P(a),P({h:(c+120)%360,s:b.s,l:b.l}),P({h:(c+240)%360,s:b.s,l:b.l})]}function r(a){var b=P(a).toHsl(),c=b.h;return[P(a),P({h:(c+90)%360,s:b.s,l:b.l}),P({h:(c+180)%360,s:b.s,l:b.l}),P({h:(c+270)%360,s:b.s,l:b.l})]}function s(a){var b=P(a).toHsl(),c=b.h;return[P(a),P({h:(c+72)%360,s:b.s,l:b.l}),P({h:(c+216)%360,s:b.s,l:b.l})]}function t(a,b,c){b=b||6,c=c||30;var d=P(a).toHsl(),e=360/c,f=[P(a)];for(d.h=(d.h-(e*b>>1)+720)%360;--b;)d.h=(d.h+e)%360,f.push(P(d));return f}function u(a,b){b=b||6;for(var c=P(a).toHsv(),d=c.h,e=c.s,f=c.v,g=[],h=1/b;b--;)g.push(P({h:d,s:e,v:f})),f=(f+h)%1;return g}function v(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}function w(a){return a=parseFloat(a),(isNaN(a)||a<0||a>1)&&(a=1),a}function x(a,b){A(a)&&(a="100%");var c=B(a);return a=M(b,N(0,parseFloat(a))),c&&(a=parseInt(a*b,10)/100),K.abs(a-b)<1e-6?1:a%b/parseFloat(b)}function y(a){return M(1,N(0,a))}function z(a){return parseInt(a,16)}function A(a){return"string"==typeof a&&a.indexOf(".")!=-1&&1===parseFloat(a)}function B(a){return"string"==typeof a&&a.indexOf("%")!=-1}function C(a){return 1==a.length?"0"+a:""+a}function D(a){return a<=1&&(a=100*a+"%"),a}function E(a){return Math.round(255*parseFloat(a)).toString(16)}function F(a){return z(a)/255}function G(a){a=a.replace(H,"").replace(I,"").toLowerCase();var b=!1;if(Q[a])a=Q[a],b=!0;else if("transparent"==a)return{r:0,g:0,b:0,a:0,format:"name"};var c;return(c=S.rgb.exec(a))?{r:c[1],g:c[2],b:c[3]}:(c=S.rgba.exec(a))?{r:c[1],g:c[2],b:c[3],a:c[4]}:(c=S.hsl.exec(a))?{h:c[1],s:c[2],l:c[3]}:(c=S.hsla.exec(a))?{h:c[1],s:c[2],l:c[3],a:c[4]}:(c=S.hsv.exec(a))?{h:c[1],s:c[2],v:c[3]}:(c=S.hsva.exec(a))?{h:c[1],s:c[2],v:c[3],a:c[4]}:(c=S.hex8.exec(a))?{a:F(c[1]),r:z(c[2]),g:z(c[3]),b:z(c[4]),format:b?"name":"hex8"}:(c=S.hex6.exec(a))?{r:z(c[1]),g:z(c[2]),b:z(c[3]),format:b?"name":"hex"}:!!(c=S.hex3.exec(a))&&{r:z(c[1]+""+c[1]),g:z(c[2]+""+c[2]),b:z(c[3]+""+c[3]),format:b?"name":"hex"}}var H=/^[\s,#]+/,I=/\s+$/,J=0,K=Math,L=K.round,M=K.min,N=K.max,O=K.random,P=function(b,c){if(b=b?b:"",c=c||{},b instanceof P)return b;if(!(this instanceof P))return new P(b,c);var d=a(b);this._originalInput=b,this._r=d.r,this._g=d.g,this._b=d.b,this._a=d.a,this._roundA=L(100*this._a)/100,this._format=c.format||d.format,this._gradientType=c.gradientType,this._r<1&&(this._r=L(this._r)),this._g<1&&(this._g=L(this._g)),this._b<1&&(this._b=L(this._b)),this._ok=d.ok,this._tc_id=J++};P.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var a=this.toRgb();return(299*a.r+587*a.g+114*a.b)/1e3},setAlpha:function(a){return this._a=w(a),this._roundA=L(100*this._a)/100,this},toHsv:function(){var a=e(this._r,this._g,this._b);return{h:360*a.h,s:a.s,v:a.v,a:this._a}},toHsvString:function(){var a=e(this._r,this._g,this._b),b=L(360*a.h),c=L(100*a.s),d=L(100*a.v);return 1==this._a?"hsv("+b+", "+c+"%, "+d+"%)":"hsva("+b+", "+c+"%, "+d+"%, "+this._roundA+")"},toHsl:function(){var a=c(this._r,this._g,this._b);return{h:360*a.h,s:a.s,l:a.l,a:this._a}},toHslString:function(){var a=c(this._r,this._g,this._b),b=L(360*a.h),d=L(100*a.s),e=L(100*a.l);return 1==this._a?"hsl("+b+", "+d+"%, "+e+"%)":"hsla("+b+", "+d+"%, "+e+"%, "+this._roundA+")"},toHex:function(a){return g(this._r,this._g,this._b,a)},toHexString:function(a){return"#"+this.toHex(a)},toHex8:function(){return h(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:L(this._r),g:L(this._g),b:L(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+L(this._r)+", "+L(this._g)+", "+L(this._b)+")":"rgba("+L(this._r)+", "+L(this._g)+", "+L(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:L(100*x(this._r,255))+"%",g:L(100*x(this._g,255))+"%",b:L(100*x(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+L(100*x(this._r,255))+"%, "+L(100*x(this._g,255))+"%, "+L(100*x(this._b,255))+"%)":"rgba("+L(100*x(this._r,255))+"%, "+L(100*x(this._g,255))+"%, "+L(100*x(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(R[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(a){var b="#"+h(this._r,this._g,this._b,this._a),c=b,d=this._gradientType?"GradientType = 1, ":"";if(a){var e=P(a);c=e.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+d+"startColorstr="+b+",endColorstr="+c+")"},toString:function(a){var b=!!a;a=a||this._format;var c=!1,d=this._a<1&&this._a>=0,e=!b&&d&&("hex"===a||"hex6"===a||"hex3"===a||"name"===a);return e?"name"===a&&0===this._a?this.toName():this.toRgbString():("rgb"===a&&(c=this.toRgbString()),"prgb"===a&&(c=this.toPercentageRgbString()),"hex"!==a&&"hex6"!==a||(c=this.toHexString()),"hex3"===a&&(c=this.toHexString(!0)),"hex8"===a&&(c=this.toHex8String()),"name"===a&&(c=this.toName()),"hsl"===a&&(c=this.toHslString()),"hsv"===a&&(c=this.toHsvString()),c||this.toHexString())},_applyModification:function(a,b){var c=a.apply(null,[this].concat([].slice.call(b)));return this._r=c._r,this._g=c._g,this._b=c._b,this.setAlpha(c._a),this},lighten:function(){return this._applyModification(l,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(n,arguments)},desaturate:function(){return this._applyModification(i,arguments)},saturate:function(){return this._applyModification(j,arguments)},greyscale:function(){return this._applyModification(k,arguments)},spin:function(){return this._applyModification(o,arguments)},_applyCombination:function(a,b){return a.apply(null,[this].concat([].slice.call(b)))},analogous:function(){return this._applyCombination(t,arguments)},complement:function(){return this._applyCombination(p,arguments)},monochromatic:function(){return this._applyCombination(u,arguments)},splitcomplement:function(){return this._applyCombination(s,arguments)},triad:function(){return this._applyCombination(q,arguments)},tetrad:function(){return this._applyCombination(r,arguments)}},P.fromRatio=function(a,b){if("object"==typeof a){var c={};for(var d in a)a.hasOwnProperty(d)&&("a"===d?c[d]=a[d]:c[d]=D(a[d]));a=c}return P(a,b)},P.equals=function(a,b){return!(!a||!b)&&P(a).toRgbString()==P(b).toRgbString()},P.random=function(){return P.fromRatio({r:O(),g:O(),b:O()})},P.mix=function(a,b,c){c=0===c?0:c||50;var d,e=P(a).toRgb(),f=P(b).toRgb(),g=c/100,h=2*g-1,i=f.a-e.a;d=h*i==-1?h:(h+i)/(1+h*i),d=(d+1)/2;var j=1-d,k={r:f.r*d+e.r*j,g:f.g*d+e.g*j,b:f.b*d+e.b*j,a:f.a*g+e.a*(1-g)};return P(k)},P.readability=function(a,b){var c=P(a),d=P(b),e=c.toRgb(),f=d.toRgb(),g=c.getBrightness(),h=d.getBrightness(),i=Math.max(e.r,f.r)-Math.min(e.r,f.r)+Math.max(e.g,f.g)-Math.min(e.g,f.g)+Math.max(e.b,f.b)-Math.min(e.b,f.b);return{brightness:Math.abs(g-h),color:i}},P.isReadable=function(a,b){var c=P.readability(a,b);return c.brightness>125&&c.color>500},P.mostReadable=function(a,b){for(var c=null,d=0,e=!1,f=0;f<b.length;f++){var g=P.readability(a,b[f]),h=g.brightness>125&&g.color>500,i=3*(g.brightness/125)+g.color/500;(h&&!e||h&&e&&i>d||!h&&!e&&i>d)&&(e=h,d=i,c=P(b[f]))}return c};var Q=P.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},R=P.hexNames=v(Q),S=function(){var a="[-\\+]?\\d+%?",b="[-\\+]?\\d*\\.\\d+%?",c="(?:"+b+")|(?:"+a+")",d="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?",e="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?";return{rgb:new RegExp("rgb"+d),rgba:new RegExp("rgba"+e),hsl:new RegExp("hsl"+d),hsla:new RegExp("hsla"+e),hsv:new RegExp("hsv"+d),hsva:new RegExp("hsva"+e),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=P}(),a(function(){a.fn.spectrum.load&&a.fn.spectrum.processNativeColorInputs()})})}(),function(){var a=System.amdDefine;a("app/core/directives/spectrum_picker.js",["angular","../core_module","spectrum"],function(a,b){"use strict";b["default"].directive("spectrumPicker",function(){return{restrict:"E",require:"ngModel",scope:!1,replace:!0,template:"<span><input class='input-small' /></span>",link:function(b,c,d,e){var f=c.find("input"),g=a.extend({showAlpha:!0,showButtons:!1,color:e.$viewValue,change:function(a){b.$apply(function(){e.$setViewValue(a.toRgbString())})}},b.$eval(d.options));e.$render=function(){f.spectrum("set",e.$viewValue||"")},f.spectrum(g),b.$on("$destroy",function(){f.spectrum("destroy")})}}})})}(),System.registerDynamic("bootstrap-tagsinput",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return function(a){!function(a){"use strict";function b(b,c){this.itemsArray=[],this.$element=a(b),this.$element.hide(),this.isSelect="SELECT"===b.tagName,this.multiple=this.isSelect&&b.hasAttribute("multiple"),this.objectItems=c&&c.itemValue,this.placeholderText=b.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=a('<div class="bootstrap-tagsinput"></div>'),this.$input=a('<input class="tight-form-input" size="'+this.inputSize+'" type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.after(this.$container),this.build(c)}function c(a,b){if("function"!=typeof a[b]){var c=a[b];a[b]=function(a){return a[c]}}}function d(a,b){if("function"!=typeof a[b]){var c=a[b];a[b]=function(){return c}}}function e(a){return a?h.text(a).html():""}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}var g={tagClass:function(a){return"label label-info"},itemValue:function(a){return a?a.toString():a},itemText:function(a){return this.itemValue(a)},freeInput:!0,maxTags:void 0,confirmKeys:[13],onTagExists:function(a,b){b.hide().fadeIn()}};b.prototype={constructor:b,add:function(b,c){var d=this;if(!(d.options.maxTags&&d.itemsArray.length>=d.options.maxTags)&&(b===!1||b)){if("object"==typeof b&&!d.objectItems)throw"Can't add objects when itemValue option is not set";if(!b.toString().match(/^\s*$/)){if(d.isSelect&&!d.multiple&&d.itemsArray.length>0&&d.remove(d.itemsArray[0]),"string"==typeof b&&"INPUT"===this.$element[0].tagName){var f=b.split(",");if(f.length>1){for(var g=0;g<f.length;g++)this.add(f[g],!0);return void(c||d.pushVal())}}var h=d.options.itemValue(b),i=d.options.itemText(b),j=d.options.tagClass(b),k=a.grep(d.itemsArray,function(a){return d.options.itemValue(a)===h})[0];if(k){if(d.options.onTagExists){var l=a(".tag",d.$container).filter(function(){return a(this).data("item")===k});d.options.onTagExists(b,l)}}else{d.itemsArray.push(b);var m=a('<span class="tag '+e(j)+'">'+e(i)+'<span data-role="remove"></span></span>');if(m.data("item",b),d.findInputWrapper().before(m),m.after(" "),d.isSelect&&!a('option[value="'+escape(h)+'"]',d.$element)[0]){var n=a("<option selected>"+e(i)+"</option>");n.data("item",b),n.attr("value",h),d.$element.append(n)}c||d.pushVal(),d.options.maxTags===d.itemsArray.length&&d.$container.addClass("bootstrap-tagsinput-max"),d.$element.trigger(a.Event("itemAdded",{item:b}))}}}},remove:function(b,c){var d=this;d.objectItems&&(b="object"==typeof b?a.grep(d.itemsArray,function(a){return d.options.itemValue(a)==d.options.itemValue(b)})[0]:a.grep(d.itemsArray,function(a){return d.options.itemValue(a)==b})[0]),b&&(a(".tag",d.$container).filter(function(){return a(this).data("item")===b}).remove(),a("option",d.$element).filter(function(){return a(this).data("item")===b}).remove(),d.itemsArray.splice(a.inArray(b,d.itemsArray),1)),c||d.pushVal(),d.options.maxTags>d.itemsArray.length&&d.$container.removeClass("bootstrap-tagsinput-max"),d.$element.trigger(a.Event("itemRemoved",{item:b}))},removeAll:function(){var b=this;for(a(".tag",b.$container).remove(),a("option",b.$element).remove();b.itemsArray.length>0;)b.itemsArray.pop();b.pushVal(),b.options.maxTags&&!this.isEnabled()&&this.enable()},refresh:function(){var b=this;a(".tag",b.$container).each(function(){var c=a(this),d=c.data("item"),f=b.options.itemValue(d),g=b.options.itemText(d),h=b.options.tagClass(d);if(c.attr("class",null),c.addClass("tag "+e(h)),c.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=e(g),b.isSelect){var i=a("option",b.$element).filter(function(){return a(this).data("item")===d});i.attr("value",f)}})},items:function(){return this.itemsArray},pushVal:function(){var b=this,c=a.map(b.items(),function(a){return b.options.itemValue(a).toString()});b.$element.val(c,!0).trigger("change")},build:function(b){var e=this;e.options=a.extend({},g,b);var h=e.options.typeahead||{};e.objectItems&&(e.options.freeInput=!1),c(e.options,"itemValue"),c(e.options,"itemText"),c(e.options,"tagClass"),e.options.source&&(h.source=e.options.source),h.source&&a.fn.typeahead&&(d(h,"source"),e.$input.typeahead({source:function(b,c){function d(a){for(var b=[],d=0;d<a.length;d++){var g=e.options.itemText(a[d]);f[g]=a[d],b.push(g)}c(b)}this.map={};var f=this.map,g=h.source(b);a.isFunction(g.success)?g.success(d):a.when(g).then(d)},updater:function(a){e.add(this.map[a])},matcher:function(a){return a.toLowerCase().indexOf(this.query.trim().toLowerCase())!==-1},sorter:function(a){return a.sort()},highlighter:function(a){var b=new RegExp("("+this.query+")","gi");return a.replace(b,"<strong>$1</strong>")}})),e.$container.on("click",a.proxy(function(a){e.$input.focus()},e)),e.$container.on("keydown","input",a.proxy(function(b){var c=a(b.target),d=e.findInputWrapper();switch(b.which){case 8:if(0===f(c[0])){var g=d.prev();g&&e.remove(g.data("item"))}break;case 46:if(0===f(c[0])){var h=d.next();h&&e.remove(h.data("item"))}break;case 37:var i=d.prev();0===c.val().length&&i[0]&&(i.before(d),c.focus());break;case 39:var j=d.next();0===c.val().length&&j[0]&&(j.after(d),c.focus());break;default:e.options.freeInput&&a.inArray(b.which,e.options.confirmKeys)>=0&&(e.add(c.val()),c.val(""),b.preventDefault())}c.attr("size",Math.max(this.inputSize,c.val().length))},e)),e.$container.on("click","[data-role=remove]",a.proxy(function(b){e.remove(a(b.target).closest(".tag").data("item"))},e)),e.options.itemValue===g.itemValue&&("INPUT"===e.$element[0].tagName?e.add(e.$element.val()):a("option",e.$element).each(function(){e.add(a(this).attr("value"),!0)}))},destroy:function(){var a=this;a.$container.off("keypress","input"),a.$container.off("click","[role=remove]"),a.$container.remove(),a.$element.removeData("tagsinput"),a.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var b=this.$input[0],c=this.$container[0];b&&b.parentNode!==c;)b=b.parentNode;return a(b)}},a.fn.tagsinput=function(c,d){var e=[];return this.each(function(){var f=a(this).data("tagsinput");if(f){var g=f[c](d);void 0!==g&&e.push(g)}else f=new b(this,c),a(this).data("tagsinput",f),e.push(f),"SELECT"===this.tagName&&a("option",a(this)).attr("selected","selected"),a(this).val(a(this).val())}),"string"==typeof c?e.length>1?e:e[0]:e},a.fn.tagsinput.Constructor=b;var h=a("<div />");a(function(){a("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery)}(this),d()}),function(){var a=System.amdDefine;a("app/core/directives/tags.js",["angular","jquery","../core_module","bootstrap-tagsinput"],function(a,b,c){"use strict";function d(a){for(var b=5381,c=0;c<a.length;c++)b=(b<<5)+b+a.charCodeAt(c);return b}function e(a,b){var c=d(a.toLowerCase()),e=["#E24D42","#1F78C1","#BA43A9","#705DA0","#466803","#508642","#447EBC","#C15C17","#890F02","#757575","#0A437C","#6D1F62","#584477","#629E51","#2F4F4F","#BF1B00","#806EB7","#8a2eb8","#699e00","#000000","#3F6833","#2F575E","#99440A","#E0752D","#0E4AB4","#58140C","#052B51","#511749","#3F2B5B"],f=["#FF7368","#459EE7","#E069CF","#9683C6","#6C8E29","#76AC68","#6AA4E2","#E7823D","#AF3528","#9B9B9B","#3069A2","#934588","#7E6A9D","#88C477","#557575","#E54126","#A694DD","#B054DE","#8FC426","#262626","#658E59","#557D84","#BF6A30","#FF9B53","#3470DA","#7E3A32","#2B5177","#773D6F","#655181"],g=e[Math.abs(c%e.length)],h=f[Math.abs(c%f.length)];b.css("background-color",g),b.css("border-color",h)}c["default"].directive("tagColorFromName",function(){return{scope:{tagColorFromName:"="},link:function(a,b){e(a.tagColorFromName,b)}}}),c["default"].directive("bootstrapTagsinput",function(){function c(b,c){if(c)return a.isFunction(b.$parent[c])?b.$parent[c]:function(a){return a[c]}}return{restrict:"EA",scope:{model:"=ngModel",onTagsUpdated:"&"},template:"<select multiple></select>",replace:!1,link:function(d,f,g){a.isArray(d.model)||(d.model=[]);var h=b("select",f);g.placeholder&&h.attr("placeholder",g.placeholder),h.tagsinput({typeahead:{source:a.isFunction(d.$parent[g.typeaheadSource])?d.$parent[g.typeaheadSource]:null},itemValue:c(d,g.itemvalue),itemText:c(d,g.itemtext),tagClass:a.isFunction(d.$parent[g.tagclass])?d.$parent[g.tagclass]:function(){return g.tagclass}}),h.on("itemAdded",function(a){d.model.indexOf(a.item)===-1&&(d.model.push(a.item),d.onTagsUpdated&&d.onTagsUpdated());var c=h.next().children("span").filter(function(){return b(this).text()===a.item});e(a.item,c)}),h.on("itemRemoved",function(a){var b=d.model.indexOf(a.item);b!==-1&&(d.model.splice(b,1),d.onTagsUpdated&&d.onTagsUpdated())}),d.$watch("model",function(){a.isArray(d.model)||(d.model=[]),h.tagsinput("removeAll");for(var b=0;b<d.model.length;b++)h.tagsinput("add",d.model[b])},!0)}}})})}(),function(){var a=System.amdDefine;a("app/core/directives/value_select_dropdown.js",["angular","lodash","../core_module"],function(a,b,c){"use strict";c["default"].controller("ValueSelectDropdownCtrl",["$q",function(a){var c=this;c.show=function(){c.oldVariableText=c.variable.current.text,c.highlightIndex=-1,c.options=c.variable.options,c.selectedValues=b.filter(c.options,{selected:!0}),c.tags=b.map(c.variable.tags,function(a){var d={text:a,selected:!1};return b.each(c.variable.current.tags,function(b){b.text===a&&(d=b)}),d}),c.search={query:"",options:c.options.slice(0,Math.min(c.options.length,1e3))},c.dropdownVisible=!0},c.updateLinkText=function(){var a=c.variable.current;if(a.tags&&a.tags.length){var d=b.filter(c.variable.options,function(c){if(!c.selected)return!1;for(var d=0;d<a.tags.length;d++){var e=a.tags[d];if(b.indexOf(e.values,c.value)!==-1)return!1}return!0}),e=b.pluck(d,"text");c.linkText=e.join(" + "),c.linkText.length>0&&(c.linkText+=" + ")}else c.linkText=c.variable.current.text},c.clearSelections=function(){b.each(c.options,function(a){a.selected=!1}),c.selectionsChanged(!1)},c.selectTag=function(d){d.selected=!d.selected;var e;e=d.values?a.when(d.values):c.getValuesForTag({tagKey:d.text}),e.then(function(a){d.values=a,d.valuesText=a.join(" + "),b.each(c.options,function(a){b.indexOf(d.values,a.value)!==-1&&(a.selected=d.selected)}),c.selectionsChanged(!1)})},c.keyDown=function(a){27===a.keyCode&&c.hide(),40===a.keyCode&&c.moveHighlight(1),38===a.keyCode&&c.moveHighlight(-1),13===a.keyCode&&(0===c.search.options.length?c.commitChanges():c.selectValue(c.search.options[c.highlightIndex],{},!0,!1)),32===a.keyCode&&c.selectValue(c.search.options[c.highlightIndex],{},!1,!1)},c.moveHighlight=function(a){c.highlightIndex=(c.highlightIndex+a)%c.search.options.length},c.selectValue=function(a,d,e,f){if(a){a.selected=!a.selected,e=e||!1,f=f||!1;var g=function(d){b.each(c.options,function(b){a!==b&&(b.selected=d)})};e&&(a.selected=!0),"All"===a.text||f?(g(!1),e=!0):c.variable.multi?(d.ctrlKey||d.metaKey||d.shiftKey)&&(e=!0,g(!1)):(g(!1),e=!0),c.selectionsChanged(e)}},c.selectionsChanged=function(a){c.selectedValues=b.filter(c.options,{selected:!0}),c.selectedValues.length>1&&"All"===c.selectedValues[0].text&&(c.selectedValues[0].selected=!1,c.selectedValues=c.selectedValues.slice(1,c.selectedValues.length)),b.each(c.tags,function(a){a.selected&&b.each(a.values,function(d){b.findWhere(c.selectedValues,{value:d})||(a.selected=!1)})}),c.selectedTags=b.filter(c.tags,{selected:!0}),c.variable.current.value=b.pluck(c.selectedValues,"value"),c.variable.current.text=b.pluck(c.selectedValues,"text").join(" + "),c.variable.current.tags=c.selectedTags,c.variable.multi||(c.variable.current.value=c.selectedValues[0].value),a&&c.commitChanges()},c.commitChanges=function(){0===c.search.options.length&&c.search.query.length>0?c.variable.current={text:c.search.query,value:c.search.query}:0===c.selectedValues.length&&(c.options[0].selected=!0,c.selectionsChanged(!1)),c.dropdownVisible=!1,c.updateLinkText(),c.variable.current.text!==c.oldVariableText&&c.onUpdated()},c.queryChanged=function(){c.highlightIndex=-1,c.search.options=b.filter(c.options,function(a){return a.text.toLowerCase().indexOf(c.search.query.toLowerCase())!==-1}),c.search.options=c.search.options.slice(0,Math.min(c.search.options.length,1e3))},c.init=function(){c.selectedTags=c.variable.current.tags||[],c.updateLinkText()}}]),c["default"].directive("valueSelectDropdown",["$compile","$window","$timeout","$rootScope",function(b,c,d,e){
return{scope:{variable:"=",onUpdated:"&",getValuesForTag:"&"},templateUrl:"public/app/partials/valueSelectDropdown.html",controller:"ValueSelectDropdownCtrl",controllerAs:"vm",bindToController:!0,link:function(b,f){function g(){l.css("width",Math.max(k.width(),30)+"px"),l.show(),k.hide(),l.focus(),d(function(){j.on("click",i)},0,!1)}function h(){l.hide(),k.show(),j.off("click",i)}function i(a){0===f.has(a.target).length&&b.$apply(function(){b.vm.commitChanges()})}var j=a.element(c.document.body),k=f.find(".variable-value-link"),l=f.find("input");b.$watch("vm.dropdownVisible",function(a){a?g():h()});var m=e.$on("template-variable-value-updated",function(){b.vm.updateLinkText()});b.$on("$destroy",function(){m()}),b.vm.init()}}}])})}(),System.register("app/plugins/panel/unknown/module.js",["app/plugins/sdk"],function(a){var b,c,d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};return{setters:[function(a){b=a}],execute:function(){c=function(a){function b(b,c){a.call(this,b,c)}return d(b,a),b.$inject=["$scope","$injector"],b.templateUrl="public/app/plugins/panel/unknown/module.html",b}(b.PanelCtrl),a("UnknownPanelCtrl",c)}}}),System.register("app/core/directives/plugin_component.js",["angular","lodash","app/core/config","app/core/core_module","app/plugins/panel/unknown/module"],function(a){function b(a,b,h,i,j,k){function l(a){if(a.template)return i.when(a.template);var b=k.get(a.templateUrl);return b?i.when(b):j.get(a.templateUrl).then(function(a){return a.data})}function m(a,b){if(a)return 0===a.indexOf("public")?a:b+"/"+a}function n(a){return a.Component.templateUrl=m(a.Component.templateUrl,a.baseUrl),function(){return{templateUrl:a.Component.templateUrl,template:a.Component.template,restrict:"E",controller:a.Component,controllerAs:"ctrl",bindToController:!0,scope:a.bindings,link:function(a,b,c,d){d.link&&d.link(a,b,c,d),d.init&&d.init()}}}}function o(a,b){var c={name:"panel-plugin-"+a.panel.type,bindings:{dashboard:"=",panel:"=",row:"="},attrs:{dashboard:"dashboard",panel:"panel",row:"row"}},d=("panel-"+a.panel.type,e["default"].panels[a.panel.type]),f=Promise.resolve(g.UnknownPanelCtrl);return d&&(f=System["import"](d.module).then(function(a){return a.PanelCtrl})),f.then(function(a){return c.Component=a,!a||a.registered?c:a.templatePromise?a.templatePromise.then(function(a){return c}):(d&&(a.templateUrl=m(a.templateUrl,d.baseUrl)),a.templatePromise=l(a).then(function(b){return a.templateUrl=null,a.template='<grafana-panel ctrl="ctrl">'+b+"</grafana-panel>",c}),a.templatePromise)})}function p(a,c){switch(c.type){case"query-ctrl":var d=a.target.datasource||a.ctrl.panel.datasource;return b.get(d).then(function(b){return a.datasource=b,System["import"](b.meta.module).then(function(a){return{baseUrl:b.meta.baseUrl,name:"query-ctrl-"+b.meta.id,bindings:{target:"=",panelCtrl:"=",datasource:"="},attrs:{target:"target","panel-ctrl":"ctrl",datasource:"datasource"},Component:a.QueryCtrl}})});case"query-options-ctrl":return b.get(a.ctrl.panel.datasource).then(function(a){return System["import"](a.meta.module).then(function(b){return b.QueryOptionsCtrl?{baseUrl:a.meta.baseUrl,name:"query-options-ctrl-"+a.meta.id,bindings:{panelCtrl:"="},attrs:{"panel-ctrl":"ctrl"},Component:b.QueryOptionsCtrl}:{notFound:!0}})});case"annotations-query-ctrl":return System["import"](a.currentDatasource.meta.module).then(function(b){return{baseUrl:a.currentDatasource.meta.baseUrl,name:"annotations-query-ctrl-"+a.currentDatasource.meta.id,bindings:{annotation:"=",datasource:"="},attrs:{annotation:"currentAnnotation",datasource:"currentDatasource"},Component:b.AnnotationsQueryCtrl}});case"datasource-config-ctrl":var e=a.ctrl.datasourceMeta;return System["import"](e.module).then(function(a){return a.ConfigCtrl?{baseUrl:e.baseUrl,name:"ds-config-"+e.id,bindings:{meta:"=",current:"="},attrs:{meta:"ctrl.datasourceMeta",current:"ctrl.current"},Component:a.ConfigCtrl}:{notFound:!0}});case"app-config-ctrl":var f=a.ctrl.model;return System["import"](f.module).then(function(a){return{baseUrl:f.baseUrl,name:"app-config-"+f.id,bindings:{appModel:"=",appEditCtrl:"="},attrs:{"app-model":"ctrl.model","app-edit-ctrl":"ctrl"},Component:a.ConfigCtrl}});case"app-page":var g=a.ctrl.appModel;return System["import"](g.module).then(function(b){return{baseUrl:g.baseUrl,name:"app-page-"+g.appId+"-"+a.ctrl.page.slug,bindings:{appModel:"="},attrs:{"app-model":"ctrl.appModel"},Component:b[a.ctrl.page.component]}});case"panel":return o(a,c);default:return i.reject({message:"Could not find component type: "+c.type})}}function q(b,e,f){var g=c["default"].element(document.createElement(f.name));d["default"].each(f.attrs,function(a,b){g.attr(b,a)}),a(g)(b),e.empty(),setTimeout(function(){e.append(g),b.$applyAsync(function(){b.$broadcast("refresh")})})}function r(a,b,c,d){if(d.notFound)return void b.empty();if(!d.Component)throw{message:"Failed to find exported plugin component for "+d.name};if(!d.Component.registered){var e=c.$normalize(d.name),g=n(d);f["default"].directive(e,g),d.Component.registered=!0}q(a,b,d)}return{restrict:"E",link:function(a,b,c){p(a,c).then(function(d){r(a,b,c,d)})["catch"](function(a){h.appEvent("alert-error",["Plugin Error",a.message||a]),console.log("Plugin component error",a)})}}}b.$inject=["$compile","datasourceSrv","$rootScope","$q","$http","$templateCache"];var c,d,e,f,g;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a}],execute:function(){f["default"].directive("pluginComponent",b)}}}),System.register("app/core/directives/rebuild_on_change.js",["jquery","../core_module"],function(a){function b(a){for(var b,c=a[0],e=a[a.length-1],f=1;c!==e&&(c=c.nextSibling);f++)(b||a[f]!==c)&&(b||(b=d["default"]([].slice.call(a,0,f))),b.push(c));return b||a}function c(a){return{multiElement:!0,terminal:!0,transclude:!0,priority:600,restrict:"E",link:function(c,d,e,f,g){function h(){k&&(k.remove(),k=null),j&&(j.$destroy(),j=null),i&&(k=b(i.clone),a.leave(k).then(function(){k=null}),i=null)}var i,j,k;c.$watch(e.property,function(b,c){j&&b!==c&&h(),j||!b&&!e.showNull?h():g(function(b,c){j=c,b[b.length++]=document.createComment(" end rebuild on change "),i={clone:b},a.enter(b,d.parent(),d)})})}}}c.$inject=["$animate"];var d,e;return{setters:[function(a){d=a},function(a){e=a}],execute:function(){e["default"].directive("rebuildOnChange",c)}}}),System.register("app/core/directives/give_focus.js",["../core_module"],function(a){var b;return{setters:[function(a){b=a}],execute:function(){b["default"].directive("giveFocus",function(){return function(a,b,c){b.click(function(a){a.stopPropagation()}),a.$watch(c.giveFocus,function(a){a&&setTimeout(function(){b.focus();var a=b[0];if(a.setSelectionRange){var c=2*b.val().length;a.setSelectionRange(c,c)}},200)},!0)}}),a("default",{})}}}),function(){var a=System.amdDefine;a("app/core/jquery_extended.js",["jquery","angular","lodash"],function(a,b,c){"use strict";var d=a(window);return a.fn.place_tt=function(){var e={offset:5};return function(f,g,h){return h=a.extend(!0,{},e,h),this.each(function(){var e,i,j=a(this);j.addClass("grafana-tooltip"),a("#tooltip").remove(),j.appendTo(document.body),h.compile&&b.element(document).injector().invoke(["$compile","$rootScope",function(a,b){var d=b.$new(!0);c.extend(d,h.scopeData),a(j)(d),d.$digest(),d.$destroy()}]),e=j.outerWidth(!0),i=j.outerHeight(!0),j.css("left",f+h.offset+e>d.width()?f-h.offset-e:f+h.offset),j.css("top",g+h.offset+i>d.height()?g-h.offset-i:g+h.offset)})}}(),a})}(),function(){var a=System.amdDefine;a("app/core/partials.js",["app/core/core_module"],function(a){a["default"].run(["$templateCache",function(a){"use strict";a.put("public/app/core/components/navbar/navbar.html",'<div class="navbar-inner"><a class="navbar-brand-btn pointer" ng-click="ctrl.contextSrv.toggleSideMenu()"><span class="navbar-brand-btn-background"><img src="public/img/grafana_icon.svg"></span><i class="icon-gf icon-gf-grafana_wordmark"></i> <i class="fa fa-caret-down"></i> <i class="fa fa-chevron-left"></i> </a><a href="{{ctrl.titleUrl}}" class="navbar-page-btn" ng-show="ctrl.title"><i class="{{ctrl.icon}}" ng-show="ctrl.icon"></i> <img ng-src="{{ctrl.iconUrl}}" ng-show="ctrl.iconUrl">{{ctrl.title}}</a><div ng-transclude></div></div>'),a.put("public/app/core/components/search/search.html",'<div class="search-container" ng-if="ctrl.isOpen"><div class="search-field-wrapper"><span style="position: relative"><input type="text" placeholder="Find dashboards by name" give-focus="ctrl.giveSearchFocus" tabindex="1" ng-keydown="ctrl.keyDown($event)" ng-model="ctrl.query.query" ng-model-options="{ debounce: 500 }" spellcheck="false" ng-change="ctrl.search()"></span><div class="search-switches"><i class="fa fa-filter"></i> <a class="pointer" href="javascript:void 0;" ng-click="ctrl.showStarred()" tabindex="2"><i class="fa fa-remove" ng-show="ctrl.query.starred"></i> starred </a>| <a class="pointer" href="javascript:void 0;" ng-click="ctrl.getTags()" tabindex="3"><i class="fa fa-remove" ng-show="ctrl.tagsMode"></i> tags </a><span ng-if="ctrl.query.tag.length">| <span ng-repeat="tagName in ctrl.query.tag"><a ng-click="ctrl.removeTag(tagName, $event)" tag-color-from-name="tagName" class="label label-tag"><i class="fa fa-remove"></i> {{tagName}}</a></span></span></div></div><div class="search-results-container" ng-if="ctrl.tagsMode"><div class="row"><div class="span6 offset1"><div ng-repeat="tag in ctrl.results" class="pointer" style="width: 180px; float: left" ng-class="{\'selected\': $index === ctrl.selectedIndex }" ng-click="ctrl.filterByTag(tag.term, $event)"><a class="search-result-tag label label-tag" tag-color-from-name="tag.term"><i class="fa fa-tag"></i> <span>{{tag.term}} &nbsp;({{tag.count}})</span></a></div></div></div></div><div class="search-results-container" ng-if="!ctrl.tagsMode"><h6 ng-hide="ctrl.results.length">No dashboards matching your query were found.</h6><a class="search-item pointer search-item-{{row.type}}" bindonce ng-repeat="row in ctrl.results" ng-class="{\'selected\': $index == ctrl.selectedIndex}" ng-href="{{row.url}}"><span class="search-result-tags"><span ng-click="ctrl.filterByTag(tag, $event)" ng-repeat="tag in row.tags" tag-color-from-name="tag" class="label label-tag">{{tag}} </span><i class="fa" ng-class="{\'fa-star\': row.isStarred, \'fa-star-o\': !row.isStarred}"></i> </span><span class="search-result-link"><i class="fa search-result-icon"></i> <span bo-text="row.title"></span></span></a></div><div class="search-button-row"><a class="btn btn-inverse pull-left" href="dashboard/new" ng-show="ctrl.contextSrv.isEditor" ng-click="ctrl.isOpen = false;"><i class="fa fa-plus"></i> Create New </a><a class="btn btn-inverse pull-left" href="dashboard/new/?editview=import" ng-show="ctrl.contextSrv.isEditor" ng-click="ctrl.isOpen = false;"><i class="fa fa-upload"></i> Import </a><a class="pull-right search-button-row-explore-link" target="_blank" href="https://grafana.net/dashboards?utm_source=grafana_search">Find dashboards on</a><div class="clearfix"></div></div></div>'),a.put("public/app/core/components/sidemenu/sidemenu.html",'<ul class="sidemenu"><li class="sidemenu-org-section" ng-if="::ctrl.isSignedIn" class="dropdown"><a class="sidemenu-org" href="profile"><div class="sidemenu-org-avatar"><img ng-src="{{::ctrl.user.gravatarUrl}}"> <span class="sidemenu-org-avatar--missing"><i class="fa fa-fw fa-user"></i></span></div><div class="sidemenu-org-details"><span class="sidemenu-org-user sidemenu-item-text">{{::ctrl.user.name}}</span> <span class="sidemenu-org-name sidemenu-item-text">{{::ctrl.user.orgName}}</span></div></a><i class="fa fa-caret-right"></i><ul class="dropdown-menu" role="menu"><li ng-repeat="menuItem in ctrl.orgMenu" ng-class="::menuItem.cssClass"><span ng-show="::menuItem.section">{{::menuItem.section}}</span> <a href="{{::menuItem.url}}" ng-show="::menuItem.url" target="{{::menuItem.target}}"><i class="{{::menuItem.icon}}" ng-show="::menuItem.icon"></i> {{::menuItem.text}}</a></li></ul></li><li ng-repeat="item in ::ctrl.mainLinks" class="dropdown"><a href="{{::item.url}}" class="sidemenu-item sidemenu-main-link" target="{{::item.target}}"><span class="icon-circle sidemenu-icon"><i class="{{::item.icon}}" ng-show="::item.icon"></i> <img ng-src="{{::item.img}}" ng-show="::item.img"> </span><span class="sidemenu-item-text">{{::item.text}}</span> <span class="fa fa-caret-right" ng-if="::item.children"></span></a><ul class="dropdown-menu" role="menu" ng-if="::item.children"><li ng-repeat="child in ::item.children" ng-class="{divider: child.divider}"><a href="{{::child.url}}"><i class="{{::child.icon}}" ng-show="::child.icon"></i> {{::child.text}}</a></li></ul></li><li ng-show="::!ctrl.isSignedIn"><a href="{{ctrl.loginUrl}}" class="sidemenu-item" target="_self"><span class="icon-circle sidemenu-icon"><i class="fa fa-fw fa-sign-in"></i></span> <span class="sidemenu-item-text">Sign in</span></a></li><li><a class="sidemenu-item" target="_self" ng-hide="ctrl.contextSrv.pinned" ng-click="ctrl.contextSrv.setPinnedState(true)"><span class="icon-circle sidemenu-icon"><i class="fa fa-fw fa-thumb-tack"></i></span> <span class="sidemenu-item-text">Pin</span></a></li></ul>'),a.put("public/app/core/components/wizard/wizard.html",'<div class="modal-body"><div class="modal-header"><h2 class="modal-header-title"><i class="fa fa-cog fa-spin"></i> <span class="p-l-1">{{model.name}}</span></h2><a class="modal-header-close" ng-click="dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content"><div ng-if="activeStep"></div></div></div>'),a.put("public/app/features/admin/partials/admin_home.html",'<navbar icon="fa fa-fw fa-cogs" title="Admin" title-url="admin"></navbar><div class="page-container"><div class="page-header"><h1>Server Administration</h1></div><a class="btn btn-inverse" href="admin/users">Manage Users </a><a class="btn btn-inverse" href="admin/orgs">Manage Organizations </a><a class="btn btn-inverse" href="admin/settings">View Server Settings </a><a class="btn btn-inverse" href="admin/stats">View Server Stats </a><a class="btn btn-inverse" href="styleguide">Style guide</a></div>'),a.put("public/app/features/admin/partials/edit_org.html",'<navbar icon="fa fa-fw fa-cogs" title="Admin" title-url="admin"><a href="admin/orgs" class="navbar-page-btn"><i class="icon-gf icon-gf-users"></i> Orgs</a></navbar><div class="page-container"><div class="page-header"><h1>Edit Organization</h1></div><form name="orgDetailsForm" class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-10">Name</span> <input type="text" required ng-model="org.name" class="gf-form-input max-width-14"></div><div class="gf-form-button-row"><button type="submit" class="btn btn-success" ng-click="update()" ng-show="!createMode">Update</button></div></form><h3 class="page-heading">Organization Users</h3><table class="grafana-options-table"><tr><th>Username</th><th>Email</th><th>Role</th><th></th></tr><tr ng-repeat="orgUser in orgUsers"><td>{{orgUser.login}}</td><td>{{orgUser.email}}</td><td><select type="text" ng-model="orgUser.role" class="gf-form-input max-width-8" ng-options="f for f in [\'Viewer\', \'Editor\', \'Read Only Editor\', \'Admin\']" ng-change="updateOrgUser(orgUser)"></select></td><td style="width: 1%"><a ng-click="removeOrgUser(orgUser)" class="btn btn-danger btn-mini"><i class="fa fa-remove"></i></a></td></tr></table></div>'),a.put("public/app/features/admin/partials/edit_user.html",'<navbar icon="fa fa-fw fa-cogs" title="Admin" title-url="admin"><a href="admin/users" class="navbar-page-btn"><i class="icon-gf icon-gf-users"></i> Users</a></navbar><div class="page-container"><div class="page-header"><h1>Edit User</h1></div><form name="userForm" class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-10">Name</span> <input type="text" required ng-model="user.name" class="gf-form-input max-width-25"></div><div class="gf-form"><span class="gf-form-label width-10">Email</span> <input type="email" ng-model="user.email" class="gf-form-input max-width-25"></div><div class="gf-form"><span class="gf-form-label width-10">Username</span> <input type="text" ng-model="user.login" class="gf-form-input max-width-25"></div><div class="gf-form-button-row"><button type="submit" class="btn btn-success" ng-click="update()" ng-show="!createMode">Update</button></div></form><h3 class="page-heading">Change password</h3><form name="passwordForm" class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-10">New password</span> <input type="password" required ng-minlength="4" ng-model="password" class="gf-form-input max-width-25"></div><div class="gf-form-button-row"><button type="submit" class="btn btn-success" ng-click="setPassword()">Update</button></div></form><h3 class="page-heading">Permissions</h3><form name="passwordForm" class="gf-form-group"><div class="gf-form"><editor-checkbox text="Grafana Admin" model="permissions.isGrafanaAdmin" style="line-height: 1.5rem"></editor-checkbox></div><div class="gf-form-button-row"><button type="submit" class="btn btn-success" ng-click="updatePermissions()">Update</button></div></form><h3 class="page-heading">Organizations</h3><form name="addOrgForm" class="gf-form-group"><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-12">Add organization</span> <input type="text" ng-model="newOrg.name" bs-typeahead="searchOrgs" required class="gf-form-input max-width-20" placeholder="organization name"></div><div class="gf-form"><span class="gf-form-label">Role</span><select type="text" ng-model="newOrg.role" class="gf-form-input width-10" ng-options="f for f in [\'Viewer\', \'Editor\', \'Read Only Editor\', \'Admin\']"></select></div><div class="gf-form"><button class="btn btn-success gf-form-btn" ng-click="addOrgUser()">Add</button></div></div></form><table class="grafana-options-table"><tr><th>Name</th><th>Role</th><th></th></tr><tr ng-repeat="org in orgs"><td>{{org.name}} <span class="label label-info" ng-show="org.orgId === user.orgId">Current</span></td><td><select type="text" ng-model="org.role" class="gf-form-input max-width-12" ng-options="f for f in [\'Viewer\', \'Editor\', \'Read Only Editor\', \'Admin\']" ng-change="updateOrgUser(org)"></select></td><td style="width: 1%"><a ng-click="removeOrgUser(org)" class="btn btn-danger btn-mini"><i class="fa fa-remove"></i></a></td></tr></table></div>'),a.put("public/app/features/admin/partials/new_user.html",'<navbar icon="fa fa-fw fa-cogs" title="Admin" title-url="admin"><a href="admin/users" class="navbar-page-btn"><i class="icon-gf icon-gf-users"></i> Users</a></navbar><div class="page-container"><div class="page-header"><h1>Add new user</h1></div><form name="userForm" class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-10">Name</span> <input type="text" required ng-model="user.name" class="gf-form-input max-width-20"></div><div class="gf-form"><span class="gf-form-label width-10">Email</span> <input type="email" ng-model="user.email" class="gf-form-input max-width-20"></div><div class="gf-form"><span class="gf-form-label width-10">Username</span> <input type="text" ng-model="user.login" class="gf-form-input max-width-20"></div><div class="gf-form"><span class="gf-form-label width-10">Password</span> <input type="password" required ng-model="user.password" class="gf-form-input max-width-20"></div><div class="gf-form-button-row"><button type="submit" class="btn btn-success" ng-click="create()">Create</button></div></form></div>'),a.put("public/app/features/admin/partials/orgs.html",'<navbar icon="fa fa-fw fa-cogs" title="Admin" title-url="admin"><a href="admin/orgs" class="navbar-page-btn"><i class="icon-gf icon-gf-users"></i> Orgs</a></navbar><div class="page-container"><div class="page-header"><h1>Organizations</h1></div><table class="filter-table form-inline"><thead><tr><th>Id</th><th>Name</th><th></th></tr></thead><tbody><tr ng-repeat="org in orgs"><td>{{org.id}}</td><td>{{org.name}}</td><td class="text-right"><a href="admin/orgs/edit/{{org.id}}" class="btn btn-inverse btn-small"><i class="fa fa-edit"></i> Edit </a>&nbsp;&nbsp; <a ng-click="deleteOrg(org)" class="btn btn-danger btn-small"><i class="fa fa-remove"></i></a></td></tr></tbody></table></div>'),a.put("public/app/features/admin/partials/settings.html",'<navbar icon="fa fa-fw fa-cogs" title="Admin" title-url="admin"></navbar><div class="page-container"><div class="page-header"><h1>Server settings</h1></div><div class="grafana-info-box span8" style="margin: 20px 0 25px 0">These system settings are defined in grafana.ini or grafana.custom.ini (or overriden in ENV variables). To change these you currently need to restart grafana.</div><table class="grafana-options-table"><tr ng-repeat-start="(secName, secValue) in settings"><td class="admin-settings-section">{{secName}}</td><td></td></tr><tr ng-repeat="(keyName, keyValue) in secValue" ng-repeat-end><td style="padding-left: 25px">{{keyName}}</td><td>{{keyValue}}</td></tr></table></div>'),a.put("public/app/features/admin/partials/stats.html",'<navbar icon="fa fa-fw fa-cogs" title="Admin" title-url="admin"></navbar><div class="page-container"><div class="page-header"><h1>Stats</h1></div><table class="filter-table form-inline"><thead><tr><th>Name</th><th>Value</th></tr></thead><tbody><tr><td>Total dashboards</td><td>{{ctrl.stats.dashboard_count}}</td></tr><tr><td>Total users</td><td>{{ctrl.stats.user_count}}</td></tr><tr><td>Total organizations</td><td>{{ctrl.stats.org_count}}</td></tr><tr><td>Total datasources</td><td>{{ctrl.stats.data_source_count}}</td></tr><tr><td>Total playlists</td><td>{{ctrl.stats.playlist_count}}</td></tr><tr><td>Total snapshots</td><td>{{ctrl.stats.db_snapshot_count}}</td></tr><tr><td>Total dashboard tags</td><td>{{ctrl.stats.db_tag_count}}</td></tr><tr><td>Total starred dashboards</td><td>{{ctrl.stats.starred_db_count}}</td></tr></tbody></table></div>'),a.put("public/app/features/admin/partials/users.html",'<navbar icon="fa fa-fw fa-cogs" title="Admin" title-url="admin"><a href="admin/users" class="navbar-page-btn"><i class="icon-gf icon-gf-users"></i> Users</a></navbar><div class="page-container"><div class="page-header"><h1>Users</h1><a class="btn btn-success" href="admin/users/create"><i class="fa fa-plus"></i> Add new user</a></div><table class="filter-table form-inline"><thead><tr><th>Id</th><th>Name</th><th>Login</th><th>Email</th><th style="white-space: nowrap">Grafana Admin</th><th></th></tr></thead><tbody><tr ng-repeat="user in users"><td>{{user.id}}</td><td>{{user.name}}</td><td>{{user.login}}</td><td>{{user.email}}</td><td>{{user.isAdmin}}</td><td class="text-right"><a href="admin/users/edit/{{user.id}}" class="btn btn-inverse btn-small"><i class="fa fa-edit"></i> Edit </a>&nbsp;&nbsp; <a ng-click="deleteUser(user)" class="btn btn-danger btn-small"><i class="fa fa-remove"></i></a></td></tr></tbody></table></div>'),a.put("public/app/features/annotations/partials/editor.html",'<div ng-controller="AnnotationsEditorCtrl" ng-init="init()"><div class="tabbed-view-header"><h2 class="tabbed-view-title">Annotations</h2><ul class="gf-tabs"><li class="gf-tabs-item"><a class="gf-tabs-link" ng-click="mode = \'list\';" ng-class="{active: mode === \'list\'}">List</a></li><li class="gf-tabs-item" ng-show="mode === \'edit\'"><a class="gf-tabs-link" ng-class="{active: mode === \'edit\'}">{{currentAnnotation.name}}</a></li><li class="gf-tabs-item" ng-show="mode === \'new\'"><span class="active gf-tabs-link">New</span></li></ul><button class="tabbed-view-close-btn" ng-click="dismiss();"><i class="fa fa-remove"></i></button></div><div class="tabbed-view-body"><div class="editor-row row" ng-if="mode === \'list\'"><div ng-if="annotations.length === 0"><em>No annotations defined</em></div><table class="grafana-options-table"><tr ng-repeat="annotation in annotations"><td style="width:90%"><i class="fa fa-bolt" style="color:{{annotation.iconColor}}"></i> &nbsp; {{annotation.name}}</td><td style="width: 1%"><i ng-click="_.move(annotations,$index,$index-1)" ng-hide="$first" class="pointer fa fa-arrow-up"></i></td><td style="width: 1%"><i ng-click="_.move(annotations,$index,$index+1)" ng-hide="$last" class="pointer fa fa-arrow-down"></i></td><td style="width: 1%"><a ng-click="edit(annotation)" class="btn btn-inverse btn-mini"><i class="fa fa-edit"></i> Edit</a></td><td style="width: 1%"><a ng-click="removeAnnotation(annotation)" class="btn btn-danger btn-mini"><i class="fa fa-remove"></i></a></td></tr></table></div><div class="gf-form" ng-show="mode === \'list\'"><div class="gf-form-button-row"><a type="button" class="btn gf-form-button btn-success" ng-click="mode = \'new\';"><i class="fa fa-plus"></i>&nbsp;&nbsp;New</a></div></div><div class="annotations-basic-settings" ng-if="mode === \'edit\' || mode === \'new\'"><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form gf-size-max-xxl"><span class="gf-form-label">Name</span> <input type="text" class="gf-form-input" ng-model="currentAnnotation.name" placeholder="name"></div><div class="gf-form"><span class="gf-form-label max-width-10">Datasource</span><div class="gf-form-select-wrapper"><select class="gf-form-input gf-size-auto" ng-model="currentAnnotation.datasource" ng-options="f.name as f.name for f in datasources" ng-change="datasourceChanged()"></select></div></div><div class="gf-form"><label class="gf-form-label"><span>Color</span></label><spectrum-picker class="gf-form-input" ng-model="currentAnnotation.iconColor"></spectrum-picker></div></div></div><rebuild-on-change property="currentDatasource"><plugin-component type="annotations-query-ctrl"></plugin-component></rebuild-on-change><div class="gf-form"><div class="gf-form-button-row p-y-0"><button ng-show="mode === \'new\'" type="button" class="btn gf-form-button btn-success" ng-click="add()">Add</button> <button ng-show="mode === \'edit\'" type="button" class="btn btn-success pull-left" ng-click="update()">Update</button></div></div></div></div></div>'),a.put("public/app/features/dashboard/dashnav/dashnav.html",'<navbar><a class="pointer navbar-page-btn" ng-if="::!dashboardMeta.isSnapshot" ng-click="openSearch()"><i class="icon-gf icon-gf-dashboard"></i> <span>{{dashboard.title}}</span> <i class="fa fa-caret-down"></i> </a><a class="pointer navbar-page-btn" ng-if="::dashboardMeta.isSnapshot" bs-tooltip="titleTooltip" data-placement="bottom" ng-click="openSearch()"><i class="icon-gf icon-gf-snapshot"></i> <span>{{dashboard.title}} <em class="small">&nbsp;&nbsp;(snapshot)</em></span></a><ul class="nav pull-left dashnav-action-icons"><li ng-show="::dashboardMeta.canStar"><a class="pointer" ng-click="starDashboard()"><i class="fa" ng-class="{\'fa-star-o\': !dashboardMeta.isStarred, \'fa-star\': dashboardMeta.isStarred}" style="color: orange"></i></a></li><li ng-show="::dashboardMeta.canShare" class="dropdown"><a class="pointer" ng-click="hideTooltip($event)" bs-tooltip="\'Share dashboard\'" data-placement="bottom" data-toggle="dropdown"><i class="fa fa-share-square-o"></i></a><ul class="dropdown-menu"><li><a class="pointer" ng-click="shareDashboard(0)"><i class="fa fa-link"></i> Link to Dashboard<div class="dropdown-desc">Share an internal link to the current dashboard. Some configuration options available.</div></a></li><li><a class="pointer" ng-click="shareDashboard(1)"><i class="icon-gf icon-gf-snapshot"></i>Snapshot<div class="dropdown-desc">Interactive, publically accessible dashboard. Sensitive data is stripped out.</div></a></li><li><a class="pointer" ng-click="shareDashboard(2)"><i class="fa fa-cloud-upload"></i>Export<div class="dropdown-desc">Export the dashboard to a JSON file for others and to share on Grafana.net</div></a></li></ul></li><li ng-show="::dashboardMeta.canSave"><a ng-click="saveDashboard()" bs-tooltip="\'Save dashboard <br> CTRL+S\'" data-placement="bottom"><i class="fa fa-save"></i></a></li><li ng-if="::showSettingsMenu" class="dropdown"><a class="pointer" ng-click="hideTooltip($event)" bs-tooltip="\'Manage dashboard\'" data-placement="bottom" data-toggle="dropdown"><i class="fa fa-cog"></i></a><ul class="dropdown-menu"><li ng-if="dashboardMeta.canEdit"><a class="pointer" ng-click="openEditView(\'settings\');">Settings</a></li><li ng-if="dashboardMeta.canEdit"><a class="pointer" ng-click="openEditView(\'annotations\');">Annotations</a></li><li ng-if="dashboardMeta.canEdit"><a class="pointer" ng-click="openEditView(\'templating\');">Templating</a></li><li ng-if="dashboardMeta.canEdit"><a class="pointer" ng-click="viewJson();">View JSON</a></li><li ng-if="contextSrv.isEditor && !dashboard.editable"><a class="pointer" ng-click="makeEditable();">Make Editable</a></li><li ng-if="contextSrv.isEditor"><a class="pointer" ng-click="saveDashboardAs();">Save As...</a></li><li ng-if="dashboardMeta.canSave"><a class="pointer" ng-click="deleteDashboard();">Delete dashboard</a></li></ul></li></ul><ul class="nav dash-playlist-actions" ng-if="playlistSrv"><li><a ng-click="playlistSrv.prev()"><i class="fa fa-step-backward"></i></a></li><li><a ng-click="playlistSrv.stop()"><i class="fa fa-stop"></i></a></li><li><a ng-click="playlistSrv.next()"><i class="fa fa-step-forward"></i></a></li></ul><ul class="nav pull-right"><li ng-show="dashboard.meta.fullscreen" class="dashnav-back-to-dashboard"><a ng-click="exitFullscreen()">Back to dashboard</a></li><li ng-if="dashboard"><gf-time-picker dashboard="dashboard"></gf-time-picker></li></ul></navbar>'),a.put("public/app/features/dashboard/export/export_modal.html",'<div class="share-modal-header"><div class="share-modal-big-icon"><i class="fa fa-cloud-upload"></i></div><div><p class="share-modal-info-text">Export the dashboard to a JSON file. The exporter will templatize the dashboard\'s data sources to make it easy for other\'s to to import and reuse. You can share dashboards on <a class="external-link" href="https://grafana.net">Grafana.net</a></p><div class="gf-form-button-row"><button type="button" class="btn gf-form-btn width-10 btn-success" ng-click="ctrl.save()"><i class="fa fa-save"></i> Save to file</button> <button type="button" class="btn gf-form-btn width-10 btn-secondary" ng-click="ctrl.saveJson()"><i class="fa fa-file-text-o"></i> View JSON</button> <a class="btn btn-link" ng-click="dismiss()">Cancel</a></div></div></div>'),a.put("public/app/features/dashboard/import/dash_import.html",'<div class="modal-body"><div class="modal-header"><h2 class="modal-header-title"><i class="fa fa-upload"></i> <span class="p-l-1">Import Dashboard</span></h2><a class="modal-header-close" ng-click="dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content" ng-cloak><div ng-if="ctrl.step === 1"><form class="gf-form-group"><dash-upload on-upload="ctrl.onUpload(dash)"></dash-upload></form><h5 class="section-heading">Grafana.net Dashboard</h5><div class="gf-form-group"><div class="gf-form"><input type="text" class="gf-form-input" ng-model="ctrl.gnetUrl" placeholder="Paste Grafana.net dashboard url or id" ng-blur="ctrl.checkGnetDashboard()"></div><div class="gf-form" ng-if="ctrl.gnetError"><label class="gf-form-label text-warning"><i class="fa fa-warning"></i> {{ctrl.gnetError}}</label></div></div><h5 class="section-heading">Or paste JSON</h5><div class="gf-form-group"><div class="gf-form"><textarea rows="7" data-share-panel-url="" class="gf-form-input" ng-ctrl="ctrl.jsonText"></textarea></div><button type="button" class="btn btn-secondary" ng-click="ctrl.loadJsonText()"><i class="fa fa-paste"></i> Load</button> <span ng-if="ctrl.parseError" class="text-error p-l-1"><i class="fa fa-warning"></i> {{ctrl.parseError}}</span></div></div><div ng-if="ctrl.step === 2"><div class="gf-form-group" ng-if="ctrl.dash.gnetId"><h3 class="section-heading">Importing Dashboard from <a href="https://grafana.net/dashboards/{{ctrl.dash.gnetId}}" class="external-link" target="_blank">Grafana.net</a></h3><div class="gf-form"><label class="gf-form-label width-15">Published by</label><label class="gf-form-label width-15">{{ctrl.gnetInfo.orgName}}</label></div><div class="gf-form"><label class="gf-form-label width-15">Updated on</label><label class="gf-form-label width-15">{{ctrl.gnetInfo.updatedAt | date : \'yyyy-MM-dd HH:mm:ss\'}}</label></div></div><h3 class="section-heading">Options</h3><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form gf-form--grow"><label class="gf-form-label width-15">Name</label><input type="text" class="gf-form-input" ng-model="ctrl.dash.title" give-focus="true" ng-change="ctrl.titleChanged()" ng-class="{\'validation-error\': ctrl.nameExists}"><label class="gf-form-label text-success" ng-if="!ctrl.nameExists"><i class="fa fa-check"></i></label></div></div><div class="gf-form-inline" ng-if="ctrl.nameExists"><div class="gf-form offset-width-15 gf-form--grow"><label class="gf-form-label text-warning gf-form-label--grow"><i class="fa fa-warning"></i> A Dashboard with the same name already exists</label></div></div><div ng-repeat="input in ctrl.inputs"><div class="gf-form"><label class="gf-form-label width-15">{{input.label}}<info-popover mode="right-normal">{{input.info}}</info-popover></label><div class="gf-form-select-wrapper" style="width: 100%" ng-if="input.type === \'datasource\'"><select class="gf-form-input" ng-model="input.value" ng-options="v.value as v.text for v in input.options" ng-change="ctrl.inputValueChanged()"><option value="" ng-hide="input.value">{{input.info}}</option></select></div><input ng-if="input.type === \'constant\'" type="text" class="gf-form-input" ng-model="input.value" placeholder="{{input.default}}" ng-change="ctrl.inputValueChanged()"><label class="gf-form-label text-success" ng-show="input.value"><i class="fa fa-check"></i></label></div></div></div><div class="gf-form-button-row"><button type="button" class="btn gf-form-btn btn-success width-10" ng-click="ctrl.saveDashboard()" ng-hide="ctrl.nameExists" ng-disabled="!ctrl.inputsValid"><i class="fa fa-save"></i> Save &amp; Open</button> <button type="button" class="btn gf-form-btn btn-danger width-10" ng-click="ctrl.saveDashboard()" ng-show="ctrl.nameExists" ng-disabled="!ctrl.inputsValid"><i class="fa fa-save"></i> Overwrite &amp; Open</button> <a class="btn btn-link" ng-click="dismiss()">Cancel</a> <a class="btn btn-link" ng-click="ctrl.back()">Back</a></div></div></div></div>'),
a.put("public/app/features/dashboard/partials/dash_list.html",'<navbar title="Dashboards" title-url="dashboards" icon="icon-gf icon-gf-dashboard"></navbar><div class="page-container"><div class="page-header"><h1>Dashboards</h1></div></div>'),a.put("public/app/features/dashboard/partials/globalAlerts.html",'<topnav title="Alerting" subnav="false"><ul class="nav"><li class="active"><a href="global-alerts">Global Alerts</a></li></ul></topnav><div class="page-container"><div class="page-wide"><h1>Global alerts</h1><div class="filter-controls-filters"><div class="tight-form last"><ul class="tight-form-list"><li class="tight-form-item">Filters:</li><li class="tight-form-item">Alert State</li><li></li><li class="tight-form-item">Dashboards</li><li></li><li class="tight-form-item"><a class="pointer"><i class="fa fa-pencil"></i></a></li></ul><div class="clearfix"></div></div></div><ul class="filter-controls-actions"><li><div class="dropdown"><button class="btn btn-inverse dropdown-toggle" data-toggle="dropdown"><input class="cr1" id="state-enabled" type="checkbox"><label for="state-enabled" class="cr1"></label><span class="caret"></span></button><ul class="dropdown-menu" role="menu"><li><a>All</a></li></ul></div></li><li><div class="dropdown"><button class="btn btn-inverse dropdown-toggle" data-toggle="dropdown">Bulk Actions &nbsp; <span class="caret"></span></button><ul class="dropdown-menu" role="menu"><li><a>Update notifications</a></li></ul></div></li><li><button class="btn btn-inverse" data-toggle="dropdown"><i class="fa fa-fw fa-th-large"></i> New Dashboard from selected</button></li><li><span class="filter-controls-actions-selected">2 selected, showing 6 of 6 total</span></li></ul><ul class="filter-list"><li><ul class="filter-list-card"><li class="filter-list-card-select"><input class="cr1" id="alert1" type="checkbox"><label for="alert1" class="cr1"></label></li><li><div class="filter-list-card-controls"><div class="filter-list-card-links"><span class="filter-list-card-link"><i class="fa fa-fw fa-th-large"></i>: <a href="">OpSec Super Sekret</a></span> <span class="filter-list-card-link">Panel: <a href="">Prod CPU Data Writes</a></span></div><div class="filter-list-card-config"><a href="#"><i class="fa fa-cog"></i></a></div><div class="filter-list-card-expand" ng-click="alert1.expanded = !alert1.expanded"><i class="fa fa-angle-right" ng-show="!alert1.expanded"></i> <i class="fa fa-angle-down" ng-show="alert1.expanded"></i></div></div><span class="filter-list-card-title">Prod CPU Data Writes</span> <span class="filter-list-card-status"><span class="filter-list-card-state online">Online</span> for 19 hours</span></li></ul><div class="filter-list-card-details" ng-show="alert1.expanded"><h5 class="filter-list-card-details-heading">Alert query <a>configure alerting</a></h5><div class="tight-form last"><ul class="tight-form-list"><li class="tight-form-item" style="min-width: 15px; text-align: center">A</li><li class="tight-form-item">apps</li><li class="tight-form-item"><i class="fa fa-asterisk"><i></i></i></li><li class="tight-form-item">fakesite</li><li class="tight-form-item">counters</li><li class="tight-form-item">requests</li><li class="tight-form-item">count</li><li class="tight-form-item">scaleToSeconds(1)</li><li class="tight-form-item">aliasByNode(2)</li></ul><div class="clearfix"></div></div></div></li><li><ul class="filter-list-card"><li class="filter-list-card-select"><input class="cr1" id="alert2" type="checkbox" checked="checked"><label for="alert2" class="cr1"></label></li><li><div class="filter-list-card-controls"><div class="filter-list-card-links"><span class="filter-list-card-link"><i class="fa fa-fw fa-th-large"></i>: <a href="">OpSec Insanely Super Duper Sekret</a></span> <span class="filter-list-card-link">Panel: <a href="">client side full page load</a></span></div><div class="filter-list-card-config"><a href="#"><i class="fa fa-cog"></i></a></div><div class="filter-list-card-expand" ng-click="alert2.expanded = !alert2.expanded"><i class="fa fa-angle-right" ng-show="!alert2.expanded"></i> <i class="fa fa-angle-down" ng-show="alert2.expanded"></i></div></div><span class="filter-list-card-title">Prod DB Reads</span> <span class="filter-list-card-status"><span class="filter-list-card-state warn">Warn</span> for 1 hour</span></li></ul><div class="filter-list-card-details" ng-show="alert2.expanded"><h5 class="filter-list-card-details-heading">Alert query <a>configure alerting</a></h5><div class="tight-form last"><ul class="tight-form-list"><li class="tight-form-item" style="min-width: 15px; text-align: center">A</li><li class="tight-form-item">apps</li><li class="tight-form-item"><i class="fa fa-asterisk"><i></i></i></li><li class="tight-form-item">fakesite</li><li class="tight-form-item">counters</li><li class="tight-form-item">requests</li><li class="tight-form-item">count</li><li class="tight-form-item">scaleToSeconds(1)</li><li class="tight-form-item">aliasByNode(2)</li></ul><div class="clearfix"></div></div></div></li><li><ul class="filter-list-card"><li class="filter-list-card-select"><input class="cr1" id="alert3" type="checkbox" checked="checked"><label for="alert3" class="cr1"></label></li><li><div class="filter-list-card-controls"><div class="filter-list-card-links"><span class="filter-list-card-link"><i class="fa fa-fw fa-th-large"></i>: <a href="">OpSec Mildly Sekret</a></span> <span class="filter-list-card-link">Panel: <a href="">Memory/CPU</a></span></div><div class="filter-list-card-config"><a href="#"><i class="fa fa-cog"></i></a></div><div class="filter-list-card-expand" ng-click="alert3.expanded = !alert3.expanded"><i class="fa fa-angle-right" ng-show="!alert3.expanded"></i> <i class="fa fa-angle-down" ng-show="alert3.expanded"></i></div></div><span class="filter-list-card-title">Prod CPU Data Writes</span> <span class="filter-list-card-status"><span class="filter-list-card-state critical">Online</span> for 10 minutes</span></li></ul><div class="filter-list-card-details" ng-show="alert3.expanded"><h5 class="filter-list-card-details-heading">Alert query <a>configure alerting</a></h5><div class="tight-form last"><ul class="tight-form-list"><li class="tight-form-item" style="min-width: 15px; text-align: center">A</li><li class="tight-form-item">apps</li><li class="tight-form-item"><i class="fa fa-asterisk"><i></i></i></li><li class="tight-form-item">fakesite</li><li class="tight-form-item">counters</li><li class="tight-form-item">requests</li><li class="tight-form-item">count</li><li class="tight-form-item">scaleToSeconds(1)</li><li class="tight-form-item">aliasByNode(2)</li></ul><div class="clearfix"></div></div></div></li><li><ul class="filter-list-card"><li class="filter-list-card-select"><input class="cr1" id="alert4" type="checkbox"><label for="alert4" class="cr1"></label></li><li><div class="filter-list-card-controls"><div class="filter-list-card-links"><span class="filter-list-card-link"><i class="fa fa-fw fa-th-large"></i>: <a href="">OpSec Super Sekret</a></span> <span class="filter-list-card-link">Panel: <a href="">Stacked lines</a></span></div><div class="filter-list-card-config"><a href="#"><i class="fa fa-cog"></i></a></div><div class="filter-list-card-expand" ng-click="alert4.expanded = !alert4.expanded"><i class="fa fa-angle-right" ng-show="!alert4.expanded"></i> <i class="fa fa-angle-down" ng-show="alert4.expanded"></i></div></div><span class="filter-list-card-title">Critical Thing</span> <span class="filter-list-card-status"><span class="filter-list-card-state online">Online</span> for 5 weeks</span></li></ul><div class="filter-list-card-details" ng-show="alert4.expanded"><h5 class="filter-list-card-details-heading">Alert query <a>configure alerting</a></h5><div class="tight-form last"><ul class="tight-form-list"><li class="tight-form-item" style="min-width: 15px; text-align: center">A</li><li class="tight-form-item">apps</li><li class="tight-form-item"><i class="fa fa-asterisk"><i></i></i></li><li class="tight-form-item">fakesite</li><li class="tight-form-item">counters</li><li class="tight-form-item">requests</li><li class="tight-form-item">count</li><li class="tight-form-item">scaleToSeconds(1)</li><li class="tight-form-item">aliasByNode(2)</li></ul><div class="clearfix"></div></div></div></li><li><ul class="filter-list-card"><li class="filter-list-card-select"><input class="cr1" id="alert5" type="checkbox"><label for="alert5" class="cr1"></label></li><li><div class="filter-list-card-controls"><div class="filter-list-card-links"><span class="filter-list-card-link"><i class="fa fa-fw fa-th-large"></i>: <a href="">OpSec Public</a></span> <span class="filter-list-card-link">Panel: <a href="">More Critical Thing</a></span></div><div class="filter-list-card-config"><a href="#"><i class="fa fa-cog"></i></a></div><div class="filter-list-card-expand" ng-click="alert5.expanded = !alert5.expanded"><i class="fa fa-angle-right" ng-show="!alert5.expanded"></i> <i class="fa fa-angle-down" ng-show="alert5.expanded"></i></div></div><span class="filter-list-card-title">More Critical Thing</span> <span class="filter-list-card-status"><span class="filter-list-card-state online">Online</span> for 2 months</span></li></ul><div class="filter-list-card-details" ng-show="alert5.expanded"><h5 class="filter-list-card-details-heading">Alert query <a>configure alerting</a></h5><div class="tight-form last"><ul class="tight-form-list"><li class="tight-form-item" style="min-width: 15px; text-align: center">A</li><li class="tight-form-item">apps</li><li class="tight-form-item"><i class="fa fa-asterisk"><i></i></i></li><li class="tight-form-item">fakesite</li><li class="tight-form-item">counters</li><li class="tight-form-item">requests</li><li class="tight-form-item">count</li><li class="tight-form-item">scaleToSeconds(1)</li><li class="tight-form-item">aliasByNode(2)</li></ul><div class="clearfix"></div></div></div></li></ul></div></div>'),a.put("public/app/features/dashboard/partials/graphiteImport.html",'<div ng-controller="GraphiteImportCtrl" ng-init="init()"><div ng-if="datasources.length > 0"><h2 class="page-heading">Load dashboard from Graphite-Web</h2><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-10">Data source</span></div><div class="gf-form"><div class="gf-form-select-wrapper"><select type="text" ng-model="options.sourceName" class="gf-form-input gf-size-auto" ng-options="f for f in datasources"></select></div></div><div class="gf-form"><button class="btn btn-success pull-right" ng-click="listAll()">List dashboards</button></div></div></div><table class="grafana-options-table" style="margin-top: 20px"><tr ng-repeat="dash in dashboards"><td style="">{{dash.name}}</td><td><button class="btn btn-inverse pull-right" ng-click="import(dash.name)">Load</button></td></tr></table></div></div>'),a.put("public/app/features/dashboard/partials/migrate.html",'<navbar title="Migrate" title-url="dashboards/migrate" icon="fa fa-download"></navbar><div class="page-container"><div class="page-header"><h1>Migrate dashboards</h1></div><h5 class="section-heading">Import dashboards from Elasticsearch or InfluxDB</h5><div class="gf-form-inline gf-form-group"><div class="gf-form"><div class="gf-form-label">Dashboard source</div><div class="gf-form-select-wrapper"><select class="gf-form-input gf-size-auto" ng-model="sourceName" ng-options="f for f in datasources"></select></div></div><div class="gf-form"><button class="btn btn-success gf-form-btn" ng-click="startImport()">Import</button></div></div><h5 class="section-heading" ng-if="importing">{{infoText}}</h5><div class="editor-row" ng-if="importing"><div class="editor-row row"><table class="grafana-options-table span5"><tr ng-repeat="dash in imported"><td>{{dash.name}}</td><td>{{dash.info}}</td></tr></table></div></div><div ng-include="\'public/app/features/dashboard/partials/graphiteImport.html\'"></div></div>'),a.put("public/app/features/dashboard/partials/saveDashboardAs.html",'<div class="modal-body" ng-controller="SaveDashboardAsCtrl" ng-init="init();"><div class="modal-header"><h2 class="modal-header-title"><i class="fa fa-copy"></i> <span class="p-l-1">Save As...</span></h2><a class="modal-header-close" ng-click="dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content"><div class="p-t-2"><div class="gf-form"><label class="gf-form-label">New name</label><input type="text" class="gf-form-input" ng-model="clone.title" give-focus="true" ng-keydown="keyDown($event)"></div></div><div class="gf-form-button-row text-center"><a class="btn btn-success" ng-click="saveClone();">Save</a> <a class="btn-text" ng-click="dismiss();">Cancel</a></div></div></div>'),a.put("public/app/features/dashboard/partials/settings.html",'<div class="tabbed-view-header"><h2 class="tabbed-view-title">Settings</h2><ul class="gf-tabs"><li class="gf-tabs-item" ng-repeat="tab in ::[\'General\', \'Rows\', \'Links\', \'Time picker\', \'Metadata\']"><a class="gf-tabs-link" ng-click="editor.index = $index" ng-class="{active: editor.index === $index}">{{::tab}}</a></li></ul><button class="tabbed-view-close-btn" ng-click="dismiss();"><i class="fa fa-remove"></i></button></div><div class="tabbed-view-body"><div ng-if="editor.index == 0"><div class="gf-form-group section"><h5 class="section-heading">Details</h5><div class="gf-form"><label class="gf-form-label width-7">Name</label><input type="text" class="gf-form-input width-30" ng-model="dashboard.title"></div><div class="gf-form"><label class="gf-form-label width-7">Description</label><input type="text" class="gf-form-input width-30" ng-model="dashboard.description"></div><div class="gf-form"><label class="gf-form-label width-7">Tags<info-popover mode="right-normal">Press enter to add a tag</info-popover></label><bootstrap-tagsinput ng-model="dashboard.tags" tagclass="label label-tag" placeholder="add tags"></bootstrap-tagsinput></div><div class="gf-form"><label class="gf-form-label width-7">Timezone</label><div class="gf-form-select-wrapper"><select ng-model="dashboard.timezone" class="gf-form-input" ng-options="f.value as f.text for f in [{value: \'\', text: \'Default\'}, {value: \'browser\', text: \'Local browser time\'},{value: \'utc\', text: \'UTC\'}]" ng-change="timezoneChanged()"></select></div></div></div><div class="section"><h5 class="section-heading">Toggles</h5><div class="gf-form-group"><gf-form-switch class="gf-form" label="Editable" tooltip="Uncheck, then save and reload to disable all dashboard editing" checked="dashboard.editable" label-class="width-11"></gf-form-switch><gf-form-switch class="gf-form" label="Hide Controls" tooltip="Hide row controls. Shortcut: CTRL+H" checked="dashboard.hideControls" label-class="width-11"></gf-form-switch><gf-form-switch class="gf-form" label="Shared Crosshair" tooltip="Shared Crosshair line on all graphs. Shortcut: CTRL+O" checked="dashboard.sharedCrosshair" label-class="width-11"></gf-form-switch></div></div></div><div ng-if="editor.index == 1"><h5 class="section-heading">Rows settings</h5><div class="gf-form-group"><div class="gf-form-inline" ng-repeat="row in dashboard.rows"><div class="gf-form"><span class="gf-form-label">Title</span> <input type="text" class="gf-form-input max-width-14" ng-model="row.title"></div><gf-form-switch class="gf-form" label="Show title" checked="row.showTitle" switch-class="max-width-6"></gf-form-switch><div class="gf-form"><button class="btn btn-inverse gf-form-btn" ng-click="_.move(dashboard.rows,$index,$index-1)"><i ng-class="{\'invisible\': $first}" class="fa fa-arrow-up"></i></button> <button class="btn btn-inverse gf-from-btn" ng-click="_.move(dashboard.rows,$index,$index+1)"><i ng-class="{\'invisible\': $last}" class="fa fa-arrow-down"></i></button> <button class="btn btn-inverse gf-form-btn" ng-click="dashboard.rows = _.without(dashboard.rows,row)"><i class="fa fa-trash"></i></button></div></div></div></div><div ng-if="editor.index == 2"><dash-links-editor></dash-links-editor></div><div ng-if="editor.index == 3"><gf-time-picker-settings dashboard="dashboard"></gf-time-picker-settings></div><div ng-if="editor.index == 4"><h5 class="section-heading">Dashboard info</h5><div class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-10">Last updated at:</span> <span class="gf-form-label width-18">{{dashboard.formatDate(dashboardMeta.updated)}}</span></div><div class="gf-form"><span class="gf-form-label width-10">Last updated by:</span> <span class="gf-form-label width-18">{{dashboardMeta.updatedBy}}&nbsp;</span></div><div class="gf-form"><span class="gf-form-label width-10">Created at:</span> <span class="gf-form-label width-18">{{dashboard.formatDate(dashboardMeta.created)}}&nbsp;</span></div><div class="gf-form"><span class="gf-form-label width-10">Created by:</span> <span class="gf-form-label width-18">{{dashboardMeta.createdBy}}&nbsp;</span></div><div class="gf-form"><span class="gf-form-label width-10">Current version:</span> <span class="gf-form-label width-18">{{dashboardMeta.version}}&nbsp;</span></div></div></div></div>'),a.put("public/app/features/dashboard/partials/shareModal.html",'<div class="modal-body" ng-controller="ShareModalCtrl" ng-init="init()"><div class="modal-header"><h2 class="modal-header-title">{{modalTitle}}</h2><ul class="gf-tabs"><li class="gf-tabs-item" ng-repeat="tab in tabs"><a class="gf-tabs-link" ng-click="editor.index = $index" ng-class="{active: editor.index === $index}">{{::tab.title}}</a></li></ul><a class="modal-header-close" ng-click="dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content" ng-repeat="tab in tabs" ng-if="editor.index == $index"><div ng-include src="tab.src" class="share-modal-body"></div></div></div><script type="text/ng-template" id="shareEmbed.html"><div class="share-modal-header">\n\t\t<div class="share-modal-big-icon">\n\t\t\t<i class="fa fa-code"></i>\n\t\t</div>\n\t\t<div class="share-modal-content">\n\t\t\t<p class="share-modal-info-text">\n\t\t\t\tThe html code below can be pasted and included in another web page. Unless anonymous access\n\t\t\t\tis enabled the user viewing that page need to be signed into grafana for the graph to load.\n\t\t\t</p>\n\n\t\t\t<div ng-include src="\'shareLinkOptions.html\'"></div>\n\n\t\t\t<div class="gf-form-group gf-form--grow">\n\t\t\t\t<div class="gf-form">\n\t\t\t\t\t<textarea rows="5" data-share-panel-url class="gf-form-input" ng-model=\'iframeHtml\'></textarea>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div></script><script type="text/ng-template" id="shareExport.html"><dash-export-modal></dash-export-modal></script><script type="text/ng-template" id="shareLinkOptions.html"><div class="gf-form-group">\n\t\t<gf-form-switch class="gf-form"\n\t\t\tlabel="Current time range" label-class="width-12" switch-class="max-width-6"\n\t\t\tchecked="options.forCurrent" on-change="buildUrl()">\n\t\t</gf-form-switch>\n\t\t<gf-form-switch class="gf-form"\n\t\t\tlabel="Template variables" label-class="width-12" switch-class="max-width-6"\n\t\t\tchecked="options.includeTemplateVars" on-change="buildUrl()">\n\t\t</gf-form-switch>\n\t\t<div class="gf-form">\n\t\t\t<span class="gf-form-label width-12">Theme</span>\n\t\t\t<div class="gf-form-select-wrapper width-6">\n\t\t\t\t<select class="gf-form-input" ng-model="options.theme" ng-options="f as f for f in [\'current\', \'dark\', \'light\']" ng-change="buildUrl()"></select>\n\t\t\t</div>\n\t\t</div>\n\t</div></script><script type="text/ng-template" id="shareLink.html"><div class="share-modal-header">\n\t\t<div class="share-modal-big-icon">\n\t\t\t<i class="fa fa-link"></i>\n\t\t</div>\n\t\t<div class="share-modal-content">\n\t\t\t<p class="share-modal-info-text">\n\t\t\t\tCreate a direct link to this dashboard or panel, customized with the options below.\n\t\t\t</p>\n\t\t\t<div ng-include src="\'shareLinkOptions.html\'"></div>\n\t\t\t<div>\n\t\t\t\t<div class="gf-form-group">\n\t\t\t\t\t<div class="gf-form-inline">\n\t\t\t\t\t\t<div class="gf-form gf-form--grow">\n\t\t\t\t\t\t\t<input type="text" data-share-panel-url class="gf-form-input" ng-model="shareUrl"></input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="gf-form">\n\t\t\t\t\t\t\t<button class="btn btn-inverse" data-clipboard-text="{{shareUrl}}" clipboard-button><i class="fa fa-clipboard"></i> Copy</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="gf-form" ng-show="modeSharePanel">\n\t\t\t\t<a href="{{imageUrl}}" target="_blank"><i class="fa fa-camera"></i> Direct link rendered image</a>\n\t\t\t</div>\n\t\t</div></script><script type="text/ng-template" id="shareSnapshot.html"><div class="ng-cloak" ng-cloak ng-controller="ShareSnapshotCtrl" ng-init="init()">\n\t\t<div class="share-modal-header">\n\t\t\t<div class="share-modal-big-icon">\n\t\t\t\t<i ng-if="loading" class="fa fa-spinner fa-spin"></i>\n\t\t\t\t<i ng-if="!loading" class="icon-gf icon-gf-snapshot"></i>\n\t\t\t</div>\n      <div class="share-modal-content">\n        <div ng-if="step === 1">\n          <p class="share-modal-info-text">\n            A snapshot is an instant way to share an interactive dashboard publicly.\n            When created, we <strong>strip sensitive data</strong> like queries (metric, template and annotation) and panel links,\n            leaving only the visible metric data and series names embedded into your dashboard.\n          </p>\n          <p class="share-modal-info-text">\n            Keep in mind, your <strong>snapshot can be viewed by anyone</strong> that has the link and can reach the URL.\n            Share wisely.\n          </p>\n        </div>\n\n\t\t\t\t<div class="share-modal-header" ng-if="step === 3">\n\t\t\t\t\t<p class="share-modal-info-text">\n\t\t\t\t\t\tThe snapshot has now been deleted. If it you have already accessed it once, It might take up to an hour before it is removed from\n\t\t\t\t\t\tbrowser caches or CDN caches.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="gf-form-group share-modal-options">\n\t\t\t\t\t<div class="gf-form" ng-if="step === 1">\n\t\t\t\t\t\t<span class="gf-form-label width-12">Snapshot name</span>\n\t\t\t\t\t\t<input type="text" ng-model="snapshot.name" class="gf-form-input max-width-15" >\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="gf-form" ng-if="step === 1">\n\t\t\t\t\t\t<span class="gf-form-label width-12">Expire</span>\n\t\t\t\t\t\t<div class="gf-form-select-wrapper max-width-15">\n\t\t\t\t\t\t\t<select class="gf-form-input" ng-model="snapshot.expires" ng-options="f.value as f.text for f in expireOptions"></select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="gf-form" ng-if="step === 2" style="margin-top: 40px">\n\t\t\t\t\t\t<div class="gf-form-row">\n\t\t\t\t\t\t\t<a href="{{snapshotUrl}}" class="large share-modal-link" target="_blank">\n\t\t\t\t\t\t\t\t<i class="fa fa-external-link-square"></i>\n\t\t\t\t\t\t\t\t{{snapshotUrl}}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<button class="btn btn-inverse" data-clipboard-text="{{snapshotUrl}}" clipboard-button><i class="fa fa-clipboard"></i> Copy Link</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div ng-if="step === 1" class="gf-form-button-row">\n\t\t\t\t\t<button class="btn gf-form-btn width-10 btn-success" ng-click="createSnapshot()" ng-disabled="loading">\n\t\t\t\t\t\t<i class="fa fa-save"></i>\n\t\t\t\t\t\tLocal Snapshot\n\t\t\t\t\t</button>\n\t\t\t\t\t<button class="btn gf-form-btn width-16 btn-secondary" ng-if="externalEnabled" ng-click="createSnapshot(true)" ng-disabled="loading">\n\t\t\t\t\t\t<i class="fa fa-cloud-upload"></i>\n\t\t\t\t\t\t{{sharingButtonText}}\n\t\t\t\t\t</button>\n\t\t\t\t\t<a class="btn btn-link" ng-click="dismiss()">Cancel</a>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="pull-right" ng-if="step === 2" style="padding: 5px">\n\t\t\t\t\tDid you make a mistake? <a class="pointer" ng-click="deleteSnapshot()" target="_blank">delete snapshot.</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n</div></script>'),a.put("public/app/features/dashboard/submenu/submenu.html",'<div class="submenu-controls"><ul ng-if="ctrl.dashboard.templating.list.length > 0"><li ng-repeat="variable in ctrl.variables" ng-hide="variable.hide === 2" class="submenu-item"><span class="submenu-item-label template-variable" ng-hide="variable.hide === 1">{{variable.label || variable.name}}:</span><value-select-dropdown variable="variable" on-updated="ctrl.variableUpdated(variable)" get-values-for-tag="ctrl.getValuesForTag(variable, tagKey)"></value-select-dropdown></li></ul><ul ng-if="ctrl.dashboard.annotations.list.length > 0"><li ng-repeat="annotation in ctrl.dashboard.annotations.list" class="submenu-item annotation-segment" ng-class="{\'annotation-disabled\': !annotation.enable}"><a ng-click="ctrl.disableAnnotation(annotation)"><i class="fa fa-bolt" style="color:{{annotation.iconColor}}"></i> {{annotation.name}} <input class="cr1" id="hideYAxis" type="checkbox" ng-model="annotation.enable" ng-checked="annotation.enable"><label for="hideYAxis" class="cr1"></label></a></li></ul><ul class="pull-right" ng-if="ctrl.dashboard.links.length > 0"><dash-links-container links="ctrl.dashboard.links"></dash-links-container></ul><div class="clearfix"></div></div>'),a.put("public/app/features/dashboard/timepicker/dropdown.html",'<div class="row pull-right"><form name="timeForm" class="gf-timepicker-absolute-section"><h3>Time range</h3><label class="small">From:</label><div class="gf-form-inline"><div class="gf-form max-width-28"><input type="text" class="gf-form-input input-large" ng-model="ctrl.timeRaw.from" input-datetime></div><div class="gf-form"><button class="btn gf-form-btn btn-primary" type="button" ng-click="openFromPicker=!openFromPicker"><i class="fa fa-calendar"></i></button></div></div><div ng-if="openFromPicker"><datepicker ng-model="ctrl.absolute.fromJs" class="gf-timepicker-component" show-weeks="false" ng-change="ctrl.absoluteFromChanged()"></datepicker></div><label class="small">To:</label><div class="gf-form-inline"><div class="gf-form max-width-28"><input type="text" class="gf-form-input input-large" ng-model="ctrl.timeRaw.to" input-datetime></div><div class="gf-form"><button class="btn gf-form-btn btn-primary" type="button" ng-click="openToPicker=!openToPicker"><i class="fa fa-calendar"></i></button></div></div><div ng-if="openToPicker"><datepicker ng-model="ctrl.absolute.toJs" class="gf-timepicker-component" show-weeks="false" ng-change="ctrl.absoluteToChanged()"></datepicker></div><label class="small">Refreshing every:</label><div class="gf-form-inline"><div class="gf-form max-width-28"><select ng-model="ctrl.refresh.value" class="gf-form-input input-medium" ng-options="f.value as f.text for f in ctrl.refresh.options"></select></div><div class="gf-form"><button type="submit" class="btn gf-form-btn btn-secondary" ng-click="ctrl.applyCustom();" ng-disabled="!timeForm.$valid">Apply</button></div></div></form><div class="gf-timepicker-relative-section"><h3>Quick ranges</h3><ul ng-repeat="group in ctrl.timeOptions"><li bindonce ng-repeat="option in group" ng-class="{active: option.active}"><a ng-click="ctrl.setRelativeFilter(option)" bo-text="option.display"></a></li></ul></div></div><div class="clearfix"></div>'),a.put("public/app/features/dashboard/timepicker/settings.html",'<div class="editor-row"><div class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-10">Auto-refresh</span> <input type="text" class="gf-form-input max-width-25" ng-model="ctrl.panel.refresh_intervals" array-join></div><div class="gf-form"><span class="gf-form-label width-10">Now delay now-</span> <input type="text" class="gf-form-input max-width-25" ng-model="ctrl.panel.nowDelay" placeholder="0m" valid-time-span bs-tooltip="\'Enter 1m to ignore the last minute (because it can contain incomplete metrics)\'" data-placement="right"></div></div></div>'),a.put("public/app/features/dashboard/timepicker/timepicker.html",'<ul class="nav gf-timepicker-nav"><li class="dashnav-move-timeframe gf-timepicker-time-control" bs-tooltip="\'Shift time backward <br> (left arrow key)\'" data-placement="bottom"><a ng-click="ctrl.move(-1)"><i class="fa fa-chevron-left"></i></a></li><li class="dashnav-zoom-out gf-timepicker-time-control" bs-tooltip="\'Time range zoom out <br> CTRL+Z\'" data-placement="bottom"><a ng-click="ctrl.zoom(2)">Zoom Out</a></li><li class="dashnav-move-timeframe gf-timepicker-time-control" bs-tooltip="\'Shift time forward <br> (right arrow key)\'" data-placement="bottom"><a ng-click="ctrl.move(1)"><i class="fa fa-chevron-right"></i></a></li><li><a bs-tooltip="ctrl.tooltip" data-placement="bottom" ng-click="ctrl.openDropdown()" class="gf-timepicker-nav-btn"><i class="fa fa-clock-o"></i> <span ng-bind="ctrl.rangeString"></span> <span ng-show="ctrl.isUtc" class="gf-timepicker-utc">UTC </span><span ng-show="ctrl.dashboard.refresh" class="text-warning">&nbsp; Refresh every {{ctrl.dashboard.refresh}}</span></a></li><li class="dashnav-refresh-action"><a ng-click="ctrl.timeSrv.refreshDashboard()"><i class="fa fa-refresh"></i></a></li></ul>'),a.put("public/app/features/dashlinks/editor.html",'<div class="editor-row"><h5 class="section-heading">Links and Dash Navigation</h5><div ng-repeat="link in dashboard.links"><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-6">Type</span><div class="gf-form-select-wrapper width-10"><select class="gf-form-input" ng-model="link.type" ng-options="f for f in [\'dashboards\',\'link\']" ng-change="updated()"></select></div></div><div class="gf-form" ng-show="link.type === \'dashboards\'"><span class="gf-form-label">With tags</span><bootstrap-tagsinput ng-model="link.tags" tagclass="label label-tag" placeholder="add tags"></bootstrap-tagsinput></div><div class="gf-form" ng-show="link.type === \'dashboards\'"><editor-checkbox text="As dropdown" model="link.asDropdown" change="updated()"></editor-checkbox></div><div class="gf-form max-width-30" ng-show="link.type === \'link\'"><li class="gf-form-label width-6">Url</li><input type="text" ng-model="link.url" class="gf-form-input" ng-model-onblur ng-change="updated()"></div><div class="gf-form"><button class="btn btn-inverse btn-mini" ng-click="moveLink($index, -1)" ng-hide="$first"><i class="fa fa-arrow-up"></i></button></div><div class="gf-form"><button class="btn btn-inverse btn-mini" ng-click="moveLink($index, 1)" ng-hide="$last"><i class="fa fa-arrow-down"></i></button></div><div class="gf-form"><button class="btn btn-inverse btn-mini" ng-click="deleteLink($index)"><i class="fa fa-trash"></i></button></div></div><div class="gf-form" ng-show="link.type === \'dashboards\' && link.asDropdown"><span class="gf-form-label width-6">Title</span> <input type="text" ng-model="link.title" class="gf-form-input max-width-25" ng-model-onblur ng-change="updated()"></div><div class="gf-form-inline" ng-show="link.type === \'link\'"><div class="gf-form"><span class="gf-form-label width-6">Title</span> <input type="text" ng-model="link.title" class="gf-form-input max-width-10" ng-model-onblur ng-change="updated()"></div><div class="gf-form"><span class="gf-form-label width-6">Tooltip</span> <input type="text" ng-model="link.tooltip" class="gf-form-input max-width-10" placeholder="Open dashboard" ng-model-onblur ng-change="updated()"></div><div class="gf-form"><span class="gf-form-label width-6">Icon</span><div class="gf-form-select-wrapper max-width-10"><select class="gf-form-input" ng-model="link.icon" ng-options="k as k for (k, v) in iconMap" ng-change="updated()"></select></div></div></div><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-6">Include</span><editor-checkbox text="Time range" model="link.keepTime" change="updated()"></editor-checkbox><editor-checkbox text="Variable values" model="link.includeVars" change="updated()"></editor-checkbox><editor-checkbox text="Open in new tab " model="link.targetBlank" change="updated()"></editor-checkbox></div></div></div></div></div><button class="btn btn-inverse" ng-click="addLink()"><i class="fa fa-plus"></i> Add link</button>'),
a.put("public/app/features/org/partials/apikeyModal.html",'<div class="modal-body"><div class="modal-header"><h2 class="modal-header-title"><i class="fa fa-key"></i> <span class="p-l-1">API Key Created</span></h2><a class="modal-header-close" ng-click="dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content"><div class="gf-form-group"><div class="gf-form"><span class="gf-form-label">Key</span> <span class="gf-form-label">{{key}}</span></div></div><div class="grafana-info-box" style="border: 0">You will only be able to view this key here once! It is not stored in this form. So be sure to copy it now.<br><br>You can authenticate request using the Authorization HTTP header, example:<br><br><pre class="small">\ncurl -H "Authorization: Bearer your_key_above" http://your.grafana.com/api/dashboards/db/mydash\n\t\t\t</pre></div></div></div>'),a.put("public/app/features/org/partials/change_password.html",'<navbar icon="icon-gf icon-gf-users" title="Profile" title-url="profile"></navbar><div class="page-container"><div class="page-header"><h1>Change password</h1></div><form name="userForm" class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-10">Old Password</span> <input class="gf-form-input max-width-21" type="password" required ng-model="command.oldPassword"></div><div class="gf-form"><span class="gf-form-label width-10">New Password</span> <input class="gf-form-input max-width-21" type="password" required ng-minlength="4" ng-model="command.newPassword"></div><div class="gf-form"><span class="gf-form-label width-10">Confirm Password</span> <input class="gf-form-input max-width-21" type="password" required ng-minlength="4" ng-model="command.confirmNew"></div><div class="gf-form-button-row"><button type="submit" class="btn btn-success" ng-click="changePassword()">Change Password</button> <a class="btn-text" href="profile">Cancel</a></div></form></div>'),a.put("public/app/features/org/partials/invite.html",'<div class="modal-body" ng-controller="UserInviteCtrl" ng-init="init()"><div class="modal-header"><h2 class="modal-header-title">Invite Users</h2><a class="modal-header-close" ng-click="dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content"><div class="modal-tagline p-b-2">Send invite or add existing Grafana users to the organization <span class="highlight-word">{{contextSrv.user.orgName}}</span></div><form name="inviteForm"><div class="gf-form-group"><div class="gf-form-inline" ng-repeat="invite in invites"><div class="gf-form max-width-21"><span class="gf-form-label">Email or Username</span> <input type="text" ng-model="invite.loginOrEmail" required class="gf-form-input" placeholder="email@test.com"></div><div class="gf-form max-width-14"><span class="gf-form-label">Name</span> <input type="text" ng-model="invite.name" class="gf-form-input" placeholder="name (optional)"></div><div class="gf-form max-width-10"><span class="gf-form-label">Role</span><select ng-model="invite.role" class="gf-form-input" ng-options="f for f in [\'Viewer\', \'Editor\', \'Read Only Editor\', \'Admin\']"></select></div><div class="gf-form gf-size-auto"><a class="gf-form-label pointer" tabindex="1" ng-click="removeInvite(invite)"><i class="fa fa-remove"></i></a></div></div></div><div class="gf-form-inline gf-form-group"><div class="gf-form"><a class="btn btn-inverse btn-small" ng-click="addInvite()"><i class="fa fa-plus"></i> Invite another</a></div><div class="gf-form"><editor-checkbox text="Skip sending invite email" model="options.skipEmails" change="targetBlur()"></editor-checkbox></div></div><div class="gf-form-button-row"><button type="submit" class="btn btn-success" ng-click="sendInvites();">Invite Users</button> <a class="btn-text" ng-click="dismiss()">Cancel</a></div><div class="clearfix"></div></form></div></div>'),a.put("public/app/features/org/partials/newOrg.html",'<navbar title="Organization" icon="icon-gf icon-gf-users"></navbar><div class="page-container" ng-form="playlistEditForm"><div class="page-header"><h1>New Organization</h1></div><p class="playlist-description">Each organization contains their own dashboards, data sources and configuration, and cannot be shared between orgs. While users may belong to more than one, mutiple organization are most frequently used in multi-tenant deployments.</p><form><div class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-10">Org. name</span> <input type="text" ng-model="newOrg.name" required class="gf-form-input max-width-21" placeholder="organization name"></div><br><div class="gf-form-buttons-row"><button type="submit" class="btn btn-success" ng-click="createOrg()">Create</button></div></div></form></div>'),a.put("public/app/features/org/partials/orgApiKeys.html",'<navbar icon="icon-gf icon-gf-users" title="Organization" title-url="org"></navbar><div class="page-container"><div class="page-header"><h1>API Keys</h1></div><h3 class="page-heading">Add new</h3><form name="addTokenForm" class="gf-form-group"><div class="gf-form-inline"><div class="gf-form max-width-21"><span class="gf-form-label">Add a key</span> <input type="text" class="gf-form-input" ng-model="token.name" placeholder="Name"></div><div class="gf-form"><span class="gf-form-label">Role</span><select class="gf-form-input gf-size-auto" ng-model="token.role" ng-options="r for r in roleTypes"></select></div><div class="gf-form"><button class="btn gf-form-btn btn-success" ng-click="addToken()">Add</button></div></div></form><h3 class="page-heading">Existing Keys</h3><table class="filter-table"><thead><tr><th>Name</th><th>Role</th><th style="width: 34px"></th></tr></thead><tbody><tr ng-repeat="t in tokens"><td>{{t.name}}</td><td>{{t.role}}</td><td><a ng-click="removeToken(t.id)" class="btn btn-danger btn-mini"><i class="fa fa-remove"></i></a></td></tr></tbody></table></div>'),a.put("public/app/features/org/partials/orgDetails.html",'<navbar icon="icon-gf icon-gf-users" title="Organization" title-url="org"></navbar><div class="page-container"><div class="page-header"><h1>Org Preferences</h1></div><h3 class="page-heading">General</h3><form name="orgForm" class="gf-form-group"><div class="gf-form-inline"><div class="gf-form max-width-28"><span class="gf-form-label width-6">Name</span> <input class="gf-form-input" type="text" required ng-model="org.name"></div><div class="gf-form"><button type="submit" class="btn gf-form-btn btn-success" ng-click="update()">Update</button></div></div></form><prefs-control mode="org"></prefs-control><h3 class="page-heading">Address</h3><form name="addressForm" class="gf-form-group"><div class="gf-form-inline"><div class="gf-form max-width-28"><span class="gf-form-label width-7">Address1</span> <input class="gf-form-input" type="text" ng-model="address.address1"></div><div class="gf-form max-width-28"><span class="gf-form-label width-7">Address2</span> <input class="gf-form-input" type="text" ng-model="address.address2"></div></div><div class="gf-form-inline"><div class="gf-form max-width-28"><span class="gf-form-label width-7">City</span> <input class="gf-form-input" type="text" ng-model="address.city"></div><div class="gf-form max-width-28"><span class="gf-form-label width-7">Postal code</span> <input class="gf-form-input" type="text" ng-model="address.zipCode"></div></div><div class="gf-form-inline"><div class="gf-form max-width-28"><span class="gf-form-label width-7">State</span> <input class="gf-form-input" type="text" ng-model="address.state"></div><div class="gf-form max-width-28"><span class="gf-form-label width-7">Country</span> <input class="gf-form-input" type="text" ng-model="address.country"></div></div><div class="gf-form-button-row"><button type="submit" class="btn btn-success" ng-click="updateAddress()">Update</button></div></form><h3 class="page-heading">Admin Pages</h3><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form"><a href="org/users" class="btn gf-form-btn btn-inverse">Users &amp; Roles</a></div><div class="gf-form"><a href="org/apikeys" class="btn gf-form-btn btn-inverse">API Keys</a></div></div></div></div>'),a.put("public/app/features/org/partials/orgUsers.html",'<navbar icon="icon-gf icon-gf-users" title="Organization Users" title-url="org/users"></navbar><div class="page-container"><div class="page-header"><h1>Organization users</h1><div class="page-header-tabs"><button class="btn btn-success" ng-click="ctrl.openInviteModal()"><i class="fa fa-plus"></i> Add or Invite</button><ul class="gf-tabs"><li class="gf-tabs-item"><a class="gf-tabs-link" ng-click="ctrl.editor.index = 0" ng-class="{active: ctrl.editor.index === 0}">Users ({{ctrl.users.length}})</a></li><li class="gf-tabs-item"><a class="gf-tabs-link" ng-click="ctrl.editor.index = 1" ng-class="{active: ctrl.editor.index === 1}">Pending Invitations ({{ctrl.pendingInvites.length}})</a></li></ul></div></div><div ng-if="ctrl.editor.index === 0" class="tab-content"><table class="filter-table form-inline"><thead><tr><th>Login</th><th>Email</th><th>Role</th><th style="width: 34px"></th></tr></thead><tr ng-repeat="user in ctrl.users"><td>{{user.login}}</td><td><span class="ellipsis">{{user.email}}</span></td><td><select type="text" ng-model="user.role" class="input-medium" ng-options="f for f in [\'Viewer\', \'Editor\', \'Read Only Editor\', \'Admin\']" ng-change="ctrl.updateOrgUser(user)"></select></td><td><a ng-click="ctrl.removeUser(user)" class="btn btn-danger btn-mini"><i class="fa fa-remove"></i></a></td></tr></table></div><div ng-if="ctrl.editor.index === 1"><table class="filter-table form-inline"><thead><tr><th>Email</th><th>Name</th><th></th></tr></thead><tbody ng-repeat="invite in ctrl.pendingInvites"><tr ng-click="invite.expanded = !invite.expanded" ng-class="{\'expanded\': invite.expanded}"><td>{{invite.email}}</td><td>{{invite.name}}</td><td class="text-right"><button class="btn btn-inverse btn-mini" data-clipboard-text="{{invite.url}}" clipboard-button ng-click="ctrl.copyInviteToClipboard($event)"><i class="fa fa-clipboard"></i> Copy Invite</button> &nbsp; <button class="btn btn-inverse btn-mini">Details <i ng-show="!invite.expanded" class="fa fa-caret-right"></i> <i ng-show="invite.expanded" class="fa fa-caret-down"></i></button></td></tr><tr ng-show="invite.expanded"><td colspan="3"><a href="{{invite.url}}">{{invite.url}}</a><br><br>&nbsp; <button class="btn btn-inverse btn-mini" ng-click="ctrl.revokeInvite(invite, $event)"><i class="fa fa-remove" style="color: red"></i> Revoke invite</button> <span style="padding-left: 15px">Invited: <em>{{invite.createdOn | date: \'shortDate\'}} by {{invite.invitedBy}}</em></span></td></tr></tbody></table></div></div>'),a.put("public/app/features/org/partials/profile.html",'<navbar icon="icon-gf icon-gf-users" title="Profile" title-url="profile"></navbar><div class="page-container"><div class="page-header"><h1>Profile</h1></div><form name="ctrl.userForm" class="gf-form-group"><h3 class="page-heading">Information</h3><div class="gf-form"><span class="gf-form-label width-9">Name</span> <input class="gf-form-input max-width-21" type="text" required ng-model="ctrl.user.name"></div><div class="gf-form"><span class="gf-form-label width-9">Email</span> <input class="gf-form-input max-width-21" type="email" required ng-model="ctrl.user.email"></div><div class="gf-form"><span class="gf-form-label width-9">Username</span> <input class="gf-form-input max-width-21" type="text" required ng-model="ctrl.user.login"></div><div class="gf-form-button-row"><button type="submit" class="btn btn-success" ng-click="ctrl.update()">Update</button></div></form><prefs-control mode="user"></prefs-control><h3 class="page-heading">Password</h3><div class="gf-form-group"><a href="profile/password" class="btn btn-inverse">Change Password</a></div><h3 class="page-heading">Organizations</h3><div class="gf-form-group"><table class="filter-table form-inline"><thead><tr><th>Name</th><th>Role</th><th></th></tr></thead><tbody><tr ng-repeat="org in ctrl.orgs"><td>{{org.name}}</td><td>{{org.role}}</td><td class="text-right"><span class="btn btn-primary btn-mini" ng-show="org.orgId === contextSrv.user.orgId">Current </span><a ng-click="ctrl.setUsingOrg(org)" class="btn btn-inverse btn-mini" ng-show="org.orgId !== contextSrv.user.orgId">Select</a></td></tr></tbody></table></div></div>'),a.put("public/app/features/org/partials/select_org.html",'<div class="container"><div class="signup-page-background"></div><div class="login-box"><div class="login-box-logo"><img src="img/logo_transparent_200x75.png"></div><div class="invite-box"><h3><i class="fa fa-users"></i>&nbsp; Change active organization</h3><div class="modal-tagline">You have been added to another Organization<br>due to an open invitation!<br><br>Please select which organization you want to<br>use right now (you can change this later at any time).</div><div style="display: inline-block; width: 400px; margin: 30px 0"><table class="grafana-options-table"><tr ng-repeat="org in orgs"><td class="nobg max-width-btns"><a ng-click="setUsingOrg(org)" class="btn btn-inverse">{{org.name}} ({{org.role}})</a></td></tr></table></div></div><div class="row" style="margin-top: 50px"><div class="version-footer text-center small">Grafana version: {{buildInfo.version}}, commit: {{buildInfo.commit}}, build date: {{buildInfo.buildstamp | date: \'yyyy-MM-dd HH:mm:ss\' }}</div></div></div></div>'),a.put("public/app/features/panel/partials/panelTime.html",'<div class="gf-form-group"><div class="gf-form"><span class="gf-form-label"><i class="fa fa-clock-o"></i> </span><span class="gf-form-label width-12">Override relative time</span> <span class="gf-form-label width-6">Last</span> <input type="text" class="gf-form-input max-width-8" placeholder="1h" empty-to-null ng-model="ctrl.panel.timeFrom" valid-time-span ng-change="ctrl.refresh()" ng-model-onblur></div><div class="gf-form"><span class="gf-form-label"><i class="fa fa-clock-o"></i> </span><span class="gf-form-label width-12">Add time shift</span> <span class="gf-form-label width-6">Amount</span> <input type="text" class="gf-form-input max-width-8" placeholder="1h" empty-to-null ng-model="ctrl.panel.timeShift" valid-time-span ng-change="ctrl.refresh()" ng-model-onblur></div><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label"><i class="fa fa-clock-o"></i></span></div><gf-form-switch class="gf-form max-width-30" label="Hide time override info" label-class="width-12" checked="ctrl.panel.hideTimeOverride" switch-class="max-width-6" on-change="ctrl.refresh()"></gf-form-switch></div></div>'),a.put("public/app/features/panel/partials/query_editor_row.html",'<div class="gf-form-query"><div class="gf-form"><label class="gf-form-label gf-form-query-letter-cell"><a class="pointer" tabindex="1" ng-click="ctrl.toggleCollapse()"><span ng-class="{muted: !ctrl.canCollapse}" class="gf-form-query-letter-cell-carret"><i class="fa fa-caret-down" ng-hide="ctrl.collapsed"></i> <i class="fa fa-caret-right" ng-show="ctrl.collapsed"></i> </span><span class="gf-form-query-letter-cell-letter">{{ctrl.target.refId}}</span> <em class="gf-form-query-letter-cell-ds" ng-show="ctrl.target.datasource">({{ctrl.target.datasource}})</em></a></label></div><div class="gf-form-query-content gf-form-query-content--collapsed" ng-if="ctrl.collapsed"><div class="gf-form"><label class="gf-form-label pointer gf-form-label--grow" ng-click="ctrl.toggleCollapse()">{{ctrl.collapsedText}}</label></div></div><div ng-transclude class="gf-form-query-content" ng-if="!ctrl.collapsed"></div><div class="gf-form"><label class="gf-form-label dropdown"><a class="pointer dropdown-toggle" data-toggle="dropdown" tabindex="1"><i class="fa fa-bars"></i></a><ul class="dropdown-menu pull-right" role="menu"><li role="menuitem" ng-if="ctrl.hasTextEditMode"><a tabindex="1" ng-click="ctrl.toggleEditorMode()">Toggle Edit Mode</a></li><li role="menuitem"><a tabindex="1" ng-click="ctrl.duplicateQuery()">Duplicate</a></li><li role="menuitem"><a tabindex="1" ng-click="ctrl.moveQuery(-1)">Move up</a></li><li role="menuitem"><a tabindex="1" ng-click="ctrl.moveQuery(1)">Move down</a></li></ul></label><label class="gf-form-label"><a ng-click="ctrl.toggleHideQuery()" role="menuitem"><i class="fa fa-eye"></i></a></label><label class="gf-form-label"><a class="pointer" tabindex="1" ng-click="ctrl.removeQuery(ctrl.target)"><i class="fa fa-trash"></i></a></label></div></div><div class="tight-form" ng-if="false"><ul class="tight-form-list pull-right"><li ng-show="ctrl.error" class="tight-form-item"><a bs-tooltip="ctrl.error" style="color: rgb(229, 189, 28)" role="menuitem"><i class="fa fa-warning"></i></a></li><li class="tight-form-item small" ng-show="ctrl.target.datasource"><em>{{ctrl.target.datasource}}</em></li><li class="tight-form-item" ng-if="ctrl.toggleEditorMode"><a class="pointer" tabindex="1" ng-click="ctrl.toggleEditorMode()"><i class="fa fa-pencil"></i></a></li><li class="tight-form-item"><div class="dropdown"><a class="pointer dropdown-toggle" data-toggle="dropdown" tabindex="1"><i class="fa fa-bars"></i></a><ul class="dropdown-menu pull-right" role="menu"><li role="menuitem"><a tabindex="1" ng-click="ctrl.duplicateQuery()">Duplicate</a></li><li role="menuitem"><a tabindex="1" ng-click="ctrl.moveQuery(-1)">Move up</a></li><li role="menuitem"><a tabindex="1" ng-click="ctrl.moveQuery(1)">Move down</a></li></ul></div></li><li class="tight-form-item last"><a class="pointer" tabindex="1" ng-click="ctrl.removeQuery(target)"><i class="fa fa-trash"></i></a></li></ul><ul class="tight-form-list"><li class="tight-form-item" style="min-width: 15px; text-align: center">{{ctrl.target.refId}}</li><li><a class="tight-form-item" ng-click="ctrl.toggleHideQuery()" role="menuitem"><i class="fa fa-eye"></i></a></li></ul><ul class="tight-form-list" ng-transclude></ul><div class="clearfix"></div></div>'),a.put("public/app/features/panel/partials/soloPanel.html",'<div class="panel nospace" ng-if="panel" style="width: 100%"><plugin-component type="panel"></plugin-component></div><div class="clearfix"></div>'),a.put("public/app/features/panellinks/module.html",'<div class="editor-row"><h5 class="section-heading">Drilldown / detail link<tip>These links appear in the dropdown menu in the panel menu.</tip></h5><div ng-repeat="link in panel.links" style="margin-top: 20px"><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form width-2"><i class="fa fa-fw fa-unlink"></i></div><div class="gf-form"><span class="gf-form-label width-7">Type</span><div class="gf-form-select-wrapper width-14"><select class="gf-form-input" ng-model="link.type" ng-options="f for f in [\'dashboard\',\'absolute\']"></select></div></div><div class="gf-form"><span class="gf-form-label width-7" ng-show="link.type === \'dashboard\'">Dashboard</span> <input ng-show="link.type === \'dashboard\'" type="text" ng-model="link.dashboard" bs-typeahead="searchDashboards" class="gf-form-input max-width-14" ng-blur="dashboardChanged(link)"> <span class="gf-form-label width-7" ng-show="link.type === \'absolute\'">Url</span> <input ng-show="link.type === \'absolute\'" type="text" ng-model="link.url" class="gf-form-input max-width-14"></div><div class="gf-form"><button class="btn-inverse gf-form-btn btn-small" ng-click="deleteLink(link)"><i class="fa fa-trash"></i></button></div></div><div class="gf-form-inline"><div class="gf-form width-2"><i class="fa fa-fw fa-unlink invisible"></i></div><div class="gf-form"><div class="gf-form-label width-7">Title</div><input type="text" ng-model="link.title" class="gf-form-input"></div><div class="gf-form"><span class="gf-form-label width-7">Url params</span> <input type="text" ng-model="link.params" class="gf-form-input"></div></div><div class="gf-form-inline"><div class="gf-form width-2"><i class="fa fa-fw fa-unlink invisible"></i></div><div class="gf-form"><editor-checkbox text="Keep current time range" model="link.keepTime"></editor-checkbox><editor-checkbox text="Add current variable values" model="link.includeVars"></editor-checkbox><editor-checkbox text="Open in new tab " model="link.targetBlank"></editor-checkbox></div></div></div></div></div><div class="editor-row"><button class="btn btn-inverse" ng-click="addLink()"><i class="fa fa-plus"></i> Add link</button></div>'),a.put("public/app/features/playlist/partials/playlist.html",'<navbar icon="fa fa-fw fa-list" title="Playlists" title-url="playlists"></navbar><div class="page-container" ng-form="playlistEditForm"><div class="page-header"><h1 ng-show="ctrl.isNew()">New Playlist</h1><h1 ng-show="!ctrl.isNew()">Edit Playlist</h1></div><p class="playlist-description">A playlist rotates through a pre-selected list of Dashboards. A Playlist can be a great way to build situational awareness, or just show off your metrics to your team or visitors.</p><div class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-7">Name</span> <input type="text" required ng-model="ctrl.playlist.name" class="gf-form-input max-width-21"></div><div class="gf-form"><span class="gf-form-label width-7">Interval</span> <input type="text" required ng-model="ctrl.playlist.interval" placeholder="5m" class="gf-form-input max-width-21"></div></div><div class="gf-form-group"><h3 class="page-headering">Dashboards</h3></div><div class="row"><div class="col-md-6"><div class="playlist-search-containerwrapper"><div class="max-width-32"><h5 class="page-headering playlist-column-header">Available</h5><div style=""><playlist-search class="playlist-search-container" search-started="ctrl.searchStarted(promise)"></playlist-search></div></div></div><div ng-if="ctrl.filteredDashboards.length > 0"><table class="grafana-options-table playlist-available-list"><tr ng-repeat="playlistItem in ctrl.filteredDashboards"><td><i class="icon-gf icon-gf-dashboard"></i> &nbsp;&nbsp;{{playlistItem.title}} <i class="fa fa-star" ng-show="playlistItem.isStarred"></i></td><td class="add-dashboard"><button class="btn btn-inverse btn-mini pull-right" ng-click="ctrl.addPlaylistItem(playlistItem)"><i class="fa fa-plus"></i> Add to playlist</button></td></tr></table></div><div class="playlist-search-results-container" ng-if="ctrl.filteredTags.length > 0;"><table class="grafana-options-table playlist-available-list"><tr ng-repeat="tag in ctrl.filteredTags"><td><a class="search-result-tag label label-tag" tag-color-from-name="tag.term"><i class="fa fa-tag"></i> <span>{{tag.term}} &nbsp;({{tag.count}})</span></a></td><td class="add-dashboard"><button class="btn btn-inverse btn-mini pull-right" ng-click="ctrl.addTagPlaylistItem(tag)"><i class="fa fa-plus"></i> Add to playlist</button></td></tr></table></div></div><div class="col-md-6"><h5 class="page headering playlist-column-header">Selected</h5><table class="grafana-options-table playlist-available-list"><tr ng-repeat="playlistItem in ctrl.playlistItems"><td ng-if="playlistItem.type === \'dashboard_by_id\'"><i class="icon-gf icon-gf-dashboard"></i>&nbsp;&nbsp;{{playlistItem.title}}</td><td ng-if="playlistItem.type === \'dashboard_by_tag\'"><a class="search-result-tag label label-tag" tag-color-from-name="playlistItem.title"><i class="fa fa-tag"></i> <span>{{playlistItem.title}}</span></a></td><td class="selected-playlistitem-settings"><button class="btn btn-inverse btn-mini" ng-hide="$first" ng-click="ctrl.movePlaylistItemUp(playlistItem)"><i class="fa fa-arrow-up"></i></button> <button class="btn btn-inverse btn-mini" ng-hide="$last" ng-click="ctrl.movePlaylistItemDown(playlistItem)"><i class="fa fa-arrow-down"></i></button> <button class="btn btn-inverse btn-mini" ng-click="ctrl.removePlaylistItem(playlistItem)"><i class="fa fa-remove"></i></button></td></tr></table></div></div><div class="clearfix"></div><div class="gf-form-button-row"><a class="btn btn-success" ng-show="ctrl.isNew()" ng-disabled="ctrl.playlistEditForm.$invalid || ctrl.isPlaylistEmpty()" ng-click="ctrl.savePlaylist(ctrl.playlist, ctrl.playlistItems)">Create new playlist</a> <a class="btn btn-success" ng-show="!ctrl.isNew()" ng-disabled="ctrl.playlistEditForm.$invalid || ctrl.isPlaylistEmpty()" ng-click="ctrl.savePlaylist(ctrl.playlist, ctrl.playlistItems)">Save</a> <a class="btn-text" ng-click="ctrl.backToList()">Cancel</a></div></div>'),a.put("public/app/features/playlist/partials/playlist_search.html",'<div class="playlist-search-field-wrapper"><span style="position: relative"><input type="text" placeholder="Find dashboards by name" tabindex="1" ng-keydown="ctrl.keyDown($event)" ng-model="ctrl.query.query" ng-model-options="{ debounce: 500 }" spellcheck="false" ng-change="ctrl.searchDashboards()"><div class="playlist-search-switches"><i class="fa fa-filter"></i> <a class="pointer" href="javascript:void 0;" ng-click="ctrl.showStarred()" tabindex="2"><i class="fa fa-remove" ng-show="ctrl.query.starred"></i> starred </a>| <a class="pointer" href="javascript:void 0;" ng-click="ctrl.getTags()" tabindex="3"><i class="fa fa-remove" ng-show="ctrl.tagsMode"></i> tags </a><span ng-if="ctrl.query.tag.length">| <span ng-repeat="tagName in ctrl.query.tag"><a ng-click="ctrl.removeTag(tagName, $event)" tag-color-from-name="ctrl.tagName" class="label label-tag"><i class="fa fa-remove"></i> {{tagName}}</a></span></span></div></span></div>'),a.put("public/app/features/playlist/partials/playlists.html",'<navbar icon="fa fa-fw fa-list" title="Playlists" title-url="playlists"></navbar><div class="page-container"><div class="page-header"><h1>Saved playlists</h1><a class="btn btn-success pull-right" href="playlists/create"><i class="fa fa-plus"></i> New Playlist</a></div><table class="filter-table" style="margin-top: 20px"><thead><th><strong>Name</strong></th><th><strong>Start url</strong></th><th style="width: 68px"></th><th style="width: 68px"></th><th style="width: 25px"></th></thead><tr ng-repeat="playlist in ctrl.playlists"><td><a href="playlists/edit/{{playlist.id}}">{{playlist.name}}</a></td><td><a href="playlists/play/{{playlist.id}}">playlists/play/{{playlist.id}}</a></td><td class="text-center"><a href="playlists/play/{{playlist.id}}" class="btn btn-inverse btn-small"><i class="fa fa-play"></i> Play</a></td><td class="text-right"><a href="playlists/edit/{{playlist.id}}" class="btn btn-inverse btn-small"><i class="fa fa-edit"></i> Edit</a></td><td class="text-right"><a ng-click="ctrl.removePlaylist(playlist)" class="btn btn-danger btn-small"><i class="fa fa-remove"></i></a></td></tr></table></div>'),a.put("public/app/features/plugins/import_list/import_list.html",'<div class="gf-form-group" ng-if="ctrl.dashboards.length"><table class="filter-table"><tbody><tr ng-repeat="dash in ctrl.dashboards"><td class="width-1"><i class="icon-gf icon-gf-dashboard"></i></td><td><a href="dashboard/{{dash.importedUri}}" ng-show="dash.imported">{{dash.title}} </a><span ng-show="!dash.imported">{{dash.title}}</span></td><td><span ng-if="dash.imported" bs-tooltip=\'"Imported revision:" + dash.importedRevision\'>Revision: {{dash.revision}} <span></span></span></td><td style="text-align: right"><button class="btn btn-secondary btn-small" ng-click="ctrl.import(dash, false)" ng-show="!dash.imported">Import</button> <button class="btn btn-secondary btn-small" ng-click="ctrl.import(dash, true)" ng-show="dash.imported">Update</button> <button class="btn btn-danger btn-small" ng-click="ctrl.remove(dash)" ng-show="dash.imported"><i class="fa fa-trash"></i></button></td></tr></tbody></table></div>'),a.put("public/app/features/plugins/partials/ds_edit.html",'<navbar title="Data Sources" title-url="datasources" icon="icon-gf icon-gf-datasources"></navbar><div class="page-container"><div class="page-header"><h1 ng-show="ctrl.isNew">Add data source</h1><h1 ng-hide="ctrl.isNew">Edit data source</h1><div class="page-header-tabs" ng-show="ctrl.hasDashboards"><ul class="gf-tabs"><li class="gf-tabs-item"><a class="gf-tabs-link" ng-click="ctrl.tabIndex = 0" ng-class="{active: ctrl.tabIndex === 0}">Config</a></li><li class="gf-tabs-item"><a class="gf-tabs-link" ng-click="ctrl.tabIndex = 1" ng-class="{active: ctrl.tabIndex === 1}">Dashboards</a></li></ul></div></div><div ng-if="ctrl.tabIndex === 0" class="tab-content"><form name="ctrl.editForm" ng-if="ctrl.current"><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-7">Name</span> <input class="gf-form-input max-width-21" type="text" ng-model="ctrl.current.name" placeholder="My data source name" required><info-popover offset="0px -135px" mode="right-absolute">The name is used when you select the data source in panels. The <em>Default</em> data source is preselected in new panels.</info-popover></div><gf-form-switch class="gf-form" label="Default" checked="ctrl.current.isDefault" switch-class="max-width-6"></gf-form-switch></div><div class="gf-form"><span class="gf-form-label width-7">Type</span><div class="gf-form-select-wrapper max-width-23"><select class="gf-form-input" ng-model="ctrl.current.type" ng-options="v.id as v.name for v in ctrl.types" ng-change="ctrl.typeChanged()"></select></div></div></div><rebuild-on-change property="ctrl.datasourceMeta.id"><plugin-component type="datasource-config-ctrl"></plugin-component></rebuild-on-change><div ng-if="ctrl.testing" class="gf-form-group"><h5 ng-show="!ctrl.testing.done">Testing.... <i class="fa fa-spiner fa-spin"></i></h5><div class="alert-{{ctrl.testing.status}} alert"><div class="alert-title">{{ctrl.testing.title}}</div><div ng-bind="ctrl.testing.message"></div></div></div><div class="gf-form-button-row"><button type="submit" class="btn btn-success" ng-show="ctrl.isNew" ng-click="ctrl.saveChanges()">Add</button> <button type="submit" class="btn btn-success" ng-show="!ctrl.isNew" ng-click="ctrl.saveChanges()">Save &amp; Test</button> <button type="submit" class="btn btn-danger" ng-show="!ctrl.isNew" ng-click="ctrl.delete()">Delete</button> <a class="btn btn-link" href="datasources">Cancel</a></div></form></div><div ng-if="ctrl.tabIndex === 1" class="tab-content"><dashboard-import-list plugin="ctrl.datasourceMeta" datasource="ctrl.current"></dashboard-import-list></div></div>'),a.put("public/app/features/plugins/partials/ds_http_settings.html",'<div class="gf-form-group"><h3 class="page-heading">Http settings</h3><div class="gf-form-inline"><div class="gf-form max-width-30"><span class="gf-form-label width-7">Url</span> <input class="gf-form-input" type="text" ng-model="current.url" placeholder="{{suggestUrl}}" bs-typeahead="getSuggestUrls" min-length="0" ng-pattern="/^(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?$/" required><info-popover mode="right-absolute"><p>Specify a complete HTTP url (for example http://your_server:8080)</p><span ng-show="current.access === \'direct\'">Your access method is <em>Direct</em>, this means the url needs to be accessable from the browser. </span><span ng-show="current.access === \'proxy\'">Your access method is currently <em>Proxy</em>, this means the url needs to be accessable from the grafana backend.</span></info-popover></div></div><div class="gf-form-inline"><div class="gf-form max-width-30"><span class="gf-form-label width-7">Access</span><div class="gf-form-select-wrapper gf-form-select-wrapper--has-help-icon max-width-24"><select class="gf-form-input" ng-model="current.access" ng-options="f for f in [\'direct\', \'proxy\']"></select><info-popover mode="right-absolute">Direct = url is used directly from browser<br>Proxy = Grafana backend will proxy the request</info-popover></div></div></div><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label width-7">Http Auth</label></div><gf-form-switch class="gf-form" label="Basic Auth" checked="current.basicAuth" switch-class="max-width-6"></gf-form-switch><gf-form-switch class="gf-form" label="With Credentials" checked="current.withCredentials" switch-class="max-width-6"></gf-form-switch></div><div class="gf-form" ng-if="current.basicAuth"><span class="gf-form-label width-7">User </span><input class="gf-form-input max-width-21" type="text" ng-model="current.basicAuthUser" placeholder="user" required></div><div class="gf-form" ng-if="current.basicAuth"><span class="gf-form-label width-7">Password </span><input class="gf-form-input max-width-21" type="password" ng-model="current.basicAuthPassword" placeholder="password" required></div></div>'),
a.put("public/app/features/plugins/partials/ds_list.html",'<navbar title="Data Sources" title-url="datasources" icon="icon-gf icon-gf-datasources"></navbar><div class="page-container"><div class="page-header"><h1>Data Sources</h1><a class="btn btn-success" href="datasources/new"><i class="fa fa-plus"></i> Add data source</a></div><section class="card-section" layout-mode><layout-selector></layout-selector><ol class="card-list"><li class="card-item-wrapper" ng-repeat="ds in ctrl.datasources"><a class="card-item" href="datasources/edit/{{ds.id}}/"><div class="card-item-header"><div class="card-item-type">{{ds.type}}</div></div><div class="card-item-body"><figure class="card-item-figure"><img ng-src="{{ds.typeLogoUrl}}"></figure><div class="card-item-details"><div class="card-item-name">{{ds.name}} <span ng-if="ds.isDefault"><span class="btn btn-secondary btn-mini">default</span></span></div><div class="card-item-sub-name">{{ds.url}}</div></div></div></a></li></ol></section><div ng-if="ctrl.datasources.length === 0"><em>No data sources defined</em></div></div>'),a.put("public/app/features/plugins/partials/plugin_edit.html",'<navbar title="Plugins" title-url="plugins" icon="icon-gf icon-gf-apps"></navbar><div class="page-container" ng-init="ctrl.init()"><div class="page-header"><div class="plugin-header"><span class="plugin-header-logo"><img ng-src="{{ctrl.model.info.logos.large}}"></span><div class="plugin-header-info-block"><h1 class="plugin-header-name">{{ctrl.model.name}}</h1><div class="plugin-header-author">By {{ctrl.model.info.author.name}}</div><div class="plugin-header-stamps"><span class="plugin-header-stamps-type"><i class="{{ctrl.pluginIcon}}"></i> {{ctrl.model.type}}</span></div></div></div><ul class="gf-tabs"><li class="gf-tabs-item" ng-repeat="tab in ctrl.tabs"><a class="gf-tabs-link" ng-click="ctrl.tabIndex = $index" ng-class="{active: ctrl.tabIndex === $index}">{{::tab}}</a></li></ul></div><div class="page-body"><div class="tab-content page-content-with-sidebar" ng-if="ctrl.tabIndex === 0"><div ng-bind-html="ctrl.readmeHtml" class="plugin-markdown-readme"></div></div><div class="tab-content page-content-with-sidebar" ng-if="ctrl.tabIndex === 1"><div ng-if="ctrl.model.id"><plugin-component type="app-config-ctrl"></plugin-component><div class="gf-form-button-row"><button type="submit" class="btn btn-success" ng-click="ctrl.enable()" ng-show="!ctrl.model.enabled">Enable</button> <button type="submit" class="btn btn-success" ng-click="ctrl.update()" ng-show="ctrl.model.enabled">Update</button> <button type="submit" class="btn btn-danger" ng-click="ctrl.disable()" ng-show="ctrl.model.enabled">Disable</button></div></div></div><div class="tab-content page-content-with-sidebar" ng-if="ctrl.tabIndex === 2"><dashboard-import-list plugin="ctrl.model"></dashboard-import-list></div><aside class="page-sidebar"><section class="page-sidebar-section"><h4>Version</h4><span>{{ctrl.model.info.version}}</span><div ng-show="ctrl.model.hasUpdate"><a ng-click="ctrl.updateAvailable()" bs-tooltip="ctrl.model.latestVersion">Update Available!</a></div></section><section class="page-sidebar-section" ng-show="ctrl.model.type === \'app\'"><h5>Includes<ul class="ui-list plugin-info-list"><li ng-repeat="plug in ctrl.includes" class="plugin-info-list-item"><i class="{{plug.icon}}"></i> {{plug.name}}</li></ul></h5></section><section class="page-sidebar-section"><h5>Dependencies<ul class="ui-list plugin-info-list"><li class="plugin-info-list-item"><img src="public/img/grafana_icon.svg">Grafana {{ctrl.model.dependencies.grafanaVersion}}</li><li ng-repeat="plugDep in ctrl.model.dependencies.plugins" class="plugin-info-list-item"><i class="{{plugDep.icon}}"></i> {{plugDep.name}} {{plugDep.version}}</li></ul></h5></section><section class="page-sidebar-section"><h5>Links<ul class="ui-list"><li ng-repeat="link in ctrl.model.info.links"><a href="{{link.url}}" class="external-link" target="_blank">{{link.name}}</a></li></ul></h5></section></aside></div></div>'),a.put("public/app/features/plugins/partials/plugin_list.html",'<navbar title="Plugins" icon="icon-gf icon-gf-apps" title-url="plugins"></navbar><div class="page-container"><div class="page-header"><h1>Plugins</h1><div class="page-header-tabs"><ul class="gf-tabs"><li class="gf-tabs-item"><a class="gf-tabs-link" href="plugins?type=panel" ng-class="{active: ctrl.tabIndex === 0}">Panels</a></li><li class="gf-tabs-item"><a class="gf-tabs-link" href="plugins?type=datasource" ng-class="{active: ctrl.tabIndex === 1}">Data sources</a></li><li class="gf-tabs-item"><a class="gf-tabs-link" href="plugins?type=app" ng-class="{active: ctrl.tabIndex === 2}">Apps</a></li></ul><a class="get-more-plugins-link" href="https://grafana.net/plugins?utm_source=grafana_plugin_list" target="_blank">Find plugins on</a></div></div><section class="card-section" layout-mode><layout-selector></layout-selector><ol class="card-list"><li class="card-item-wrapper" ng-repeat="plugin in ctrl.plugins"><a class="card-item" href="plugins/{{plugin.id}}/edit"><div class="card-item-header"><div class="card-item-type"><i class="icon-gf icon-gf-{{plugin.type}}"></i> {{plugin.type}}</div><div class="card-item-notice" ng-show="plugin.hasUpdate"><span bs-tooltip="plugin.latestVersion">Update available!</span></div></div><div class="card-item-body"><figure class="card-item-figure"><img ng-src="{{plugin.info.logos.small}}"></figure><div class="card-item-details"><div class="card-item-name">{{plugin.name}}</div><div class="card-item-sub-name">By {{plugin.info.author.name}}</div></div></div></a></li></ol></section></div>'),a.put("public/app/features/plugins/partials/plugin_page.html",'<navbar icon-url="{{ctrl.appLogoUrl}}" title="{{ctrl.appModel.name}}" title-url="{{ctrl.appModel.defaultNavUrl}}"></navbar><div class="page-container"><div ng-if="ctrl.page"><plugin-component type="app-page"></plugin-component></div></div>'),a.put("public/app/features/plugins/partials/update_instructions.html",'<div class="modal-body"><div class="modal-header"><h2 class="modal-header-title"><i class="fa fa-cloud-download"></i> <span class="p-l-1">Update Plugin</span></h2><a class="modal-header-close" ng-click="dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content"><div class="gf-form-group"><p>Type the following on the command line to update {{plugin.name}}.</p><pre><code>grafana-cli plugins update {{plugin.id}}</code></pre><span class="small">Check out {{plugin.name}} on <a href="https://grafana.net/plugins/{{plugin.id}}">Grafana.net</a> for README and changelog. If you do not have access to the command line, ask your Grafana administator.</span></div><p class="pluginlist-none-installed"><img class="pluginlist-inline-logo" src="public/img/grafana_icon.svg"><strong>Pro tip</strong>: To update all plugins at once, type <code class="code--small">grafana-cli plugins update-all</code> on the command line.</p></div></div>'),a.put("public/app/features/snapshot/partials/snapshots.html",'<navbar icon="icon-gf icon-gf-snapshot" title="Snapshots" title-url="dashboard/snapshots"></navbar><div class="page-container"><div class="page-header"><h1>Available snapshots</h1></div><table class="filter-table" style="margin-top: 20px"><thead><th><strong>Name</strong></th><th><strong>Snapshot url</strong></th><th style="width: 70px"></th><th style="width: 25px"></th></thead><tr ng-repeat="snapshot in ctrl.snapshots"><td><a href="dashboard/snapshot/{{snapshot.key}}">{{snapshot.name}}</a></td><td><a href="dashboard/snapshot/{{snapshot.key}}">dashboard/snapshot/{{snapshot.key}}</a></td><td class="text-center"><a href="dashboard/snapshot/{{snapshot.key}}" class="btn btn-inverse btn-mini"><i class="fa fa-eye"></i> View</a></td><td class="text-right"><a ng-click="ctrl.removeSnapshot(snapshot)" class="btn btn-danger btn-mini"><i class="fa fa-remove"></i></a></td></tr></table></div>'),a.put("public/app/features/styleguide/styleguide.html",'<navbar icon="fa fa-fw fa-adjust" title="Style Guide" title-url="styleguide"></navbar><div class="page-container"><div class="page-header"><h1>Style Guide</h1><a class="btn btn-success" ng-click="ctrl.switchTheme()"><i class="fa fa-random"></i> Switch theme </a><a class="btn btn-inverse" ng-click="ctrl.switchTheme()"><i class="fa fa-refresh"></i> Reload</a><div class="page-header-tabs"><ul class="gf-tabs"><li class="gf-tabs-item" ng-repeat="page in ctrl.pages"><a class="gf-tabs-link" href="styleguide/{{page}}" ng-class="{active: ctrl.page[page]}">{{page}}</a></li></ul></div></div><div class="tab-pane" ng-if="ctrl.page.colors"><ul><li class="style-guide-color-card" ng-repeat="color in ctrl.colors" style="background-color: {{color.value}}"><strong>${{color.name}}</strong> <em>{{color.value}}</em></li></ul></div><div class="tab-pane" ng-if="ctrl.page.buttons"><div ng-repeat="variant in ctrl.buttonVariants" class="row"><div ng-repeat="btnSize in ctrl.buttonSizes" class="style-guide-button-list p-a-2 col-md-4"><button ng-repeat="buttonName in ctrl.buttonNames" class="btn btn{{variant}}{{buttonName}} {{btnSize}}">btn{{variant}}{{buttonName}}</button></div></div></div><div class="tab-pane" ng-if="ctrl.page.forms">forms</div></div>'),a.put("public/app/features/templating/partials/editor.html",'<div ng-controller="TemplateEditorCtrl" ng-init="init()"><div class="tabbed-view-header"><h2 class="tabbed-view-title">Templating</h2><ul class="gf-tabs"><li class="gf-tabs-item"><a class="gf-tabs-link" ng-click="mode = \'list\';" ng-class="{active: mode === \'list\'}">Variables</a></li><li class="gf-tabs-item" ng-show="mode === \'edit\'"><a class="gf-tabs-link" ng-class="{active: mode === \'edit\'}">Edit</a></li><li class="gf-tabs-item" ng-show="mode === \'new\'"><span class="active gf-tabs-link">New</span></li></ul><button class="tabbed-view-close-btn" ng-click="dismiss();dashboard.refresh();"><i class="fa fa-remove"></i></button></div><div class="tabbed-view-body"><div ng-if="mode === \'list\'"><div ng-if="variables.length === 0"><em>No template variables defined</em></div><table class="grafana-options-table"><tr ng-repeat="variable in variables"><td style="width: 1%"><span class="template-variable">${{variable.name}}</span></td><td class="max-width" style="max-width: 200px">{{variable.query}}</td><td style="width: 1%"><i ng-click="_.move(variables,$index,$index-1)" ng-hide="$first" class="pointer fa fa-arrow-up"></i></td><td style="width: 1%"><i ng-click="_.move(variables,$index,$index+1)" ng-hide="$last" class="pointer fa fa-arrow-down"></i></td><td style="width: 1%"><a ng-click="duplicate(variable)" class="btn btn-inverse btn-mini">Duplicate</a></td><td style="width: 1%"><a ng-click="edit(variable)" class="btn btn-inverse btn-mini"><i class="fa fa-edit"></i> Edit</a></td><td style="width: 1%"><a ng-click="removeVariable(variable)" class="btn btn-danger btn-mini"><i class="fa fa-remove"></i></a></td></tr></table></div><div class="gf-form" ng-show="mode === \'list\'"><div class="gf-form-button-row"><a type="button" class="btn gf-form-button btn-success" ng-click="mode = \'new\';"><i class="fa fa-plus"></i>&nbsp;&nbsp;New</a></div></div><div ng-if="mode === \'edit\' || mode === \'new\'"><h5 class="section-heading">Variable</h5><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form max-width-19"><span class="gf-form-label width-6">Name</span> <input type="text" class="gf-form-input" placeholder="name" ng-model="current.name"></div><div class="gf-form max-width-19"><span class="gf-form-label width-6">Type<info-popover mode="right-normal"><dl><dt>Query</dt><dd>Variable values are fetched from a metric names query to a data source</dd><dt>Interval</dt><dd>Timespan variable type</dd><dt>Datasource</dt><dd>Dynamically switch data sources using this type of variable</dd><dt>Custom</dt><dd>Define variable values manually</dd></dl><a href="http://docs.grafana.org/reference/templating" target="_blank">Templating docs</a></info-popover></span><div class="gf-form-select-wrapper max-width-17"><select class="gf-form-input" ng-model="current.type" ng-options="f.value as f.text for f in variableTypes" ng-change="typeChanged()"></select></div></div></div><div class="gf-form-inline"><div class="gf-form max-width-19"><span class="gf-form-label width-6">Label</span> <input type="text" class="gf-form-input" ng-model="current.label" placeholder="optional display name"></div><div class="gf-form max-width-19"><span class="gf-form-label width-6">Hide</span><div class="gf-form-select-wrapper max-width-15"><select class="gf-form-input" ng-model="current.hide" ng-options="f.value as f.text for f in hideOptions"></select></div></div></div></div><div ng-show="current.type === \'interval\'" class="gf-form-group"><h5 class="section-heading">Interval Options</h5><div class="gf-form"><span class="gf-form-label width-9">Values</span> <input type="text" class="gf-form-input" placeholder="name" ng-model="current.query" placeholder="1m,10m,1h,6h,1d,7d" ng-model-onblur ng-change="runQuery()"></div><div class="gf-form"><span class="gf-form-label width-9">Auto option</span><editor-checkbox text="Enable" model="current.auto" change="runQuery()"></editor-checkbox></div><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-9" ng-show="current.auto">Auto steps<tip>How many times should the current time range be divided to calculate the value</tip></span><div class="gf-form-select-wrapper max-width-10" ng-show="current.auto"><select class="gf-form-input" ng-model="current.auto_count" ng-options="f for f in [2,3,4,5,10,20,30,40,50,100,200,300,400,500]" ng-change="runQuery()"></select></div></div><div class="gf-form"><span class="gf-form-label" ng-show="current.auto">Min interval<tip>The calculated value will not go below this threshold</tip></span><input type="text" class="gf-form-input max-width-10" ng-show="current.auto" ng-model="current.auto_min" ng-change="runQuery()" placeholder="10s"></div></div></div><div ng-show="current.type === \'custom\'" class="gf-form-group"><h5 class="section-heading">Custom Options</h5><div class="gf-form"><span class="gf-form-label width-13">Values separated by comma</span> <input type="text" class="gf-form-input" ng-model="current.query" ng-blur="runQuery()" placeholder="1, 10, 20, myvalue"></div></div><div ng-show="current.type === \'constant\'" class="gf-form-group"><h5 class="section-heading">Constant options</h5><div class="gf-form"><span class="gf-form-label">Value</span> <input type="text" class="gf-form-input" ng-model="current.query" ng-blur="runQuery()" placeholder="your metric prefix"></div></div><div ng-show="current.type === \'query\'" class="gf-form-group"><h5 class="section-heading">Query Options</h5><div class="gf-form-inline"><div class="gf-form max-width-21"><span class="gf-form-label width-7" ng-show="current.type === \'query\'">Data source</span><div class="gf-form-select-wrapper max-width-14"><select class="gf-form-input" ng-model="current.datasource" ng-options="f.value as f.name for f in datasources"></select></div></div><div class="gf-form max-width-21"><span class="gf-form-label width-7">Refresh<info-popover mode="right-normal">When to update the values of this variable.</info-popover></span><div class="gf-form-select-wrapper max-width-14"><select class="gf-form-input" ng-model="current.refresh" ng-options="f.value as f.text for f in refreshOptions"></select></div></div></div><div class="gf-form"><span class="gf-form-label width-7">Query</span> <input type="text" class="gf-form-input" ng-model="current.query" placeholder="metric name or tags query" ng-model-onblur ng-change="runQuery()"></div><div class="gf-form"><span class="gf-form-label width-7">Regex<info-popover mode="right-normal">Optional, if you want to extract part of a series name or metric node segment.</info-popover></span><input type="text" class="gf-form-input" ng-model="current.regex" placeholder="/.*-(.*)-.*/" ng-model-onblur ng-change="runQuery()"></div></div><div ng-show="current.type === \'datasource\'" class="gf-form-group"><h5 class="section-heading">Data source options</h5><div class="gf-form"><label class="gf-form-label width-12">Type</label><div class="gf-form-select-wrapper max-width-18"><select class="gf-form-input" ng-model="current.query" ng-options="f.value as f.text for f in datasourceTypes" ng-change="runQuery()"></select></div></div><div class="gf-form"><label class="gf-form-label width-12">Instance name filter<info-popover mode="right-normal">Regex filter for which data source instances to choose from in the variable value dropdown. Leave empty for all.<br><br>Example: <code>/^prod/</code></info-popover></label><input type="text" class="gf-form-input max-width-18" ng-model="current.regex" placeholder="/.*-(.*)-.*/" ng-model-onblur ng-change="runQuery()"></div></div><div class="section gf-form-group" ng-show="showSelectionOptions()"><h5 class="section-heading">Selection Options</h5><div class="section"><gf-form-switch class="gf-form" label="Multi-value" label-class="width-10" tooltip="Enables multiple values to be selected at the same time" checked="current.multi" on-change="runQuery()"></gf-form-switch><gf-form-switch class="gf-form" label="Include All option" label-class="width-10" checked="current.includeAll" on-change="runQuery()"></gf-form-switch></div><div class="gf-form" ng-if="current.includeAll"><span class="gf-form-label width-10">Custom all value</span> <input type="text" class="gf-form-input max-width-15" ng-model="current.allValue" placeholder="blank = auto"></div></div><div class="gf-form-group" ng-if="current.type === \'query\'"><h5>Value groups/tags (Experimental feature)</h5><div class="gf-form"><editor-checkbox text="Enable" model="current.useTags" change="runQuery()"></editor-checkbox></div><div class="gf-form last" ng-if="current.useTags"><span class="gf-form-label width-10">Tags query</span> <input type="text" class="gf-form-input" ng-model="current.tagsQuery" placeholder="metric name or tags query" ng-model-onblur></div><div class="gf-form" ng-if="current.useTags"><li class="gf-form-label width-10">Tag values query</li><input type="text" class="gf-form-input" ng-model="current.tagValuesQuery" placeholder="apps.$tag.*" ng-model-onblur></div></div><div class="gf-form-group"><h5>Preview of values (shows max 20)</h5><div class="gf-form-inline"><div class="gf-form" ng-repeat="option in current.options | limitTo: 20"><span class="gf-form-label">{{option.text}}</span></div></div></div></div><div class="gf-form-button-row p-y-0"><button type="button" class="btn btn-success" ng-show="mode === \'edit\'" ng-click="update();">Update</button> <button type="button" class="btn btn-success" ng-show="mode === \'new\'" ng-click="add();">Add</button></div></div></div>'),a.put("public/app/partials/bootstrap/tab.html",'<li ng-class="{active: active, disabled: disabled}"><a href ng-click="select()" tab-heading-transclude>{{heading}}</a></li>'),a.put("public/app/partials/bootstrap/tabset.html",'<div><ul class="nav nav-tabs" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul><div class="tab-content"><div class="tab-pane" ng-repeat="tab in tabs" ng-class="{active: tab.active}" tab-content-transclude="tab"></div></div></div>'),a.put("public/app/partials/confirm_modal.html",'<div class="modal-body" ng-cloak><div class="modal-header"><h2 class="modal-header-title"><i class="fa {{icon}}"></i> <span class="p-l-1">{{title}}</span></h2><a class="modal-header-close" ng-click="dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content text-center"><div class="confirm-modal-text">{{text}}<div class="confirm-modal-text2" ng-show="text2">{{text2}}</div></div><div class="confirm-modal-buttons"><button type="button" class="btn btn-inverse" ng-click="dismiss()">{{noText}}</button> <button type="button" class="btn btn-danger" ng-click="onConfirm();dismiss();">{{yesText}}</button> <button ng-show="onAltAction" type="button" class="btn btn-success" ng-click="dismiss();onAltAction();">{{altActionText}}</button></div></div></div>'),a.put("public/app/partials/dashboard.html",'<div dash-class ng-if="dashboard"><dashnav></dashnav><div class="dashboard-container"><div dash-editor-view></div><dashboard-search></dashboard-search><div class="clearfix"></div><dashboard-submenu ng-if="submenuEnabled" dashboard="dashboard"></dashboard-submenu><div class="clearfix"></div><div class="grafana-row" ng-controller="RowCtrl" ng-repeat="(row_name, row) in dashboard.rows" row-height><div class="row-control"><div class="row-control-inner"><div class="row-close" ng-show="row.collapse" data-placement="bottom"><div class="row-close-buttons"><span class="row-button" ng-click="toggleRow(row)"><i bs-tooltip="\'Expand row\'" data-placement="right" class="fa fa-caret-left pointer"></i></span></div><div class="row-text pointer" ng-click="toggleRow(row)" ng-bind="row.title | interpolateTemplateVars:this"></div></div><div class="row-open" ng-show="!row.collapse"><div class="row-tab dropdown" ng-show="dashboardMeta.canEdit" ng-hide="dashboard.meta.fullscreen"><span class="row-tab-button dropdown-toggle" data-toggle="dropdown"><i class="fa fa-bars"></i></span><ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="drop1"><li><a ng-click="toggleRow(row)">Collapse row</a></li><li class="dropdown-submenu"><a href="javascript:void(0);">Add Panel</a><ul class="dropdown-menu"><li bindonce ng-repeat="(key, value) in panels"><a ng-click="addPanelDefault(key)" bo-text="value.name"></a></li></ul></li><li class="dropdown-submenu"><a href="javascript:void(0);">Set height</a><ul class="dropdown-menu"><li><a ng-click="setHeight(\'25px\')">25 px</a></li><li><a ng-click="setHeight(\'100px\')">100 px</a></li><li><a ng-click="setHeight(\'150px\')">150 px</a></li><li><a ng-click="setHeight(\'200px\')">200 px</a></li><li><a ng-click="setHeight(\'250px\')">250 px</a></li><li><a ng-click="setHeight(\'300px\')">300 px</a></li><li><a ng-click="setHeight(\'350px\')">350 px</a></li><li><a ng-click="setHeight(\'450px\')">450 px</a></li><li><a ng-click="setHeight(\'500px\')">500 px</a></li><li><a ng-click="setHeight(\'600px\')">600 px</a></li><li><a ng-click="setHeight(\'700px\')">700 px</a></li></ul></li><li class="dropdown-submenu"><a href="javascript:void(0);">Move</a><ul class="dropdown-menu"><li><a ng-click="moveRow(\'up\')">Up</a></li><li><a ng-click="moveRow(\'down\')">Down</a></li><li><a ng-click="moveRow(\'top\')">To top</a></li><li><a ng-click="moveRow(\'bottom\')">To Bottom</a></li></ul></li><li><a ng-click="editRow()">Row editor</a></li><li><a ng-click="deleteRow()">Delete row</a></li></ul></div></div></div><div class="panels-wrapper" ng-if="!row.collapse"><div class="row-text pointer" ng-click="toggleRow(row)" ng-if="row.showTitle" ng-bind="row.title | interpolateTemplateVars:this"></div><div ng-repeat="panel in row.panels track by panel.id" class="panel" ui-draggable="!dashboard.meta.fullscreen" drag="panel.id" ui-on-drop="onDrop($data, row, panel)" drag-handle-class="drag-handle" panel-width><plugin-component type="panel" class="panel-margin"></plugin-component></div><div panel-drop-zone class="panel panel-drop-zone" ui-on-drop="onDrop($data, row)" data-drop="true"><div class="panel-container" style="background: transparent"><div style="text-align: center"><em>Drop here</em></div></div></div><div class="clearfix"></div></div></div></div><div ng-show="dashboardMeta.canEdit" class="row-fluid add-row-panel-hint" ng-hide="dashboard.meta.fullscreen"><div class="span12" style="text-align:right"><span style="margin-right: 10px" ng-click="addRowDefault()" class="pointer btn btn-secondary btn-small"><span><i class="fa fa-plus"></i> ADD ROW</span></span></div></div></div></div>'),a.put("public/app/partials/edit_json.html",'<div ng-controller="JsonEditorCtrl"><div class="tabbed-view-header"><h2 class="tabbed-view-title">JSON</h2><button class="tabbed-view-close-btn" ng-click="dismiss()"><i class="fa fa-remove"></i></button></div><div class="tabbed-view-body"><div class="gf-form"><textarea class="gf-form-input" ng-model="json" rows="20" spellcheck="false"></textarea></div><div class="gf-form-button-row"><button type="button" class="btn btn-success" ng-show="canUpdate" ng-click="update(); dismiss();">Update</button></div></div></div>'),a.put("public/app/partials/error.html",'<div class="row-fluid" style="margin-top: 100px"><div class="span2"></div><div class="grafana-info-box span8 text-center"><h3>Page not found (404)</h3></div><div class="span2"></div></div>'),a.put("public/app/partials/help_modal.html",'<div class="modal-body"><div class="modal-header"><h2 class="modal-header-title"><i class="fa fa-keyboard-o"></i> <span class="p-l-1">Keyboard shortcuts</span></h2><a class="modal-header-close" ng-click="dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content"><table class="shortcut-table"><tr><th></th><th style="text-align: left">Dashboard wide shortcuts</th></tr><tr><td style="text-align: right"><span class="label label-info">ESC</span></td><td>Exit fullscreen edit/view mode, close search or any editor view</td></tr><tr><td><span class="label label-info">F</span></td><td>Open dashboard search view (also contains import/playlist controls)</td></tr><tr><td><span class="label label-info">R</span></td><td>Refresh (Fetches new data and rerenders panels)</td></tr><tr><td><span class="label label-info">left arrow key</span></td><td>Shift time backward</td></tr><tr><td><span class="label label-info">right arrow key</span></td><td>Shift time forward</td></tr><tr><td><span class="label label-info">CTRL+S</span></td><td>Save dashboard</td></tr><tr><td><span class="label label-info">CTRL+H</span></td><td>Hide row controls</td></tr><tr><td><span class="label label-info">CTRL+Z</span></td><td>Zoom out</td></tr><tr><td><span class="label label-info">CTRL+I</span></td><td>Quick snapshot</td></tr><tr><td><span class="label label-info">CTRL+O</span></td><td>Enable/Disable shared graph crosshair</td></tr></table></div></div>'),a.put("public/app/partials/inspector.html",'<div class="modal-body" ng-controller="InspectCtrl" ng-init="init()"><div class="modal-header"><h2 class="modal-header-title">Inspector</h2><ul class="gf-tabs"><li class="gf-tabs-item" ng-repeat="tab in [\'Request\', \'Response\', \'JS Error\']"><a class="gf-tabs-link" ng-click="editor.index = $index" ng-class="{active: editor.index === $index}">{{::tab}}</a></li></ul><a class="modal-header-close" ng-click="dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content"><div ng-if="editor.index == 0"><h5 class="section-heading">Request details</h5><table class="filter-table gf-form-group"><tr><td>Url</td><td>{{inspector.error.config.url}}</td></tr><tr><td>Method</td><td>{{inspector.error.config.method}}</td></tr><tr ng-repeat="(key, value) in inspector.error.config.headers"><td>{{key}}</td><td>{{value}}</td></tr></table><h5 class="section-heading">Request parameters</h5><table class="filter-table"><tr ng-repeat="param in request_parameters"><td>{{param.key}}</td><td>{{param.value}}</td></tr></table></div><div ng-if="editor.index == 1"><h5 ng-show="message">{{message}}</h5><pre class="small">\n{{response}}\n\t\t\t</pre></div><div ng-if="editor.index == 2"><label>Message:</label><pre>\n{{message}}\n</pre><label>Stack trace:</label><pre>\n\t\t\t{{stack_trace}}\n\t\t</pre></div></div></div>'),a.put("public/app/partials/login.html",'<div class="login-container container"><div class="login-box"><div class="login-box-logo"><img class="logo-icon" src="public/img/grafana_icon.svg"><br><i class="icon-gf icon-gf-grafana_wordmark"></i></div><div class="login-inner-box"><div class="login-tab-header"><button class="btn-login-tab" ng-click="loginMode = true;" ng-class="{active: loginMode}">Log in</button> <button class="btn-login-tab" ng-click="loginMode = false;" ng-class="{active: !loginMode}" ng-show="!disableUserSignUp">Sign up</button></div><form name="loginForm" class="login-form gf-form-group"><div class="gf-form" ng-if="loginMode"><span class="gf-form-label width-7">User</span> <input type="text" name="username" class="gf-form-input max-width-14" required ng-model="formModel.user" placeholder="{{loginHint}}"></div><div class="gf-form" ng-if="loginMode"><span class="gf-form-label width-7">Password</span> <input type="password" name="password" class="gf-form-input max-width-14" required ng-model="formModel.password" id="inputPassword" placeholder="password"></div><div class="gf-form" ng-if="!loginMode"><span class="gf-form-label width-7">Email</span> <input type="email" class="gf-form-input max-width-14" required ng-model="formModel.email" placeholder="email"></div><div class="gf-form-button-row"><button type="submit" class="btn btn-large p-x-3" ng-click="submit();" ng-class="{\'btn-inverse\': !loginForm.$valid, \'btn-primary\': loginForm.$valid}">{{submitBtnText}}</button></div></form><div ng-if="loginMode"><div class="text-center login-divider" ng-if="oauthEnabled"><div class="login-divider-line"><span class="login-divider-text">Or login with</span></div></div><div class="clearfix"></div><div class="login-oauth text-center" ng-if="oauthEnabled"><a class="btn btn-large btn-google" href="login/google" target="_self" ng-if="googleAuthEnabled"><i class="fa fa-google"></i> with Google </a><a class="btn btn-large btn-github" href="login/github" target="_self" ng-if="githubAuthEnabled"><i class="fa fa-github"></i> with Github</a></div></div><div class="clearfix"></div><div class="text-center password-recovery"><div class="text-center"><a href="user/password/send-reset-email">Forgot your password?</a></div></div></div></div></div>'),a.put("public/app/partials/metrics.html",'<div class="query-editor-rows gf-form-group"><div ng-repeat="target in ctrl.panel.targets" ng-class="{\'gf-form-disabled\': target.hide}"><rebuild-on-change property="ctrl.panel.datasource || target.datasource" show-null="true"><plugin-component type="query-ctrl"></plugin-component></rebuild-on-change></div></div><metrics-ds-selector panel-ctrl="ctrl"></metrics-ds-selector><div class="gf-form-group"><rebuild-on-change property="ctrl.panel.datasource" show-null="true"><plugin-component type="query-options-ctrl"></plugin-component></rebuild-on-change></div>'),a.put("public/app/partials/modal.html",'<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button><h3>{{modal.title}}</h3></div><div class="modal-body"><div ng-bind-html="modal.body"></div></div><div class="modal-footer"><button type="button" class="btn btn-danger" ng-click="dismiss()">Close</button></div>'),a.put("public/app/partials/panelgeneral.html",'<div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form max-width-21"><span class="gf-form-label width-8">Title</span> <input type="text" class="gf-form-input" ng-model="ctrl.panel.title"></div><div class="gf-form"><span class="gf-form-label width-6">Span</span><select class="gf-form-input gf-size-auto" ng-model="ctrl.panel.span" ng-options="f for f in [0,1,2,3,4,5,6,7,8,9,10,11,12]"></select></div><div class="gf-form max-width-26"><span class="gf-form-label width-8">Height</span> <input type="text" class="gf-form-input max-width-6" ng-model="ctrl.panel.height" placeholder="100px"><editor-checkbox text="Transparent" model="ctrl.panel.transparent"></editor-checkbox></div></div><div class="gf-form-inline"><div class="gf-form max-width-21"><span class="gf-form-label width-8">Repeat Panel</span><select class="gf-form-input" ng-model="ctrl.panel.repeat" ng-options="f.name as f.name for f in ctrl.dashboard.templating.list"><option value=""></option></select></div><div class="gf-form"><span class="gf-form-label width-6">Min span</span><select class="gf-form-input" ng-model="ctrl.panel.minSpan" ng-options="f for f in [1,2,3,4,5,6,7,8,9,10,11,12]"><option value=""></option></select></div></div></div><panel-links-editor panel="ctrl.panel"></panel-links-editor>'),a.put("public/app/partials/reset_password.html",'<div class="login-container container"><div class="login-box"><div class="login-box-logo"><img class="logo-icon" src="public/img/grafana_icon.svg"><br><i class="icon-gf icon-gf-grafana_wordmark"></i></div><div class="login-inner-box"><div class="login-tab-header"><button class="btn-login-tab" class="active">Reset password</button></div><form name="sendResetForm" class="login-form gf-form-group" ng-show="mode === \'send\'"><div class="gf-form"><span class="gf-form-label width-7">User</span> <input type="text" name="username" class="gf-form-input max-width-14" required ng-model="formModel.userOrEmail" placeholder="email or username"></div><div class="gf-form-button-row"><button type="submit" class="btn btn-large" ng-click="sendResetEmail();" ng-class="{\'btn-inverse\': !sendResetForm.$valid, \'btn-primary\': sendResetForm.$valid}">Send reset instructions</button></div></form><h5 style="text-align: center; padding: 20px" ng-if="mode === \'email-sent\'">An email with a reset link as been sent to the email address, you should receive it shortly.</h5><form name="resetForm" class="login-form gf-form-group" ng-show="mode === \'reset\'"><div class="gf-form"><span class="gf-form-label width-10">New Password</span> <input type="password" name="NewPassword" class="gf-form-input max-width-14" required ng-minlength="4" ng-model="formModel.newPassword" placeholder="password" watch-change="formModel.newPassword = inputValue;"></div><div class="gf-form"><span class="gf-form-label width-10">Confirm Password</span> <input type="password" name="ConfirmPassword" class="gf-form-input max-width-14" required ng-minlength="4" ng-model="formModel.confirmPassword" placeholder="confirm password"></div><div style="margin-left: 141px; width: 207px"><password-strength password="formModel.newPassword"></password-strength></div><div class="gf-form-button-row"><button type="submit" class="btn" ng-click="submitReset();" ng-class="{\'btn-inverse\': !resetForm.$valid, \'btn-primary\': resetForm.$valid}">Reset Password</button></div></form></div><div class="row" style="margin-top: 20px"><div class="text-center"><a href="login">Back to login</a></div></div></div></div>'),
a.put("public/app/partials/roweditor.html",'<div class="tabbed-view-header"><h2 class="tabbed-view-title">Row settings</h2><button class="tabbed-view-close-btn" ng-click="dismiss();"><i class="fa fa-remove"></i></button></div><div class="tabbed-view-body"><div class="row"><div class="col-md-8"><div class="page-heading"><h5>Row details</h5></div><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-6">Title</span> <input type="text" class="gf-form-input max-width-14" ng-model="row.title"></div><div class="gf-form"><span class="gf-form-label width-6">Height</span> <input type="text" class="gf-form-input max-width-8" ng-model="row.height"><editor-checkbox text="Show Title" model="row.showTitle"></editor-checkbox></div></div></div></div><div class="col-md-4"><div class="page-heading"><h5>Templating options</h5></div><div class="gf-form-group"><div class="gf-form"><span class="gf-form-label">Repeat Row</span><div class="gf-form-select-wrapper max-width-10"><select class="gf-form-input" ng-model="row.repeat" ng-options="f.name as f.name for f in dashboard.templating.list"><option value=""></option></select></div></div></div></div></div></div>'),a.put("public/app/partials/signup_invited.html",'<div class="container"><div class="signup-page-background"></div><div class="login-box"><div class="login-box-logo"><img class="logo-icon" src="public/img/grafana_icon.svg"><br><i class="icon-gf icon-gf-grafana_wordmark"></i></div><div class="invite-box"><h3>Hello {{greeting}}.</h3><div class="modal-tagline p-b-2"><em>{{invitedBy}}</em> has invited you to join Grafana and the organization <span class="highlight-word">{{contextSrv.user.orgName}}</span><br>Please complete the following to accept your invitation and continue:</div><form name="inviteForm" class="login-form gf-form-group"><div class="gf-form"><span class="gf-form-label width-7">Email</span> <input type="email" name="email" class="gf-form-input max-width-21" required ng-model="formModel.email" placeholder="Email"></div><div class="gf-form"><span class="gf-form-label width-7">Name</span> <input type="text" name="name" class="gf-form-input max-width-21" ng-model="formModel.name" placeholder="Name (optional)"></div><div class="gf-form"><span class="gf-form-label width-7">Username</span> <input type="text" name="username" class="gf-form-input max-width-21" required ng-model="formModel.username" placeholder="Username"></div><div class="gf-form"><span class="gf-form-label width-7">Password</span> <input type="password" name="password" class="gf-form-input max-width-21" required ng-model="formModel.password" id="inputPassword" placeholder="password"></div><div style="margin-left: 7.5rem; width: 254px"><password-strength password="formModel.password"></password-strength></div><div class="gf-form-button-row"><button type="submit" class="btn btn-inverse" ng-click="submit();" ng-class="{\'btn-inverse\': !inviteForm.$valid, \'btn-primary\': inviteForm.$valid}">Continue</button></div></form></div></div></div>'),a.put("public/app/partials/signup_step2.html",'<div class="container"><div class="signup-page-background"></div><div class="login-box"><div class="login-box-logo"><img class="logo-icon" src="public/img/grafana_icon.svg"><br><i class="icon-gf icon-gf-grafana_wordmark"></i></div><div class="invite-box"><h3>You\'re almost there.</h3><div class="modal-tagline">We just need a couple of more bits of<br>information to finish creating your account.</div><div style="display: inline-block; margin-top: 25px; width: 300px"><div class="editor-option"><label class="small">Your email:</label><span class="large">{{formModel.email}}</span></div></div><br><br><form name="signUpForm" class="login-form gf-form-group"><div class="gf-form" ng-if="verifyEmailEnabled"><span class="gf-form-label width-9">Email code<tip>Email verification code (sent to your email)</tip></span><input type="text" class="gf-form-input max-width-14" ng-model="formModel.code" required></div><div class="gf-form" ng-if="!autoAssignOrg"><span class="gf-form-label width-9">Org. name</span> <input type="text" name="orgName" class="gf-form-input max-width-14" ng-model="formModel.orgName" placeholder="Name your organization"></div><div class="gf-form"><span class="gf-form-label width-9">Your name</span> <input type="text" name="name" class="gf-form-input max-width-14" ng-model="formModel.name" placeholder="(optional)"></div><div class="gf-form"><span class="gf-form-label width-9">Username</span> <input type="text" class="gf-form-input max-width-14" required ng-model="formModel.username" placeholder="Username" autocomplete="off"></div><div class="gf-form"><span class="gf-form-label width-9">Password</span> <input type="password" class="gf-form-input max-width-14" required ng-model="formModel.password" id="inputPassword" placeholder="password" autocomplete="off"></div><div style="margin-left: 7.5rem; width: 254px"><password-strength password="formModel.password"></password-strength></div><div class="gf-form-button-row"><button type="submit" class="btn" ng-click="ctrl.submit();" ng-class="{\'btn-inverse\': !signUpForm.$valid, \'btn-primary\': signUpForm.$valid}">Continue</button></div></form></div></div></div>'),a.put("public/app/partials/unsaved-changes.html",'<div class="modal-body"><div class="modal-header"><h2 class="modal-header-title"><i class="fa fa-exclamation"></i> <span class="p-l-1">Unsaved changes</span></h2><a class="modal-header-close" ng-click="dismiss();"><i class="fa fa-remove"></i></a></div><div class="modal-content text-center"><div class="confirm-modal-text">What do you want to do?</div><div class="confirm-modal-buttons"><button type="button" class="btn btn-inverse" ng-click="dismiss()">Cancel</button> <button type="button" class="btn btn-danger" ng-click="ignore();dismiss()">Ignore</button> <button type="button" class="btn btn-success" ng-click="save();dismiss();">Save</button></div></div></div>'),a.put("public/app/partials/valueSelectDropdown.html",'<div class="variable-link-wrapper"><a ng-click="vm.show()" class="variable-value-link">{{vm.linkText}} <span ng-repeat="tag in vm.selectedTags" bs-tooltip="tag.valuesText" data-placement="bottom"><span class="label-tag" tag-color-from-name="tag.text">&nbsp;&nbsp;<i class="fa fa-tag"></i>&nbsp; {{tag.text}} </span></span><i class="fa fa-caret-down"></i> </a><input type="text" class="hidden-input input-small" style="display: none" ng-keydown="vm.keyDown($event)" ng-model="vm.search.query" ng-change="vm.queryChanged()"><div class="variable-value-dropdown" ng-if="vm.dropdownVisible" ng-class="{\'multi\': vm.variable.multi, \'single\': !vm.variable.multi}"><div class="variable-options-wrapper"><div class="variable-options-column"><a class="variable-options-column-header" ng-if="vm.variable.multi" ng-class="{\'many-selected\': vm.selectedValues.length > 1}" bs-tooltip="\'Clear selections\'" data-placement="top" ng-click="vm.clearSelections()"><span class="variable-option-icon"></span> Selected ({{vm.selectedValues.length}}) </a><a class="variable-option pointer" ng-repeat="option in vm.search.options" ng-class="{\'selected\': option.selected, \'highlighted\': $index === vm.highlightIndex}" ng-click="vm.selectValue(option, $event)"><span class="variable-option-icon"></span> <span>{{option.text}}</span></a></div><div class="variable-options-column" ng-if="vm.tags.length"><div class="variable-options-column-header text-center">Tags</div><a class="variable-option-tag pointer" ng-repeat="tag in vm.tags" ng-click="vm.selectTag(tag, $event)" ng-class="{\'selected\': tag.selected}"><span class="fa fa-fw variable-option-icon"></span> <span class="label-tag" tag-color-from-name="tag.text">{{tag.text}}&nbsp;&nbsp;<i class="fa fa-tag"></i>&nbsp;</span></a></div></div></div></div>'),a.put("public/app/plugins/datasource/cloudwatch/partials/annotations.editor.html",'<cloudwatch-query-parameter target="ctrl.annotation" datasource="ctrl.datasource"></cloudwatch-query-parameter><div class="editor-row" style="padding: 2rem 0"><div class="section"><h5>Prefix matching</h5><div class="editor-option"><editor-checkbox text="Enable" model="ctrl.annotation.prefixMatching"></editor-checkbox></div><div class="editor-option" ng-if="ctrl.annotation.prefixMatching"><label class="small">Action</label><input type="text" class="input-small" ng-model="ctrl.annotation.actionPrefix"></div><div class="editor-option" ng-if="ctrl.annotation.prefixMatching"><label class="small">Alarm Name</label><input type="text" class="input-small" ng-model="ctrl.annotation.alarmNamePrefix"></div></div></div>'),a.put("public/app/plugins/datasource/cloudwatch/partials/config.html",'<h3 class="page-heading">CloudWatch details</h3><div class="gf-form-group max-width-30"><div class="gf-form"><label class="gf-form-label width-13">Credentials profile name</label><input type="text" class="gf-form-input max-width-18" ng-model="ctrl.current.database" placeholder="default"><info-popover mode="right-absolute">Credentials profile name, as specified in ~/.aws/credentials, leave blank for default</info-popover></div><div class="gf-form"><label class="gf-form-label width-13">Default Region</label><div class="gf-form-select-wrapper max-width-18 gf-form-select-wrapper--has-help-icon"><select class="gf-form-input" ng-model="ctrl.current.jsonData.defaultRegion" ng-options="region for region in [\'ap-northeast-1\', \'ap-northeast-2\', \'ap-southeast-1\', \'ap-southeast-2\', \'cn-north-1\', \'eu-central-1\', \'eu-west-1\', \'sa-east-1\', \'us-east-1\', \'us-west-1\', \'us-west-2\']"></select><info-popover mode="right-absolute">Specify the region, such as for US West (Oregon) use ` us-west-2 ` as the region.</info-popover></div></div><div class="gf-form"><label class="gf-form-label width-13">Custom Metrics namespace</label><input type="text" class="gf-form-input max-width-18" ng-model="ctrl.current.jsonData.customMetricsNamespaces" placeholder="Namespace1,Namespace2"><info-popover mode="right-absolute">Namespaces of Custom Metrics</info-popover></div><div class="gf-form"><label class="gf-form-label width-13">Assume Role ARN</label><input type="text" class="gf-form-input max-width-18" ng-model="ctrl.current.jsonData.assumeRoleArn" placeholder="arn:aws:iam:*"><info-popover mode="right-absolute">ARN of Assume Role</info-popover></div></div>'),a.put("public/app/plugins/datasource/cloudwatch/partials/query.editor.html",'<query-editor-row query-ctrl="ctrl" can-collapse="false"><cloudwatch-query-parameter target="ctrl.target" datasource="ctrl.datasource" on-change="ctrl.refresh()"></cloudwatch-query-parameter></query-editor-row>'),a.put("public/app/plugins/datasource/cloudwatch/partials/query.parameter.html",'<div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label query-keyword width-7">Metric</label><metric-segment segment="regionSegment" get-options="getRegions()" on-change="regionChanged()"></metric-segment><metric-segment segment="namespaceSegment" get-options="getNamespaces()" on-change="namespaceChanged()"></metric-segment><metric-segment segment="metricSegment" get-options="getMetrics()" on-change="metricChanged()"></metric-segment></div><div class="gf-form"><label class="gf-form-label query-keyword">Stats</label></div><div class="gf-form" ng-repeat="segment in statSegments"><metric-segment segment="segment" get-options="getStatSegments(segment, $index)" on-change="statSegmentChanged(segment, $index)"></metric-segment></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label query-keyword width-7">Dimensions</label><metric-segment ng-repeat="segment in dimSegments" segment="segment" get-options="getDimSegments(segment, $index)" on-change="dimSegmentChanged(segment, $index)"></metric-segment></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label query-keyword width-7">Period<info-popover mode="right-normal">Interval between points in seconds</info-popover></label><input type="text" class="gf-form-input" ng-model="target.period" spellcheck="false" placeholder="auto" ng-model-onblur ng-change="onChange()"></div><div class="gf-form max-width-30"><label class="gf-form-label query-keyword width-7">Alias</label><input type="text" class="gf-form-input" ng-model="target.alias" spellcheck="false" ng-model-onblur ng-change="onChange()"><info-popover mode="right-absolute">Alias replacement variables:<ul ng-non-bindable><li>{{metric}}</li><li>{{stat}}</li><li>{{namespace}}</li><li>{{region}}</li><li>{{DIMENSION_NAME}}</li></ul></info-popover></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div>'),a.put("public/app/plugins/datasource/elasticsearch/partials/annotations.editor.html",'<div class="gf-form-group"><div class="gf-form" ng-if="ctrl.annotation.index"><span class="gf-form-label width-14">Index name</span> <input type="text" class="gf-form-input max-width-20" ng-model="ctrl.annotation.index" placeholder="events-*"></div><div class="gf-form"><span class="gf-form-label width-14">Search query (lucene)<tip>Use [[filterName]] in query to replace part of the query with a filter value</tip></span><input type="text" class="gf-form-input max-width-20" ng-model="ctrl.annotation.query" placeholder="tags:deploy"></div></div><div class="gf-form-group"><h6>Field mappings</h6><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-10">Time</span> <input type="text" class="gf-form-input max-width-16" ng-model="ctrl.annotation.timeField" placeholder="@timestamp"></div><div class="gf-form"><span class="gf-form-label width-10">Title</span> <input type="text" class="gf-form-input max-width-16" ng-model="ctrl.annotation.titleField" placeholder="desc"></div></div><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-10">Tags</span> <input type="text" class="gf-form-input max-width-16" ng-model="ctrl.annotation.tagsField" placeholder="tags"></div><div class="gf-form"><span class="gf-form-label width-10">Text</span> <input type="text" class="gf-form-input max-width-16" ng-model="ctrl.annotation.textField" placeholder=""></div></div></div>'),a.put("public/app/plugins/datasource/elasticsearch/partials/bucket_agg.html",'<div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label query-keyword width-7"><span ng-show="isFirst">Group by</span> <span ng-hide="isFirst">Then by</span></label><metric-segment-model property="agg.type" options="bucketAggTypes" on-change="onTypeChanged()" custom="false" css-class="width-10"></metric-segment-model><metric-segment-model ng-if="agg.field" property="agg.field" get-options="getFieldsInternal()" on-change="onChange()" css-class="width-12"></metric-segment-model></div><div class="gf-form gf-form--grow"><label class="gf-form-label gf-form-label--grow"><a ng-click="toggleOptions()"><i class="fa fa-caret-down" ng-show="showOptions"></i> <i class="fa fa-caret-right" ng-hide="showOptions"></i> {{settingsLinkText}}</a></label></div><div class="gf-form"><label class="gf-form-label" ng-if="isFirst"><a class="pointer" ng-click="addBucketAgg()"><i class="fa fa-plus"></i></a></label><label class="gf-form-label"><a class="pointer" ng-click="removeBucketAgg()"><i class="fa fa-minus"></i></a></label></div></div><div class="gf-form-group" ng-if="showOptions"><div ng-if="agg.type === \'date_histogram\'"><div class="gf-form offset-width-7"><label class="gf-form-label width-10">Interval</label><metric-segment-model property="agg.settings.interval" get-options="getIntervalOptions()" on-change="onChangeInternal()" css-class="width-12" custom="true"></metric-segment-model></div><div class="gf-form offset-width-7"><label class="gf-form-label width-10">Min Doc Count</label><input type="number" class="gf-form-input max-width-12" ng-model="agg.settings.min_doc_count" ng-blur="onChangeInternal()"></div><div class="gf-form offset-width-7"><label class="gf-form-label width-10">Trim edges<info-popover mode="right-normal">Trim the edges on the timeseries datapoints</info-popover></label><input class="gf-form-input max-width-12" type="number" ng-model="agg.settings.trimEdges" ng-change="onChangeInternal()"></div></div><div ng-if="agg.type === \'terms\'"><div class="gf-form offset-width-7"><label class="gf-form-label width-10">Order</label><metric-segment-model property="agg.settings.order" options="orderOptions" on-change="onChangeInternal()" css-class="width-12"></metric-segment-model></div><div class="gf-form offset-width-7"><label class="gf-form-label width-10">Size</label><metric-segment-model property="agg.settings.size" options="sizeOptions" on-change="onChangeInternal()" css-class="width-12"></metric-segment-model></div><div class="gf-form offset-width-7"><label class="gf-form-label width-10">Order By</label><metric-segment-model property="agg.settings.orderBy" options="orderByOptions" on-change="onChangeInternal()" css-class="width-12"></metric-segment-model></div></div><div ng-if="agg.type === \'filters\'"><div class="gf-form-inline offset-width-7" ng-repeat="filter in agg.settings.filters"><div class="gf-form"><label class="gf-form-label width-10">Query {{$index + 1}}</label><input type="text" class="gf-form-input max-width-12" ng-model="filter.query" spellcheck="false" placeholder="Lucene query" ng-blur="onChangeInternal()"></div><div class="gf-form"><label class="gf-form-label" ng-if="$first"><a class="pointer" ng-click="addFiltersQuery()"><i class="fa fa-plus"></i></a></label><label class="gf-form-label" ng-if="!$first"><a class="pointer" ng-click="removeFiltersQuery(filter)"><i class="fa fa-minus"></i></a></label></div></div></div><div ng-if="agg.type === \'geohash_grid\'"><div class="gf-form offset-width-7"><label class="gf-form-label width-10">Precision</label><input type="number" class="gf-form-input max-width-12" ng-model="agg.settings.precision" spellcheck="false" placeholder="3" ng-blur="onChangeInternal()"></div></div></div>'),a.put("public/app/plugins/datasource/elasticsearch/partials/config.html",'<datasource-http-settings current="ctrl.current" suggest-url="http://localhost:9200"></datasource-http-settings><h3 class="page-heading">Elasticsearch details</h3><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form max-width-25"><span class="gf-form-label width-9">Index name</span> <input class="gf-form-input" type="text" ng-model="ctrl.current.database" placeholder="" required></div><div class="gf-form width-14"><span class="gf-form-label width-9">Pattern</span><select class="gf-form-input gf-size-auto" ng-model="ctrl.current.jsonData.interval" ng-options="f.value as f.name for f in ctrl.indexPatternTypes" ng-change="ctrl.indexPatternTypeChanged()"></select></div></div><div class="gf-form max-width-25"><span class="gf-form-label width-9">Time field name</span> <input class="gf-form-input" type="text" ng-model="ctrl.current.jsonData.timeField" placeholder="" required ng-init=""></div><div class="gf-form"><span class="gf-form-label width-9">Version</span><select class="gf-form-input gf-size-auto" ng-model="ctrl.current.jsonData.esVersion" ng-options="f.value as f.name for f in ctrl.esVersions"></select></div></div><h3 class="page-heading">Default query settings</h3><div class="gf-form-group"><div class="gf-form"><span class="gf-form-label">Group by time interval</span> <input class="gf-form-input max-width-9" type="text" ng-model="ctrl.current.jsonData.timeInterval" spellcheck="false" placeholder="example: >10s"></div></div>'),a.put("public/app/plugins/datasource/elasticsearch/partials/metric_agg.html",'<div class="gf-form-inline" ng-class="{\'gf-form-disabled\': agg.hide}"><div class="gf-form"><label class="gf-form-label query-keyword width-7">Metric &nbsp; <a ng-click="toggleShowMetric()" bs-tooltip="\'Click to toggle show / hide metric\'"><i class="fa fa-eye" ng-hide="agg.hide"></i> <i class="fa fa-eye-slash" ng-show="agg.hide"></i></a></label></div><div class="gf-form"><metric-segment-model property="agg.type" options="metricAggTypes" on-change="onTypeChange()" custom="false" css-class="width-10"></metric-segment-model><metric-segment-model ng-if="aggDef.requiresField" property="agg.field" get-options="getFieldsInternal()" on-change="onChange()" css-class="width-12"></metric-segment-model><metric-segment-model ng-if="aggDef.isPipelineAgg" property="agg.pipelineAgg" options="pipelineAggOptions" on-change="onChangeInternal()" custom="false" css-class="width-12"></metric-segment-model></div><div class="gf-form gf-form--grow"><label class="gf-form-label gf-form-label--grow"><a ng-click="toggleOptions()" ng-if="settingsLinkText"><i class="fa fa-caret-down" ng-show="showOptions"></i> <i class="fa fa-caret-right" ng-hide="showOptions"></i> {{settingsLinkText}}</a></label></div><div class="gf-form"><label class="gf-form-label" ng-if="isFirst"><a class="pointer" ng-click="addMetricAgg()"><i class="fa fa-plus"></i></a></label><label class="gf-form-label" ng-if="!isSingle"><a class="pointer" ng-click="removeMetricAgg()"><i class="fa fa-minus"></i></a></label></div></div><div class="gf-form-group" ng-if="showOptions"><div class="gf-form offset-width-7" ng-if="agg.type === \'derivative\'"><label class="gf-form-label width-10">Unit</label><input type="text" class="gf-form-input max-width-12" ng-model="agg.settings.unit" ng-blur="onChangeInternal()" spellcheck="false"></div><div class="gf-form offset-width-7" ng-if="agg.type === \'moving_avg\'"><label class="gf-form-label width-10">Window</label><input type="number" class="gf-form-input max-width-12" ng-model="agg.settings.window" ng-blur="onChangeInternal()" spellcheck="false"></div><div class="gf-form offset-width-7" ng-if="agg.type === \'moving_avg\'"><label class="gf-form-label width-10">Model</label><input type="text" class="gf-form-input max-width-12" ng-change="onChangeInternal()" ng-model="agg.settings.model" blur="onChange()" spellcheck="false"></div><div class="gf-form offset-width-7" ng-if="agg.type === \'percentiles\'"><label class="gf-form-label width-10">Percentiles</label><input type="text" class="gf-form-input max-width-12" ng-model="agg.settings.percents" array-join ng-blur="onChange()"></div><div ng-if="agg.type === \'extended_stats\'"><gf-form-switch ng-repeat="stat in extendedStats" class="gf-form offset-width-7" label="{{stat.text}}" label-class="width-10" checked="agg.meta[stat.value]" on-change="onChangeInternal()"></gf-form-switch><div class="gf-form offset-width-7"><label class="gf-form-label width-10">Sigma</label><input type="number" class="gf-form-input max-width-12" placeholder="3" ng-model="agg.settings.sigma" ng-blur="onChange()"></div></div><div class="gf-form offset-width-7" ng-if="aggDef.supportsInlineScript"><label class="gf-form-label width-10">Script</label><input type="text" class="gf-form-input max-width-12" empty-to-null ng-model="agg.inlineScript" ng-blur="onChangeInternal()" spellcheck="false" placeholder="_value * 1"></div><div class="gf-form offset-width-7" ng-if="aggDef.supportsMissing"><label class="gf-form-label width-10">Missing<tip>The missing parameter defines how documents that are missing a value should be treated. By default they will be ignored but it is also possible to treat them as if they had a value</tip></label><input type="number" class="gf-form-input max-width-12" empty-to-null ng-model="agg.settings.missing" ng-blur="onChangeInternal()" spellcheck="false"></div></div>'),a.put("public/app/plugins/datasource/elasticsearch/partials/query.editor.html",'<query-editor-row query-ctrl="ctrl" can-collapse="true"><div class="gf-form-inline"><div class="gf-form gf-form--grow"><label class="gf-form-label query-keyword width-7">Query</label><input type="text" class="gf-form-input" ng-model="ctrl.target.query" spellcheck="false" placeholder="Lucene query" ng-blur="ctrl.refresh()"></div><div class="gf-form max-width-15"><label class="gf-form-label query-keyword">Alias</label><input type="text" class="gf-form-input" ng-model="ctrl.target.alias" spellcheck="false" placeholder="alias patterns" ng-blur="ctrl.refresh()"></div></div><div ng-repeat="agg in ctrl.target.metrics"><elastic-metric-agg target="ctrl.target" index="$index" get-fields="ctrl.getFields($fieldType)" on-change="ctrl.queryUpdated()" es-version="ctrl.esVersion"></elastic-metric-agg></div><div ng-repeat="agg in ctrl.target.bucketAggs"><elastic-bucket-agg target="ctrl.target" index="$index" get-fields="ctrl.getFields($fieldType)" on-change="ctrl.queryUpdated()"></elastic-bucket-agg></div></query-editor-row>'),a.put("public/app/plugins/datasource/elasticsearch/partials/query.options.html",'<section class="grafana-metric-options"><div class="gf-form-group"><div class="gf-form"><span class="gf-form-label"><i class="fa fa-wrench"></i> </span><span class="gf-form-label">Group by time interval</span> <input type="text" class="gf-form-input max-width-10" ng-model="ctrl.panelCtrl.panel.interval" ng-blur="ctrl.panelCtrl.refresh();" spellcheck="false" placeholder="example: >10s"> <span class="gf-form-label"><i class="fa fa-question-circle" bs-tooltip="\'Set a low limit by having a greater sign: example: >60s\'" data-placement="right"></i></span></div><div class="gf-form"><span class="gf-form-label"><i class="fa fa-info-circle"></i> </span><span class="gf-form-label width-23"><a ng-click="ctrl.panelCtrl.toggleEditorHelp(1);" bs-tooltip="\'click to show helpful info\'" data-placement="bottom">alias patterns</a></span></div></div></section><div class="pull-left"><div class="grafana-info-box" style="border: 0" ng-if="ctrl.panelCtrl.editorHelpIndex === 1"><h5>Alias patterns</h5><ul ng-non-bindable><li>{{term fieldname}} = replaced with value of term group by</li><li>{{metric}} = replaced with metric name (ex. Average, Min, Max)</li><li>{{field}} = replaced with the metric field name</li></ul></div></div>'),a.put("public/app/plugins/datasource/grafana-live/partials/query.editor.html",'<query-editor-row ctrl="ctrl"><li class="tight-form-item">Stream</li><li><input type="text" class="tight-form-input input-large" ng-model="ctrl.target.stream"></li></query-editor-row>'),a.put("public/app/plugins/datasource/grafana/partials/query.editor.html",'<query-editor-row query-ctrl="ctrl" can-collapse="false"><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label">Test metric (fake data source)</label></div></div></query-editor-row>'),a.put("public/app/plugins/datasource/graphite/partials/annotations.editor.html",'<div class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-13">Graphite metrics query</span> <input type="text" class="gf-form-input" ng-model="ctrl.annotation.target" placeholder=""></div><div class="gf-form"><span class="gf-form-label width-13">Or Graphite events query</span> <input type="text" class="gf-form-input" ng-model="ctrl.annotation.tags" placeholder=""></div></div>'),a.put("public/app/plugins/datasource/graphite/partials/config.html",'<datasource-http-settings current="ctrl.current" suggest-url="http://localhost:8080"></datasource-http-settings>'),a.put("public/app/plugins/datasource/graphite/partials/query.editor.html",'<query-editor-row query-ctrl="ctrl" has-text-edit-mode="true"><div class="gf-form" ng-show="ctrl.target.textEditor"><input type="text" class="gf-form-input" ng-model="ctrl.target.target" spellcheck="false" ng-blur="ctrl.refresh()"></div><div ng-hide="ctrl.target.textEditor"><div class="gf-form-inline"><div ng-repeat="segment in ctrl.segments" role="menuitem" class="gf-form"><metric-segment segment="segment" get-options="ctrl.getAltSegments($index)" on-change="ctrl.segmentValueChanged(segment, $index)"></metric-segment></div><div ng-repeat="func in ctrl.functions" class="gf-form"><span graphite-func-editor class="gf-form-label query-part"></span></div><div class="gf-form dropdown"><span graphite-add-func></span></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div></div></query-editor-row>'),a.put("public/app/plugins/datasource/graphite/partials/query.options.html",'<section class="grafana-metric-options gf-form-group"><div class="gf-form-inline"><div class="gf-form max-width-15"><span class="gf-form-label width-8">Cache timeout </span><input type="text" class="gf-form-input" ng-model="ctrl.panelCtrl.panel.cacheTimeout" bs-tooltip="\'Graphite parameter to override memcache default timeout (unit is seconds)\'" data-placement="right" spellcheck="false" placeholder="60"></div><div class="gf-form max-width-15"><span class="gf-form-label">Max data points</span> <input type="text" class="gf-form-input" ng-model="ctrl.panelCtrl.panel.maxDataPoints" bs-tooltip="\'Override max data points, automatically set to graph width in pixels.\'" data-placement="right" ng-model-onblur ng-change="ctrl.panelCtrl.refresh()" spellcheck="false" placeholder="auto"></div></div><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-12"><i class="fa fa-info-circle"></i> <a ng-click="ctrl.panelCtrl.toggleEditorHelp(1);" bs-tooltip="\'click to show helpful info\'" data-placement="bottom">Shorter legend names </a></span><span class="gf-form-label width-12"><i class="fa fa-info-circle"></i> <a ng-click="ctrl.panelCtrl.toggleEditorHelp(2);" bs-tooltip="\'click to show helpful info\'" data-placement="bottom">Series as parameters </a></span><span class="gf-form-label width-7"><i class="fa fa-info-circle"></i> <a ng-click="ctrl.panelCtrl.toggleEditorHelp(3)" bs-tooltip="\'click to show helpful info\'" data-placement="bottom">Stacking </a></span><span class="gf-form-label width-8"><i class="fa fa-info-circle"></i> <a ng-click="ctrl.panelCtrl.toggleEditorHelp(4)" bs-tooltip="\'click to show helpful info\'" data-placement="bottom">Templating </a></span><span class="gf-form-label width-10"><i class="fa fa-info-circle"></i> <a ng-click="ctrl.panelCtrl.toggleEditorHelp(5)" bs-tooltip="\'click to show helpful info\'" data-placement="bottom">max data points</a></span></div></div></section><div class="editor-row"><div class="pull-left"><div class="grafana-info-box span8" ng-if="ctrl.panelCtrl.editorHelpIndex === 1"><h5>Shorter legend names</h5><ul><li>alias() function to specify a custom series name</li><li>aliasByNode(2) to alias by a specific part of your metric path</li><li>aliasByNode(2, -1) you can add multiple segment paths, and use negative index</li><li>groupByNode(2, \'sum\') is useful if you have 2 wildcards in your metric path and want to sumSeries and group by</li></ul></div><div class="grafana-info-box span8" ng-if="ctrl.panelCtrl.editorHelpIndex === 2"><h5>Series as parameter</h5><ul><li>Some graphite functions allow you to have many series arguments</li><li>Use #[A-Z] to use a graphite query as parameter to a function</li><li>Examples:<ul><li>asPercent(#A, #B)</li><li>prod.srv-01.counters.count - asPercent(#A) : percentage of count in comparison with A query</li><li>prod.srv-01.counters.count - sumSeries(#A) : sum count and series A</li><li>divideSeries(#A, #B)</li></ul></li><li>If a query is added only to be used as a parameter, hide it from the graph with the eye icon</li></ul></div><div class="grafana-info-box span6" ng-if="ctrl.panelCtrl.editorHelpIndex === 3"><h5>Stacking</h5><ul><li>You find the stacking option under Display Styles tab</li><li>When stacking is enabled make sure null point mode is set to \'null as zero\'</li></ul></div><div class="grafana-info-box span6" ng-if="ctrl.panelCtrl.editorHelpIndex === 4"><h5>Templating</h5><ul><li>You can use a template variable in place of metric names</li><li>You can use a template variable in place of function parameters</li><li>You enable the templating feature in Dashboard settings / Feature toggles</li></ul></div><div class="grafana-info-box span6" ng-if="ctrl.panelCtrl.editorHelpIndex === 5"><h5>Max data points</h5><ul><li>Every graphite request is issued with a maxDataPoints parameter</li><li>Graphite uses this parameter to consolidate the real number of values down to this number</li><li>If there are more real values, then by default they will be consolidated using averages</li><li>This could hide real peaks and max values in your series</li><li>You can change how point consolidation is made using the consolidateBy graphite function</li><li>Point consolidation will effect series legend values (min,max,total,current)</li><li>If you override maxDataPoint and set a high value performance can be severely effected</li></ul></div></div></div>'),
a.put("public/app/plugins/datasource/influxdb/partials/annotations.editor.html",'<h5 class="section-heading">Query</h5><div class="gf-form-group"><div class="gf-form"><input type="text" class="gf-form-input" ng-model="ctrl.annotation.query" placeholder="select text from events where $timeFilter"></div></div><h5 class="section-heading">Column mappings<tip>If your influxdb query returns more than one column you need to specify the column names below. An annotation event is composed of a title, tags, and an additional text field.</tip></h5><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-4">Title</span> <input type="text" class="gf-form-input max-width-10" ng-model="ctrl.annotation.titleColumn" placeholder=""></div><div class="gf-form"><span class="gf-form-label width-4">Tags</span> <input type="text" class="gf-form-input max-width-10" ng-model="ctrl.annotation.tagsColumn" placeholder=""></div><div class="gf-form"><span class="gf-form-label width-4">Text</span> <input type="text" class="gf-form-input max-width-10" ng-model="ctrl.annotation.textColumn" placeholder=""></div></div></div>'),a.put("public/app/plugins/datasource/influxdb/partials/config.html",'<datasource-http-settings current="ctrl.current" suggest-url="http://localhost:8086"></datasource-http-settings><h3 class="page-heading">InfluxDB Details</h3><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form max-width-30"><span class="gf-form-label width-7">Database</span> <input type="text" class="gf-form-input" ng-model="ctrl.current.database" placeholder="" required></div></div><div class="gf-form-inline"><div class="gf-form max-width-15"><span class="gf-form-label width-7">User</span> <input type="text" class="gf-form-input" ng-model="ctrl.current.user" placeholder="" required></div><div class="gf-form max-width-15"><span class="gf-form-label width-7">Password</span> <input type="password" class="gf-form-input" ng-model="ctrl.current.password" placeholder="" required></div></div></div><div class="gf-form-group"><div class="gf-form max-width-21"><span class="gf-form-label">Default group by time</span> <input type="text" class="gf-form-input width-6" ng-model="ctrl.current.jsonData.timeInterval" spellcheck="false" placeholder="example: >10s"><i class="fa fa-question-circle" bs-tooltip="\'Set a low limit by having a greater sign: example: >10s\'" data-placement="right"></i></div></div>'),a.put("public/app/plugins/datasource/influxdb/partials/query.editor.html",'<query-editor-row query-ctrl="ctrl" can-collapse="true" has-text-edit-mode="true"><div class="gf-form" ng-if="ctrl.target.rawQuery"><input type="text" class="gf-form-input" ng-model="ctrl.target.query" spellcheck="false" ng-blur="ctrl.refresh()"></div><div ng-if="!ctrl.target.rawQuery"><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label query-keyword width-7">FROM</label><metric-segment segment="ctrl.policySegment" get-options="ctrl.getPolicySegments()" on-change="ctrl.policyChanged()"></metric-segment><metric-segment segment="ctrl.measurementSegment" get-options="ctrl.getMeasurements()" on-change="ctrl.measurementChanged()"></metric-segment></div><div class="gf-form"><label class="gf-form-label query-keyword">WHERE</label></div><div class="gf-form" ng-repeat="segment in ctrl.tagSegments"><metric-segment segment="segment" get-options="ctrl.getTagsOrValues(segment, $index)" on-change="ctrl.tagSegmentUpdated(segment, $index)"></metric-segment></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div><div class="gf-form-inline" ng-repeat="selectParts in ctrl.queryModel.selectModels"><div class="gf-form"><label class="gf-form-label query-keyword width-7"><span ng-show="$index === 0">SELECT</span>&nbsp;</label></div><div class="gf-form" ng-repeat="part in selectParts"><query-part-editor class="gf-form-label query-part" part="part" remove-action="ctrl.removeSelectPart(selectParts, part)" part-updated="ctrl.selectPartUpdated(selectParts, part)" get-options="ctrl.getPartOptions(part)"></query-part-editor></div><div class="gf-form"><label class="dropdown" dropdown-typeahead="ctrl.selectMenu" dropdown-typeahead-on-select="ctrl.addSelectPart(selectParts, $item, $subItem)"></label></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label query-keyword width-7"><span>GROUP BY</span></label><query-part-editor ng-repeat="part in ctrl.queryModel.groupByParts" part="part" class="gf-form-label query-part" remove-action="ctrl.removeGroupByPart(part, $index)" part-updated="ctrl.refresh();" get-options="ctrl.getPartOptions(part)"></query-part-editor></div><div class="gf-form"><metric-segment segment="ctrl.groupBySegment" get-options="ctrl.getGroupByOptions()" on-change="ctrl.groupByAction(part, $index)"></metric-segment></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div></div><div class="gf-form-inline"><div class="gf-form max-width-30"><label class="gf-form-label query-keyword width-7">ALIAS BY</label><input type="text" class="gf-form-input" ng-model="ctrl.target.alias" spellcheck="false" placeholder="Naming pattern" ng-blur="ctrl.refresh()"></div><div class="gf-form"><label class="gf-form-label">Format as</label><div class="gf-form-select-wrapper"><select class="gf-form-input gf-size-auto" ng-model="ctrl.target.resultFormat" ng-options="f.value as f.text for f in ctrl.resultFormats" ng-change="ctrl.refresh()"></select></div></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div></query-editor-row>'),a.put("public/app/plugins/datasource/influxdb/partials/query.options.html",'<section class="grafana-metric-options"><div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label"><i class="fa fa-wrench"></i></span> <span class="gf-form-label width-11">Group by time interval</span> <input type="text" class="gf-form-input" ng-model="ctrl.panelCtrl.panel.interval" ng-blur="ctrl.panelCtrl.refresh();" spellcheck="false" placeholder="example: >10s"> <span class="gf-form-label"><i class="fa fa-question-circle" bs-tooltip="\'Set a low limit by having a greater sign: example: >60s\'" data-placement="right"></i></span></div></div><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-10"><a ng-click="ctrl.panelCtrl.toggleEditorHelp(1);" bs-tooltip="\'click to show helpful info\'" data-placement="bottom"><i class="fa fa-info-circle"></i> &nbsp;alias patterns </a></span><span class="gf-form-label width-10"><a ng-click="ctrl.panelCtrl.toggleEditorHelp(2)" bs-tooltip="\'click to show helpful info\'" data-placement="bottom"><i class="fa fa-info-circle"></i> &nbsp;stacking &amp; and fill </a></span><span class="gf-form-label width-10"><a ng-click="ctrl.panelCtrl.toggleEditorHelp(3)" bs-tooltip="\'click to show helpful info\'" data-placement="bottom"><i class="fa fa-info-circle"></i> &nbsp;group by time</a></span></div></div></div></section><div class="editor-row"><div class="pull-left"><div class="grafana-info-box span6" ng-if="ctrl.panelCtrl.editorHelpIndex === 1"><h5>Alias patterns</h5><ul><li>$m = replaced with measurement name</li><li>$measurement = replaced with measurement name</li><li>$1 - $9 = replaced with part of measurement name (if you separate your measurement name with dots)</li><li>$col = replaced with column name</li><li>$tag_hostname = replaced with the value of the hostname tag</li><li>You can also use [[tag_hostname]] pattern replacement syntax</li></ul></div><div class="grafana-info-box span6" ng-if="ctrl.panelCtrl.editorHelpIndex === 2"><h5>Stacking and fill</h5><ul><li>When stacking is enabled it important that points align</li><li>If there are missing points for one series it can cause gaps or missing bars</li><li>You must use fill(0), and select a group by time low limit</li><li>Use the group by time option below your queries and specify for example &gt;10s if your metrics are written every 10 seconds</li><li>This will insert zeros for series that are missing measurements and will make stacking work properly</li></ul></div><div class="grafana-info-box span6" ng-if="ctrl.panelCtrl.editorHelpIndex === 3"><h5>Group by time</h5><ul><li>Group by time is important, otherwise the query could return many thousands of datapoints that will slow down Grafana</li><li>Leave the group by time field empty for each query and it will be calculated based on time range and pixel width of the graph</li><li>If you use fill(0) or fill(null) set a low limit for the auto group by time interval</li><li>The low limit can only be set in the group by time option below your queries</li><li>You set a low limit by adding a greater sign before the interval</li><li>Example: &gt;60s if you write metrics to InfluxDB every 60 seconds</li></ul></div></div></div>'),a.put("public/app/plugins/datasource/opentsdb/partials/annotations.editor.html",'<div class="gf-form-group"><div class="gf-form"><span class="gf-form-label width-13">OpenTSDB metrics query</span> <input type="text" class="gf-form-input" ng-model="ctrl.annotation.target" placeholder="events.eventname"></div><div class="gf-form"><span class="gf-form-label width-13">Show Global Annotations?</span><editor-checkbox text="" model="ctrl.annotation.isGlobal"></editor-checkbox></div></div>'),a.put("public/app/plugins/datasource/opentsdb/partials/config.html",'<datasource-http-settings current="ctrl.current" suggest-url="http://localhost:4242"></datasource-http-settings><h5>OpenTSDB settings</h5><div class="gf-form"><span class="gf-form-label width-7">Version </span><span class="gf-form-select-wrapper"><select class="gf-form-input gf-size-auto" ng-model="ctrl.current.jsonData.tsdbVersion" ng-options="v.value as v.name for v in ctrl.tsdbVersions"></select></span></div><div class="gf-form"><span class="gf-form-label width-7">Resolution </span><span class="gf-form-select-wrapper"><select class="gf-form-input gf-size-auto" ng-model="ctrl.current.jsonData.tsdbResolution" ng-options="v.value as v.name for v in ctrl.tsdbResolutions"></select></span></div>'),a.put("public/app/plugins/datasource/opentsdb/partials/query.editor.html",'<query-editor-row query-ctrl="ctrl" can-collapse="false"><div class="gf-form-inline"><div class="gf-form max-width-25"><label class="gf-form-label query-keyword width-8">Metric<label class="gf-form-label" bs-tooltip="ctrl.errors.metric" style="color: rgb(229, 189, 28)" ng-show="ctrl.errors.metric"><i class="fa fa-warning"></i></label></label><input type="text" class="gf-form-input" ng-model="ctrl.target.metric" spellcheck="false" bs-typeahead="ctrl.suggestMetrics" placeholder="metric name" data-min-length="0" data-items="100" ng-blur="ctrl.targetBlur()"></div><div class="gf-form"><label class="gf-form-label query-keyword">Aggregator <a bs-tooltip="ctrl.errors.aggregator" style="color: rgb(229, 189, 28)" ng-show="ctrl.errors.aggregator"><i class="fa fa-warning"></i></a></label><div class="gf-form-select-wrapper max-width-15"><select ng-model="ctrl.target.aggregator" class="gf-form-input" ng-options="agg for agg in ctrl.aggregators" ng-change="ctrl.targetBlur()"></select></div></div><div class="gf-form max-width-20"><label class="gf-form-label query-keyword width-6">Alias:<info-popover mode="right-normal">Use patterns like $tag_tagname to replace part of the alias for a tag value</info-popover></label><input type="text" class="gf-form-input" ng-model="ctrl.target.alias" spellcheck="false" placeholder="series alias" data-min-length="0" data-items="100" ng-blur="ctrl.targetBlur()"></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div><div class="gf-form-inline"><div class="gf-form max-width-25"><label class="gf-form-label query-keyword width-8">Down sample</label><input type="text" class="gf-form-input" ng-model="ctrl.target.downsampleInterval" ng-model-onblur ng-change="ctrl.targetBlur()" placeholder="interval"><info-popover mode="right-absolute">blank for auto, or for example <code>1m</code></info-popover></div><div class="gf-form"><label class="gf-form-label query-keyword">Aggregator</label><div class="gf-form-select-wrapper"><select ng-model="ctrl.target.downsampleAggregator" class="gf-form-input" ng-options="agg for agg in ctrl.aggregators" ng-change="ctrl.targetBlur()"></select></div></div><div class="gf-form" ng-if="ctrl.tsdbVersion >= 2"><label class="gf-form-label query-keyword width-6">Fill</label><div class="gf-form-select-wrapper"><select ng-model="ctrl.target.downsampleFillPolicy" class="gf-form-input" ng-options="agg for agg in ctrl.fillPolicies" ng-change="ctrl.targetBlur()"></select></div></div><gf-form-switch class="gf-form" label="Disable downsampling" label-class="query-keyword" checked="ctrl.target.disableDownsampling" on-change="ctrl.targetBlur()"></gf-form-switch><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div><div class="gf-form-inline" ng-if="ctrl.tsdbVersion >= 2"><div class="gf-form"><label class="gf-form-label query-keyword width-8">Filters<info-popover mode="right-normal">Filters does not work with tags, either of the two will work but not both.</info-popover></label><div ng-repeat="fil in ctrl.target.filters track by $index" class="gf-form-label">{{fil.tagk}}&nbsp;=&nbsp;{{fil.type}}&#40;{{fil.filter}}&#41;&nbsp;&#44&nbsp;groupBy&nbsp;=&nbsp;{{fil.groupBy}} <a ng-click="ctrl.editFilter(fil, $index)"><i class="fa fa-pencil"></i> </a><a ng-click="ctrl.removeFilter($index)"><i class="fa fa-remove"></i></a></div><label class="gf-form-label query-keyword" ng-hide="ctrl.addFilterMode"><a ng-click="ctrl.addFilter()"><i class="fa fa-plus"></i></a></label></div><div class="gf-form-inline" ng-show="ctrl.addFilterMode"><div class="gf-form"><input type="text" class="gf-form-input" spellcheck="false" bs-typeahead="ctrl.suggestTagKeys" data-min-length="0" data-items="100" ng-model="ctrl.target.currentFilterKey" placeholder="key"></div><div class="gf-form"><label class="gf-form-label query-keyword">Type</label><div class="gf-form-select-wrapper"><select ng-model="ctrl.target.currentFilterType" class="gf-form-input" ng-options="filType for filType in ctrl.filterTypes"></select></div></div><div class="gf-form"><input type="text" class="gf-form-input" spellcheck="false" bs-typeahead="ctrl.suggestTagValues" data-min-length="0" data-items="100" ng-model="ctrl.target.currentFilterValue" placeholder="filter"></div><gf-form-switch class="gf-form" label="Group by" label-class="query-keyword" checked="ctrl.target.currentFilterGroupBy" on-change="ctrl.targetBlur()"></gf-form-switch><div class="gf-form" ng-show="ctrl.addFilterMode"><label class="gf-form-label" ng-show="ctrl.errors.filters"><a bs-tooltip="ctrl.errors.filters" style="color: rgb(229, 189, 28)"><i class="fa fa-warning"></i></a></label><label class="gf-form-label"><a ng-click="ctrl.addFilter()" ng-hide="ctrl.errors.filters">add filter</a> <a ng-click="ctrl.closeAddFilterMode()"><i class="fa fa-remove"></i></a></label></div></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label query-keyword width-8">Tags<info-popover mode="right-normal" ng-if="ctrl.tsdbVersion >= 2">Please use filters, tags are deprecated in opentsdb 2.2</info-popover></label></div><div class="gf-form" ng-repeat="(key, value) in ctrl.target.tags track by $index" class="gf-form"><label class="gf-form-label">{{key}}&nbsp;=&nbsp;{{value}} <a ng-click="ctrl.editTag(key, value)"><i class="fa fa-pencil"></i> </a><a ng-click="ctrl.removeTag(key)"><i class="fa fa-remove"></i></a></label></div><div class="gf-form" ng-hide="ctrl.addTagMode"><label class="gf-form-label query-keyword"><a ng-click="ctrl.addTag()"><i class="fa fa-plus"></i></a></label></div><div class="gf-form" ng-show="ctrl.addTagMode"><input type="text" class="gf-form-input" spellcheck="false" bs-typeahead="ctrl.suggestTagKeys" data-min-length="0" data-items="100" ng-model="ctrl.target.currentTagKey" placeholder="key"><input type="text" class="gf-form-input" spellcheck="false" bs-typeahead="ctrl.suggestTagValues" data-min-length="0" data-items="100" ng-model="ctrl.target.currentTagValue" placeholder="value"><label class="gf-form-label" ng-show="ctrl.errors.tags"><a bs-tooltip="ctrl.errors.tags" style="color: rgb(229, 189, 28)"><i class="fa fa-warning"></i></a></label><label class="gf-form-label"><a ng-click="ctrl.addTag()" ng-hide="ctrl.errors.tags">add tag</a> <a ng-click="ctrl.closeAddTagMode()"><i class="fa fa-remove"></i></a></label></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div><div class="gf-form-inline"><gf-form-switch class="gf-form" label="Rate" label-class="width-8 query-keyword" checked="ctrl.target.shouldComputeRate" on-change="ctrl.targetBlur()"></gf-form-switch><gf-form-switch ng-hide="!ctrl.target.shouldComputeRate" class="gf-form" label="Counter" label-class="query-keyword" checked="ctrl.target.isCounter" on-change="ctrl.targetBlur()"></gf-form-switch><div class="gf-form" ng-hide="!ctrl.target.isCounter || !ctrl.target.shouldComputeRate"><label class="gf-form-label query-keyword">Counter Max</label><input type="text" class="gf-form-input" ng-disabled="!ctrl.target.shouldComputeRate" ng-model="ctrl.target.counterMax" spellcheck="false" placeholder="max value" ng-model-onblur ng-blur="ctrl.targetBlur()"><label class="gf-form-label query-keyword">Reset Value</label><input type="text" class="tight-form-input input-small" ng-disabled="!ctrl.target.shouldComputeRate" ng-model="ctrl.target.counterResetValue" spellcheck="false" placeholder="reset value" ng-model-onblur ng-blur="ctrl.targetBlur()"></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div></query-editor-row>'),a.put("public/app/plugins/datasource/prometheus/partials/annotations.editor.html",'<h5 class="section-heading">Search expression<div class="gf-form-group"><div class="gf-form"><input type="text" class="gf-form-input" ng-model="ctrl.annotation.expr" placeholder="ALERTS"></div></div><div class="gf-form-group"><h5 class="section-heading">Field formats<div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-5">Title</span> <input type="text" class="gf-form-input max-width-9" ng-model="ctrl.annotation.titleFormat" placeholder="alertname"></div><div class="gf-form"><span class="gf-form-label width-5">Tags</span> <input type="text" class="gf-form-input max-width-9" ng-model="ctrl.annotation.tagKeys" placeholder="label1,label2"></div><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-5">Text</span> <input type="text" class="gf-form-input max-width-9" ng-model="ctrl.annotation.textFormat" placeholder="instance"></div></div></div></h5></div></h5>'),a.put("public/app/plugins/datasource/prometheus/partials/config.html",'<datasource-http-settings current="ctrl.current" suggest-url="http://localhost:9090"></datasource-http-settings>'),a.put("public/app/plugins/datasource/prometheus/partials/query.editor.html",'<query-editor-row query-ctrl="ctrl" can-collapse="false"><div class="gf-form-inline"><div class="gf-form gf-form--grow"><label class="gf-form-label width-8">Query</label><input type="text" class="gf-form-input" ng-model="ctrl.target.expr" spellcheck="false" placeholder="query expression" data-min-length="0" data-items="100" ng-model-onblur ng-change="ctrl.refreshMetricData()"></div><div class="gf-form max-width-22"><label class="gf-form-label">Metric lookup</label><input type="text" class="gf-form-input" ng-model="ctrl.target.metric" spellcheck="false" bs-typeahead="ctrl.suggestMetrics" placeholder="metric name" data-min-length="0" data-items="100"></div></div><div class="gf-form-inline"><div class="gf-form max-width-26"><label class="gf-form-label width-8">Legend format</label><input type="text" class="gf-form-input" ng-model="ctrl.target.legendFormat" spellcheck="false" placeholder="legend format" data-min-length="0" data-items="1000" ng-model-onblur ng-change="ctrl.refreshMetricData()"></div><div class="gf-form"><label class="gf-form-label width-5">Step</label><input type="text" class="gf-form-input max-width-5" ng-model="ctrl.target.interval" data-placement="right" spellcheck="false" placeholder="{{ctrl.panelCtrl.interval}}" data-min-length="0" data-items="100" ng-model-onblur ng-change="ctrl.refreshMetricData()"><info-popover mode="right-absolute">Leave blank for auto handling based on time range and panel width</info-popover></div><div class="gf-form"><label class="gf-form-label">Resolution</label><div class="gf-form-select-wrapper max-width-15"><select ng-model="ctrl.target.intervalFactor" class="gf-form-input" ng-options="r.factor as r.label for r in ctrl.resolutions" ng-change="ctrl.refreshMetricData()"></select></div><label class="gf-form-label"><a href="{{ctrl.linkToPrometheus}}" target="_blank" bs-tooltip="\'Link to Graph in Prometheus\'"><i class="fa fa-share-square-o"></i></a></label></div><div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div></div></query-editor-row>'),a.put("public/app/plugins/panel/dashlist/editor.html",'<div><div class="section gf-form-group"><h5 class="section-heading">Options</h5><gf-form-switch class="gf-form" label="Starred" label-class="width-9" checked="ctrl.panel.starred" on-change="ctrl.refresh()"></gf-form-switch><gf-form-switch class="gf-form" label="Recently viewed" label-class="width-9" checked="ctrl.panel.recent" on-change="ctrl.refresh()"></gf-form-switch><gf-form-switch class="gf-form" label="Search" label-class="width-9" checked="ctrl.panel.search" on-change="ctrl.refresh()"></gf-form-switch><gf-form-switch class="gf-form" label="Show headings" label-class="width-9" checked="ctrl.panel.headings" on-change="ctrl.refresh()"></gf-form-switch><div class="gf-form"><span class="gf-form-label width-9">Max items</span> <input class="gf-form-input max-width-5" type="number" ng-model="ctrl.panel.limit" ng-model-onblur ng-change="ctrl.refresh()"></div></div><div class="section gf-form-group"><h5 class="section-heading">Search</h5><div class="gf-form"><span class="gf-form-label width-6">Query</span> <input type="text" class="gf-form-input" placeholder="title query" ng-model="ctrl.panel.query" ng-change="ctrl.refresh()" ng-model-onblur></div><div class="gf-form"><span class="gf-form-label width-6">Tags</span><bootstrap-tagsinput ng-model="ctrl.panel.tags" tagclass="label label-tag" placeholder="add tags" on-tags-updated="ctrl.refresh()"></bootstrap-tagsinput></div></div></div>'),a.put("public/app/plugins/panel/dashlist/module.html",'<div class="dashlist" ng-repeat="group in ctrl.groups"><div class="dashlist-section" ng-if="group.show"><h6 class="dashlist-section-header" ng-show="ctrl.panel.headings">{{group.header}}</h6><div class="dashlist-item" ng-repeat="dash in group.list"><a class="dashlist-link dashlist-link-{{dash.type}}" href="dashboard/{{dash.uri}}"><span class="dashlist-title">{{dash.title}} </span><span class="dashlist-star"><i class="fa" ng-class="{\'fa-star\': dash.isStarred, \'fa-star-o\': dash.isStarred === false}"></i></span></a></div></div></div>'),a.put("public/app/plugins/panel/graph/tab_axes.html",'<div class="editor-row"><div class="section gf-form-group" ng-repeat="yaxis in ctrl.panel.yaxes"><h5 class="section-heading" ng-show="$index === 0">Left Y</h5><h5 class="section-heading" ng-show="$index === 1">Right Y</h5><gf-form-switch class="gf-form" label="Show" label-class="width-5" checked="yaxis.show" on-change="ctrl.render()"></gf-form-switch><div ng-if="yaxis.show"><div class="gf-form"><label class="gf-form-label width-5">Unit</label><div class="gf-form-dropdown-typeahead max-width-15" ng-model="yaxis.format" dropdown-typeahead2="ctrl.unitFormats" dropdown-typeahead-on-select="ctrl.setUnitFormat(yaxis, $subItem)"></div></div><div class="gf-form"><label class="gf-form-label width-5">Scale</label><div class="gf-form-select-wrapper max-width-15"><select class="gf-form-input" ng-model="yaxis.logBase" ng-options="v as k for (k, v) in ctrl.logScales" ng-change="ctrl.render()"></select></div></div><div class="gf-form-inline"><div class="gf-form max-width-10"><label class="gf-form-label width-5">Y-Min</label><input type="number" class="gf-form-input" placeholder="auto" empty-to-null ng-model="yaxis.min" ng-change="ctrl.render()" ng-model-onblur></div><div class="gf-form max-width-10"><label class="gf-form-label width-5">Y-Max</label><input type="number" class="gf-form-input" placeholder="auto" empty-to-null ng-model="yaxis.max" ng-change="ctrl.render()" ng-model-onblur></div></div><div class="gf-form"><label class="gf-form-label width-5">Label</label><input type="text" class="gf-form-input max-width-20" ng-model="yaxis.label" ng-change="ctrl.render()" ng-model-onblur></div></div></div><div class="section gf-form-group"><h5 class="section-heading">X-Axis</h5><gf-form-switch class="gf-form" label="Show" label-class="width-5" checked="ctrl.panel.xaxis.show" on-change="ctrl.render()"></gf-form-switch></div><div class="section gf-form-group"><h5 class="section-heading">Thresholds</h5><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label width-6">Level 1</label><input type="number" class="gf-form-input max-width-5" ng-model="ctrl.panel.grid.threshold1" ng-change="ctrl.render()" ng-model-onblur></div><div class="gf-form"><label class="gf-form-label width-5">Color</label><div class="gf-form-label"><spectrum-picker ng-model="ctrl.panel.grid.threshold1Color" ng-change="ctrl.render()"></spectrum-picker></div></div></div><div class="gf-form-inline"><div class="gf-form"><label class="gf-form-label width-6">Level 2</label><input type="number" class="gf-form-input max-width-5" ng-model="ctrl.panel.grid.threshold2" ng-change="ctrl.render()" ng-model-onblur></div><div class="gf-form"><label class="gf-form-label width-5">Color</label><div class="gf-form-label"><spectrum-picker ng-model="ctrl.panel.grid.threshold2Color" ng-change="ctrl.render()"></spectrum-picker></div></div></div><gf-form-switch class="gf-form" label="Line Mode" label-class="width-6" checked="ctrl.panel.grid.thresholdLine" on-change="ctrl.render()"></gf-form-switch></div></div>'),a.put("public/app/plugins/panel/graph/tab_display.html",'<div class="editor-row"><div class="section gf-form-group"><h5 class="section-heading">Draw Modes</h5><gf-form-switch class="gf-form" label="Bars" label-class="width-5" checked="ctrl.panel.bars" on-change="ctrl.render()"></gf-form-switch><gf-form-switch class="gf-form" label="Lines" label-class="width-5" checked="ctrl.panel.lines" on-change="ctrl.render()"></gf-form-switch><gf-form-switch class="gf-form" label="Points" label-class="width-5" checked="ctrl.panel.points" on-change="ctrl.render()"></gf-form-switch></div><div class="section gf-form-group"><h5 class="section-heading">Mode Options</h5><div class="gf-form" ng-show="ctrl.panel.lines"><label class="gf-form-label width-8">Fill</label><div class="gf-form-select-wrapper max-width-5"><select class="gf-form-input" ng-model="ctrl.panel.fill" ng-options="f for f in [0,1,2,3,4,5,6,7,8,9,10]" ng-change="ctrl.render()"></select></div></div><div class="gf-form" ng-show="ctrl.panel.lines"><label class="gf-form-label width-8">Line Width</label><div class="gf-form-select-wrapper max-width-5"><select class="gf-form-input" ng-model="ctrl.panel.linewidth" ng-options="f for f in [0,1,2,3,4,5,6,7,8,9,10]" ng-change="ctrl.render()"></select></div></div><gf-form-switch ng-show="ctrl.panel.lines" class="gf-form" label="Staircase" label-class="width-8" checked="ctrl.panel.steppedLine" on-change="ctrl.render()"></gf-form-switch><div class="gf-form" ng-show="ctrl.panel.points"><label class="gf-form-label width-8">Point Radius</label><div class="gf-form-select-wrapper max-width-5"><select class="gf-form-input" ng-model="ctrl.panel.pointradius" ng-options="f for f in [1,2,3,4,5,6,7,8,9,10]" ng-change="ctrl.render()"></select></div></div></div><div class="section gf-form-group"><h5 class="section-heading">Hover info</h5><div class="gf-form"><label class="gf-form-label width-9">Mode</label><div class="gf-form-select-wrapper max-width-8"><select class="gf-form-input" ng-model="ctrl.panel.tooltip.shared" ng-options="f.value as f.text for f in [{text: \'All series\', value: true}, {text: \'Single\', value: false}]" ng-change="ctrl.render()"></select></div></div><div class="gf-form"><label class="gf-form-label width-9">Sort order</label><div class="gf-form-select-wrapper max-width-8"><select class="gf-form-input" ng-model="ctrl.panel.tooltip.sort" ng-options="f.value as f.text for f in [{text: \'None\', value: 0}, {text: \'Increasing\', value: 1}, {text: \'Decreasing\', value: 2}]" ng-change="ctrl.render()"></select></div></div><div class="gf-form" ng-show="ctrl.panel.stack"><label class="gf-form-label width-9">Stacked value</label><div class="gf-form-select-wrapper max-width-8"><select class="gf-form-input" ng-model="ctrl.panel.tooltip.value_type" ng-options="f for f in [\'cumulative\',\'individual\']" ng-change="ctrl.render()"></select></div></div></div><div class="section gf-form-group"><h5 class="section-heading">Stacking & Null value</h5><gf-form-switch class="gf-form" label="Stack" label-class="width-7" checked="ctrl.panel.stack" on-change="ctrl.render()"></gf-form-switch><gf-form-switch class="gf-form" ng-show="ctrl.panel.stack" label="Percent" label-class="width-7" checked="ctrl.panel.percentage" on-change="ctrl.render()"></gf-form-switch><div class="gf-form"><label class="gf-form-label width-7">Null value</label><div class="gf-form-select-wrapper"><select class="gf-form-input max-width-8" ng-model="ctrl.panel.nullPointMode" ng-options="f for f in [\'connected\', \'null\', \'null as zero\']" ng-change="ctrl.render()"></select></div></div></div></div><div class="editor-row"><div class="section gf-form-group"><h5>Series specific overrides<tip>Regex match example: /server[0-3]/i</tip></h5><div class="tight-form-container"><div class="tight-form" ng-repeat="override in ctrl.panel.seriesOverrides" ng-controller="SeriesOverridesCtrl"><ul class="tight-form-list"><li class="tight-form-item"><i class="fa fa-remove pointer" ng-click="ctrl.removeSeriesOverride(override)"></i></li><li class="tight-form-item">alias or regex</li><li><input type="text" ng-model="override.alias" bs-typeahead="getSeriesNames" ng-blur="ctrl.render()" data-min-length="0" data-items="100" class="input-medium tight-form-input"></li><li class="tight-form-item" ng-repeat="option in currentOverrides"><i class="pointer fa fa-remove" ng-click="removeOverride(option)"></i> <span ng-show="option.propertyName === \'color\'">Color: <i class="fa fa-circle" ng-style="{color:option.value}"></i> </span><span ng-show="option.propertyName !== \'color\'">{{option.name}}: {{option.value}}</span></li><li class="dropdown" dropdown-typeahead="overrideMenu" dropdown-typeahead-on-select="setOverride($item, $subItem)"></li></ul><div class="clearfix"></div></div></div><button class="btn btn-inverse" style="margin-top: 20px" ng-click="ctrl.addSeriesOverride()">Add series specific option</button></div></div>'),a.put("public/app/plugins/panel/graph/tab_legend.html",'<div class="editor-row"><div class="section gf-form-group"><h5 class="section-heading">Options</h5><gf-form-switch class="gf-form" label="Show" label-class="width-7" checked="ctrl.panel.legend.show" on-change="ctrl.refresh()"></gf-form-switch><gf-form-switch class="gf-form" label="As Table" label-class="width-7" checked="ctrl.panel.legend.alignAsTable" on-change="ctrl.render()"></gf-form-switch><gf-form-switch class="gf-form" label="To the right" label-class="width-7" checked="ctrl.panel.legend.rightSide" on-change="ctrl.render()"></gf-form-switch><div ng-if="ctrl.panel.legend.rightSide" class="gf-form"><label class="gf-form-label width-7">Width</label><input type="number" class="gf-form-input max-width-5" placeholder="250" bs-tooltip="\'Set a min-width for the legend side table/block\'" data-placement="right" ng-model="ctrl.panel.legend.sideWidth" ng-change="ctrl.render()" ng-model-onblur></div></div><div class="section gf-form-group"><h5 class="section-heading">Values</h5><div class="gf-form-inline"><gf-form-switch class="gf-form" label="Min" label-class="width-4" checked="ctrl.panel.legend.min" on-change="ctrl.legendValuesOptionChanged()"></gf-form-switch><gf-form-switch class="gf-form max-width-12" label="Max" label-class="width-6" switch-class="max-width-5" checked="ctrl.panel.legend.max" on-change="ctrl.legendValuesOptionChanged()"></gf-form-switch></div><div class="gf-form-inline"><gf-form-switch class="gf-form" label="Avg" label-class="width-4" checked="ctrl.panel.legend.avg" on-change="ctrl.legendValuesOptionChanged()"></gf-form-switch><gf-form-switch class="gf-form max-width-12" label="Current" label-class="width-6" switch-class="max-width-5" checked="ctrl.panel.legend.current" on-change="ctrl.legendValuesOptionChanged()"></gf-form-switch></div><div class="gf-form-inline"><gf-form-switch class="gf-form" label="Total" label-class="width-4" checked="ctrl.panel.legend.total" on-change="ctrl.legendValuesOptionChanged()"></gf-form-switch><div class="gf-form"><label class="gf-form-label width-6">Decimals</label><input type="number" class="gf-form-input width-5" placeholder="auto" bs-tooltip="\'Override automatic decimal precision for legend and tooltips\'" data-placement="right" ng-model="ctrl.panel.decimals" ng-change="ctrl.render()" ng-model-onblur></div></div></div><div class="section gf-form-group"><h5 class="section-heading">Hide series</h5><gf-form-switch class="gf-form" label="With only nulls" label-class="width-10" checked="ctrl.panel.legend.hideEmpty" on-change="ctrl.render()"></gf-form-switch><gf-form-switch class="gf-form" label="With only zeros" label-class="width-10" checked="ctrl.panel.legend.hideZero" on-change="ctrl.render()"></gf-form-switch></div></div>'),
a.put("public/app/plugins/panel/pluginlist/editor.html",'<div class="gf-form-group"><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-10">Mode</span><div class="gf-form-select-wrapper max-width-10"><select class="gf-form-input" ng-model="ctrl.panel.mode" ng-options="f for f in ctrl.modes" ng-change="ctrl.refresh()"></select></div></div><div class="gf-form" ng-show="ctrl.panel.mode === \'recently viewed\'"><span class="gf-form-label"><i class="grafana-tip fa fa-question-circle ng-scope" bs-tooltip="\'WARNING: This list will be cleared when clearing browser cache\'" data-original-title="" title=""></i></span></div></div><div class="gf-form-inline" ng-if="ctrl.panel.mode === \'search\'"><div class="gf-form"><span class="gf-form-label width-10">Search options</span> <span class="gf-form-label">Query</span> <input type="text" class="gf-form-input" placeholder="title query" ng-model="ctrl.panel.query" ng-change="ctrl.refresh()" ng-model-onblur></div><div class="gf-form"><span class="gf-form-label">Tags</span><bootstrap-tagsinput ng-model="ctrl.panel.tags" tagclass="label label-tag" placeholder="add tags" on-tags-updated="ctrl.refresh()"></bootstrap-tagsinput></div></div><div class="gf-form-inline"><div class="gf-form"><span class="gf-form-label width-10">Limit number to</span> <input class="gf-form-input" type="number" ng-model="ctrl.panel.limit" ng-model-onblur ng-change="ctrl.refresh()"></div></div></div>'),a.put("public/app/plugins/panel/pluginlist/module.html",'<div class="pluginlist"><div class="pluginlist-section" ng-repeat="category in ctrl.viewModel"><h6 class="pluginlist-section-header">{{category.header}}</h6><div class="pluginlist-item" ng-repeat="plugin in category.list"><a class="pluginlist-link pluginlist-link-{{plugin.state}} pointer" href="{{plugin.defaultNavUrl}}"><span><img ng-src="{{plugin.info.logos.small}}" class="pluginlist-image"> <span class="pluginlist-title">{{plugin.name}}</span> <span class="pluginlist-version">v{{plugin.info.version}}</span> </span><span class="pluginlist-message pluginlist-message--update" ng-show="plugin.hasUpdate" ng-click="ctrl.updateAvailable(plugin, $event)" bs-tooltip="\'New version: \' + plugin.latestVersion">Update available! </span><span class="pluginlist-message pluginlist-message--enable" ng-show="!plugin.enabled && !plugin.hasUpdate">Enable now </span><span class="pluginlist-message pluginlist-message--no-update" ng-show="plugin.enabled && !plugin.hasUpdate">Up to date</span></a></div><div class="pluginlist-item" ng-show="category.list.length === 0"><a class="pluginlist-link pluginlist-link-{{plugin.state}}" href="https://grafana.net/plugins"><span class="pluginlist-none-installed">None installed. <span class="pluginlist-emphasis">Browse Grafana.net</span></span></a></div></div></div>'),a.put("public/app/plugins/panel/singlestat/editor.html",'<div class="editor-row"><div class="section tight-form-container" style="margin-bottom: 20px"><div class="tight-form"><ul class="tight-form-list"><li class="tight-form-item" style="width: 80px"><strong>Big value</strong></li><li class="tight-form-item">Prefix</li><li><input type="text" class="input-small tight-form-input" ng-model="ctrl.panel.prefix" ng-change="ctrl.render()" ng-model-onblur></li><li class="tight-form-item">Value</li><li><select class="input-small tight-form-input" ng-model="ctrl.panel.valueName" ng-options="f for f in [\'min\',\'max\',\'avg\', \'current\', \'total\']" ng-change="ctrl.render()"></select></li><li class="tight-form-item">Postfix</li><li><input type="text" class="input-small tight-form-input last" ng-model="ctrl.panel.postfix" ng-change="ctrl.render()" ng-model-onblur></li></ul><div class="clearfix"></div></div><div class="tight-form"><ul class="tight-form-list"><li class="tight-form-item" style="width: 80px"><strong>Font size</strong></li><li class="tight-form-item">Prefix</li><li><select class="input-small tight-form-input" ng-model="ctrl.panel.prefixFontSize" ng-options="f for f in ctrl.fontSizes" ng-change="ctrl.render()"></select></li><li class="tight-form-item">Value</li><li><select class="input-small tight-form-input" ng-model="ctrl.panel.valueFontSize" ng-options="f for f in ctrl.fontSizes" ng-change="ctrl.render()"></select></li><li class="tight-form-item">Postfix</li><li><select class="input-small tight-form-input last" ng-model="ctrl.panel.postfixFontSize" ng-options="f for f in ctrl.fontSizes" ng-change="ctrl.render()"></select></li></ul><div class="clearfix"></div></div><div class="tight-form"><ul class="tight-form-list"><li class="tight-form-item" style="width: 80px"><strong>Unit</strong></li><li class="dropdown" style="width: 266px" ng-model="ctrl.panel.format" dropdown-typeahead="ctrl.unitFormats" dropdown-typeahead-on-select="ctrl.setUnitFormat($subItem)"></li><li class="tight-form-item">Decimals</li><li><input type="number" class="input-small tight-form-input last" placeholder="auto" bs-tooltip="\'Override automatic decimal precision for legend and tooltips\'" data-placement="right" ng-model="ctrl.panel.decimals" ng-change="ctrl.render()" ng-model-onblur></li></ul><div class="clearfix"></div></div></div></div><div class="editor-row"><div class="section" style="margin-bottom: 20px"><div class="tight-form last"><ul class="tight-form-list"><li class="tight-form-item" style="width: 80px"><strong>Coloring</strong></li><li class="tight-form-item">Background&nbsp; <input class="cr1" id="ctrl.panel.colorBackground" type="checkbox" ng-model="ctrl.panel.colorBackground" ng-checked="ctrl.panel.colorBackground" ng-change="ctrl.render()"><label for="ctrl.panel.colorBackground" class="cr1"></label></li><li class="tight-form-item">Value&nbsp; <input class="cr1" id="ctrl.panel.colorValue" type="checkbox" ng-model="ctrl.panel.colorValue" ng-checked="ctrl.panel.colorValue" ng-change="ctrl.render()"><label for="ctrl.panel.colorValue" class="cr1"></label></li><li class="tight-form-item">Thresholds<tip>Define two threshold values&lt;br /&gt; 50,80 will produce: &lt;50 = Green, 50:80 = Yellow, &gt;80 = Red</tip></li><li><input type="text" class="input-large tight-form-input" ng-model="ctrl.panel.thresholds" ng-blur="ctrl.render()" placeholder="50,80"></li><li class="tight-form-item">Colors</li><li class="tight-form-item"><spectrum-picker ng-model="ctrl.panel.colors[0]" ng-change="ctrl.render()"></spectrum-picker><spectrum-picker ng-model="ctrl.panel.colors[1]" ng-change="ctrl.render()"></spectrum-picker><spectrum-picker ng-model="ctrl.panel.colors[2]" ng-change="ctrl.render()"></spectrum-picker></li><li class="tight-form-item last"><a class="pointer" ng-click="ctrl.invertColorOrder()">invert order</a></li></ul><div class="clearfix"></div></div></div></div><div class="editor-row"><div class="section" style="margin-bottom: 20px"><div class="tight-form last"><ul class="tight-form-list"><li class="tight-form-item" style="width: 80px"><strong>Spark lines</strong></li><li class="tight-form-item">Show&nbsp; <input class="cr1" id="ctrl.panel.sparkline.show" type="checkbox" ng-model="ctrl.panel.sparkline.show" ng-checked="ctrl.panel.sparkline.show" ng-change="ctrl.render()"><label for="ctrl.panel.sparkline.show" class="cr1"></label></li><li class="tight-form-item">Background mode&nbsp; <input class="cr1" id="ctrl.panel.sparkline.full" type="checkbox" ng-model="ctrl.panel.sparkline.full" ng-checked="ctrl.panel.sparkline.full" ng-change="ctrl.render()"><label for="ctrl.panel.sparkline.full" class="cr1"></label></li><li class="tight-form-item">Line Color</li><li class="tight-form-item"><spectrum-picker ng-model="ctrl.panel.sparkline.lineColor" ng-change="ctrl.render()"></spectrum-picker></li><li class="tight-form-item">Fill Color</li><li class="tight-form-item last"><spectrum-picker ng-model="ctrl.panel.sparkline.fillColor" ng-change="ctrl.render()"></spectrum-picker></li></ul><div class="clearfix"></div></div></div></div><div class="editor-row"><div class="section" style="margin-bottom: 20px"><div class="tight-form"><ul class="tight-form-list"><li class="tight-form-item" style="width: 80px"><strong>Gauge</strong></li><li class="tight-form-item">Show&nbsp; <input class="cr1" id="panel.gauge.show" type="checkbox" ng-model="ctrl.panel.gauge.show" ng-checked="ctrl.panel.gauge.show" ng-change="ctrl.render()"><label for="panel.gauge.show" class="cr1"></label></li><li class="tight-form-item">Min</li><li><input type="number" class="input-small tight-form-input" ng-model="ctrl.panel.gauge.minValue" ng-blur="ctrl.render()" placeholder="0"></li><li class="tight-form-item last">Max</li><li><input type="number" class="input-small tight-form-input last" ng-model="ctrl.panel.gauge.maxValue" ng-blur="ctrl.render()" placeholder="100"><span class="alert-state-critical" ng-show="ctrl.invalidGaugeRange">&nbsp; <i class="fa fa-warning"></i> Min value is bigger than max.</span></li></ul><div class="clearfix"></div></div><div class="tight-form last"><li class="tight-form-item">Threshold labels&nbsp; <input class="cr1" id="panel.gauge.thresholdLabels" type="checkbox" ng-model="ctrl.panel.gauge.thresholdLabels" ng-checked="ctrl.panel.gauge.thresholdLabels" ng-change="ctrl.render()"><label for="panel.gauge.thresholdLabels" class="cr1"></label></li><li class="tight-form-item">Threshold markers&nbsp; <input class="cr1" id="panel.gauge.thresholdMarkers" type="checkbox" ng-model="ctrl.panel.gauge.thresholdMarkers" ng-checked="ctrl.panel.gauge.thresholdMarkers" ng-change="ctrl.render()"><label for="panel.gauge.thresholdMarkers" class="cr1"></label></li><div class="clearfix"></div></div></div></div>'),a.put("public/app/plugins/panel/singlestat/mappings.html",'<div class="editor-row"><div class="gf-form-group"><div class="gf-form"><span class="gf-form-label">Type</span><div class="gf-form-select-wrapper"><select class="gf-form-input" ng-model="ctrl.panel.mappingType" ng-options="f.value as f.name for f in ctrl.panel.mappingTypes" ng-change="ctrl.render()"></select></div></div></div></div><div class="editor-row" ng-if="ctrl.panel.mappingType==1"><h5 class="page-heading">Set value mappings</h5><div class="gf-form-group"><div class="gf-form" ng-repeat="map in ctrl.panel.valueMaps"><span class="gf-form-label"><i class="fa fa-remove pointer" ng-click="ctrl.removeValueMap(map)"></i> </span><input type="text" ng-model="map.value" placeholder="value" class="gf-form-input max-width-6" ng-blur="ctrl.render()"> <span class="gf-form-label"><i class="fa fa-arrow-right"></i> </span><input type="text" placeholder="text" ng-model="map.text" class="gf-form-input max-width-8" ng-blur="ctrl.render()"></div><div class="gf-form-button-row"><button class="btn btn-inverse" ng-click="ctrl.addValueMap();"><i class="fa fa-plus"></i> Add a value mapping</button></div></div></div><div class="editor-row" ng-if="ctrl.panel.mappingType==2"><h5 class="page-heading">Set range mappings</h5><div class="gf-form-group"><div class="gf-form" ng-repeat="rangeMap in ctrl.panel.rangeMaps"><span class="gf-form-label"><i class="fa fa-remove pointer" ng-click="ctrl.removeRangeMap(rangeMap)"></i> </span><span class="gf-form-label">From</span> <input type="text" ng-model="rangeMap.from" class="gf-form-input max-width-6" ng-blur="ctrl.render()"> <span class="gf-form-label">To</span> <input type="text" ng-model="rangeMap.to" class="gf-form-input max-width-6" ng-blur="ctrl.render()"> <span class="gf-form-label">Text</span> <input type="text" ng-model="rangeMap.text" class="gf-form-input max-width-8" ng-blur="ctrl.render()"></div><div class="gf-form-button-row"><button class="btn btn-inverse" ng-click="ctrl.addRangeMap()"><i class="fa fa-plus"></i> Add a range mapping</button></div></div></div>'),a.put("public/app/plugins/panel/singlestat/module.html",'<div class="singlestat-panel"></div>'),a.put("public/app/plugins/panel/table/editor.html",'<div class="editor-row"><div class="section"><h5>Data</h5><div class="tight-form-container"><div class="tight-form"><ul class="tight-form-list"><li class="tight-form-item" style="width: 140px">To Table Transform</li><li><select class="input-large tight-form-input" ng-model="editor.panel.transform" ng-options="k as v.description for (k, v) in editor.transformers" ng-change="editor.transformChanged()"></select></li></ul><div class="clearfix"></div></div><div class="tight-form"><ul class="tight-form-list"><li class="tight-form-item" style="width: 140px">Columns</li><li class="tight-form-item" ng-repeat="column in editor.panel.columns"><i class="pointer fa fa-remove" ng-click="editor.removeColumn(column)"></i> <span>{{column.text}}</span></li><li><metric-segment segment="editor.addColumnSegment" get-options="editor.getColumnOptions()" on-change="editor.addColumn()"></metric-segment></li></ul><div class="clearfix"></div></div></div></div><div class="section"><h5>Table Display</h5><div class="tight-form-container"><div class="tight-form"><ul class="tight-form-list"><li class="tight-form-item">Pagination (Page size)</li><li><input type="number" class="input-small tight-form-input" placeholder="100" empty-to-null ng-model="editor.panel.pageSize" ng-change="editor.render()" ng-model-onblur></li><li class="tight-form-item"><editor-checkbox text="Scroll" model="editor.panel.scroll" change="editor.render()"></editor-checkbox></li><li class="tight-form-item">Font size</li><li><select class="input-small tight-form-input" ng-model="editor.panel.fontSize" ng-options="f for f in editor.fontSizes" ng-change="editor.render()"></select></li></ul><div class="clearfix"></div></div></div></div></div><div class="editor-row" style="margin-top: 20px"><h5>Column Styles</h5><div class="tight-form-container"><div ng-repeat="style in editor.panel.styles"><div class="tight-form"><ul class="tight-form-list pull-right"><li class="tight-form-item last"><i class="fa fa-remove pointer" ng-click="editor.removeColumnStyle(style)"></i></li></ul><ul class="tight-form-list"><li class="tight-form-item">Name or regex</li><li><input type="text" ng-model="style.pattern" bs-typeahead="editor.getColumnNames" ng-blur="editor.render()" data-min-length="0" data-items="100" class="input-medium tight-form-input"></li><li class="tight-form-item" style="width: 86px">Type</li><li><select class="input-small tight-form-input" ng-model="style.type" ng-options="c.value as c.text for c in editor.columnTypes" ng-change="editor.render()" style="width: 150px"></select></li></ul><ul class="tight-form-list" ng-if="style.type === \'date\'"><li class="tight-form-item">Format</li><li><metric-segment-model property="style.dateFormat" options="editor.dateFormats" on-change="editor.render()" custom="true"></metric-segment-model></li></ul><ul class="tight-form-list" ng-if="style.type === \'string\'"><li class="tight-form-item"><editor-checkbox text="Sanitize HTML" model="style.sanitize" change="editor.render()"></editor-checkbox></li></ul><div class="clearfix"></div></div><div class="tight-form" ng-if="style.type === \'number\'"><ul class="tight-form-list"><li class="tight-form-item text-right" style="width: 93px">Coloring</li><li><select class="input-small tight-form-input" ng-model="style.colorMode" ng-options="c.value as c.text for c in editor.colorModes" ng-change="editor.render()" style="width: 150px"></select></li><li class="tight-form-item">Thresholds<tip>Comma separated values</tip></li><li><input type="text" class="input-small tight-form-input" style="width: 150px" ng-model="style.thresholds" ng-blur="editor.render()" placeholder="50,80" array-join></li><li class="tight-form-item" style="width: 60px">Colors</li><li class="tight-form-item"><spectrum-picker ng-model="style.colors[0]" ng-change="editor.render()"></spectrum-picker><spectrum-picker ng-model="style.colors[1]" ng-change="editor.render()"></spectrum-picker><spectrum-picker ng-model="style.colors[2]" ng-change="editor.render()"></spectrum-picker></li><li class="tight-form-item last"><a class="pointer" ng-click="editor.invertColorOrder($index)">invert order</a></li></ul><div class="clearfix"></div></div><div class="tight-form" ng-if="style.type === \'number\'"><ul class="tight-form-list"><li class="tight-form-item text-right" style="width: 93px">Unit</li><li class="dropdown" style="width: 150px" ng-model="style.unit" dropdown-typeahead="editor.unitFormats" dropdown-typeahead-on-select="editor.setUnitFormat(style, $subItem)"></li><li class="tight-form-item" style="width: 86px">Decimals</li><li style="width: 105px"><input type="number" class="input-mini tight-form-input" ng-model="style.decimals" ng-change="editor.render()" ng-model-onblur></li></ul><div class="clearfix"></div></div></div></div><button class="btn btn-inverse" style="margin-top: 20px" ng-click="editor.addColumnStyle()">Add column style rule</button></div>'),a.put("public/app/plugins/panel/table/module.html",'<div class="table-panel-container"><div class="table-panel-header-bg"></div><div class="table-panel-scroll"><table class="table-panel-table"><thead><tr><th ng-repeat="col in ctrl.table.columns"><div class="table-panel-table-header-inner pointer" ng-click="ctrl.toggleColumnSort(col, $index)">{{col.text}} <span class="table-panel-table-header-controls" ng-if="col.sort"><i class="fa fa-caret-down" ng-show="col.desc"></i> <i class="fa fa-caret-up" ng-hide="col.desc"></i></span></div></th></tr></thead><tbody></tbody></table></div></div><div class="table-panel-footer"></div>'),a.put("public/app/plugins/panel/table/options.html","<grafana-panel-table-editor></grafana-panel-table-editor>"),a.put("public/app/plugins/panel/text/editor.html","<div class=\"gf-form-group\"><div class=\"gf-form-inline\"><div class=\"gf-form\"><span class=\"gf-form-label\">Mode</span> <span class=\"gf-form-select-wrapper\"><select class=\"gf-form-input\" ng-model=\"ctrl.panel.mode\" ng-options=\"f for f in ['html','markdown','text']\"></select></span></div><div class=\"gf-form\" ng-show=\"ctrl.panel.mode == 'text'\"><span class=\"gf-form-label\">Font Size</span> <span class=\"gf-form-select-wrapper\"><select class=\"gf-form-input\" ng-model=\"ctrl.panel.style['font-size']\" ng-options=\"f for f in ['6pt','7pt','8pt','10pt','12pt','14pt','16pt','18pt','20pt','24pt','28pt','32pt','36pt','42pt','48pt','52pt','60pt','72pt']\"></select></span></div></div></div><h3 class=\"page-heading\">Content</h3><span ng-show=\"ctrl.panel.mode == 'markdown'\">(This area uses <a target=\"_blank\" href=\"http://en.wikipedia.org/wiki/Markdown\">Markdown</a>. HTML is not supported)</span><textarea class=\"gf-form-input\" ng-model=\"ctrl.panel.content\" rows=\"20\" style=\"width:95%\" ng-change=\"ctrl.render()\" ng-model-onblur>\n</textarea>"),a.put("public/app/plugins/panel/text/module.html",'<p class="panel-text-content" ng-bind-html="ctrl.content" ng-show="ctrl.content"></p>'),a.put("public/app/plugins/panel/unknown/module.html",'<div class="text-center" style="padding-top: 2rem">Unknown panel type: <strong>{{ctrl.panel.type}}</strong></div>')}])})&&a("app/core/partials",["app/core/partials.js"],function(a){return a})}(),System.register("app/core/profiler.js",["jquery","angular"],function(a){var b,c,d,e;return{setters:[function(a){b=a},function(a){c=a}],execute:function(){d=function(){function a(){}return a.prototype.init=function(a,b){var c=this;this.enabled="development"===a.buildInfo.env,this.timings={},this.timings.appStart={loadStart:(new Date).getTime()},this.$rootScope=b,this.enabled&&(b.$watch(function(){return c.digestCounter++,!1},function(){}),b.onAppEvent("refresh",this.refresh.bind(this),b),b.onAppEvent("dashboard-fetch-end",this.dashboardFetched.bind(this),b),b.onAppEvent("dashboard-initialized",this.dashboardInitialized.bind(this),b),b.onAppEvent("panel-initialized",this.panelInitialized.bind(this),b))},a.prototype.refresh=function(){var a=this;this.timings.query=0,this.timings.render=0,setTimeout(function(){console.log("panel count: "+a.panelsInitCount),console.log("total query: "+a.timings.query),console.log("total render: "+a.timings.render),console.log("avg render: "+a.timings.render/a.panelsInitCount)},5e3)},a.prototype.dashboardFetched=function(){this.timings.dashboardLoadStart=(new Date).getTime(),this.panelsInitCount=0,this.digestCounter=0,this.panelsInitCount=0,this.panelsRendered=0,this.timings.query=0,this.timings.render=0},a.prototype.dashboardInitialized=function(){var a=this;setTimeout(function(){console.log("Dashboard::Performance Total Digests: "+a.digestCounter),console.log("Dashboard::Performance Total Watchers: "+a.getTotalWatcherCount()),console.log("Dashboard::Performance Total ScopeCount: "+a.scopeCount);var b=a.timings.lastPanelInitializedAt-a.timings.dashboardLoadStart;console.log("Dashboard::Performance All panels initialized in "+b+" ms");for(var c=window.performance.now(),d=0;d<30;d++)a.$rootScope.$apply();console.log("Dashboard::Performance Root Digest "+(window.performance.now()-c)/30)},3e3)},a.prototype.getTotalWatcherCount=function(){var a=0,d=0,e=b["default"](document.getElementsByTagName("body")),f=function(e){e.data().hasOwnProperty("$scope")&&(d++,c["default"].forEach(e.data().$scope.$$watchers,function(){a++})),c["default"].forEach(e.children(),function(a){f(b["default"](a))})};return f(e),this.scopeCount=d,a},a.prototype.renderingCompleted=function(a,b){this.panelsRendered=(this.panelsRendered||0)+1,this.$rootScope.panelsRendered=this.panelsRendered,this.enabled&&(b.renderEnd=(new Date).getTime(),this.timings.query+=b.queryEnd-b.queryStart,this.timings.render+=b.renderEnd-b.renderStart)},a.prototype.panelInitialized=function(){this.enabled&&(this.panelsInitCount++,this.timings.lastPanelInitializedAt=(new Date).getTime())},a}(),a("Profiler",d),e=new d,a("profiler",e)}}}),System.register("app/core/components/grafana_app.js",["app/core/config","lodash","jquery","app/core/core_module","app/core/profiler","app/core/app_events"],function(a){function b(a,b){return{restrict:"E",controller:i,link:function(c,d){var f,g=e["default"]("body");c.$watch("contextSrv.sidemenu",function(a){void 0!==a&&(g.toggleClass("sidemenu-open",c.contextSrv.sidemenu),a||b.setPinnedState(!1)),b.sidemenu&&(f=!0,setTimeout(function(){f=!1},300))}),c.$watch("contextSrv.pinned",function(a){void 0!==a&&g.toggleClass("sidemenu-pinned",a)});var h;c.$on("$routeChangeSuccess",function(a,b){h&&g.removeClass(h),h=b.$$route.pageClass,h&&g.addClass(h),e["default"]("#tooltip, .tooltip").remove()}),g.click(function(h){var i=e["default"](h.target);if(0!==i.parents().length){0===i.parents(".dash-playlist-actions").length&&a.stop(),g.find(".search-container").length>0&&0===i.parents(".search-container").length&&c.$apply(function(){c.appEvent("hide-dash-search")}),!f&&!b.pinned&&g.find(".sidemenu").length>0&&0===i.parents(".sidemenu").length&&c.$apply(function(){c.contextSrv.toggleSideMenu()});var j=d.find(".popover");j.length>0&&0===i.parents(".graph-legend").length&&j.hide()}})}}}b.$inject=["playlistSrv","contextSrv"];var c,d,e,f,g,h,i;return a("grafanaAppDirective",b),{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a}],execute:function(){i=function(){function a(a,b,e,f,i,j){a.init=function(){a.contextSrv=j,f.appSubUrl=c["default"].appSubUrl,a._=d["default"],g.profiler.init(c["default"],f),b.init(),e.init(),a.dashAlerts=b},a.initDashboard=function(b,c){a.appEvent("dashboard-fetch-end",b),i("DashboardCtrl",{$scope:c}).init(b)},f.onAppEvent=function(a,b,c){var d=f.$on(a,b),e=this;1!==e.$id||c||console.log("warning rootScope onAppEvent called without localscope"),c&&(e=c),e.$on("$destroy",d)},f.appEvent=function(a,b){f.$emit(a,b),h["default"].emit(a,b)},f.colors=["#7EB26D","#EAB839","#6ED0E0","#EF843C","#E24D42","#1F78C1","#BA43A9","#705DA0","#508642","#CCA300","#447EBC","#C15C17","#890F02","#0A437C","#6D1F62","#584477","#B7DBAB","#F4D598","#70DBED","#F9BA8F","#F29191","#82B5D8","#E5A8E2","#AEA2E0","#629E51","#E5AC0E","#64B0C8","#E0752D","#BF1B00","#0A50A1","#962D82","#614D93","#9AC48A","#F2C96D","#65C5DB","#F9934E","#EA6460","#5195CE","#D683CE","#806EB7","#3F6833","#967302","#2F575E","#99440A","#58140C","#052B51","#511749","#3F2B5B","#E0F9D7","#FCEACA","#CFFAFF","#F9E2D2","#FCE2DE","#BADFF4","#F9D9F9","#DEDAF7"],a.init()}return a.$inject=["$scope","alertSrv","utilSrv","$rootScope","$controller","contextSrv"],a}(),a("GrafanaCtrl",i),f["default"].directive("grafanaApp",b)}}}),System.register("app/core/components/sidemenu/sidemenu.js",["app/core/config","jquery","../../core_module"],function(a){function b(){return{restrict:"E",templateUrl:"public/app/core/components/sidemenu/sidemenu.html",controller:f,bindToController:!0,controllerAs:"ctrl",scope:{},link:function(a,b){b.on("click.dropdown",".dropdown-menu a",function(a){var b=d["default"](a.target).parents(".dropdown-menu"),c=b.parent();b.detach(),setTimeout(function(){c.append(b)},100)}),a.$on("$destory",function(){b.off("click.dropdown")})}}}var c,d,e,f;return a("sideMenuDirective",b),{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a,b,d,e,f){var g=this;this.$scope=a,this.$location=b,this.contextSrv=d,this.backendSrv=e,this.$element=f,this.isSignedIn=d.isSignedIn,this.user=d.user,this.appSubUrl=c["default"].appSubUrl,this.showSignout=this.contextSrv.isSignedIn&&!c["default"].authProxyEnabled,this.mainLinks=c["default"].bootData.mainNavLinks,this.openUserDropdown(),this.loginUrl="login?redirect="+encodeURIComponent(this.$location.path()),this.$scope.$on("$routeChangeSuccess",function(){g.contextSrv.pinned||(g.contextSrv.sidemenu=!1),g.loginUrl="login?redirect="+encodeURIComponent(g.$location.path())})}return a.$inject=["$scope","$location","contextSrv","backendSrv","$element"],a.prototype.getUrl=function(a){return c["default"].appSubUrl+a},a.prototype.openUserDropdown=function(){var a=this;this.orgMenu=[{section:"You",cssClass:"dropdown-menu-title"},{text:"Profile",url:this.getUrl("/profile")}],this.isSignedIn&&this.orgMenu.push({text:"Sign out",url:this.getUrl("/logout"),target:"_self"}),this.contextSrv.hasRole("Admin")&&(this.orgMenu.push({section:this.user.orgName,cssClass:"dropdown-menu-title"}),this.orgMenu.push({text:"Preferences",url:this.getUrl("/org")}),this.orgMenu.push({text:"Users",url:this.getUrl("/org/users")}),this.orgMenu.push({text:"API Keys",url:this.getUrl("/org/apikeys")})),this.orgMenu.push({cssClass:"divider"}),this.backendSrv.get("/api/user/orgs").then(function(b){b.forEach(function(b){b.orgId!==a.contextSrv.user.orgId&&a.orgMenu.push({text:"Switch to "+b.name,icon:"fa fa-fw fa-random",url:a.getUrl("/profile/switch-org/"+b.orgId),target:"_self"})}),c["default"].allowOrgCreate&&a.orgMenu.push({text:"New organization",icon:"fa fa-fw fa-plus",url:a.getUrl("/org/new")})})},a}(),a("SideMenuCtrl",f),e["default"].directive("sidemenu",b)}}}),System.register("app/core/components/search/search.js",["app/core/config","lodash","../../core_module"],function(a){function b(){return{restrict:"E",templateUrl:"public/app/core/components/search/search.html",controller:f,bindToController:!0,controllerAs:"ctrl"}}var c,d,e,f;return a("searchDirective",b),{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a,b,c,d,e,f){this.$scope=a,this.$location=b,this.$timeout=c,this.backendSrv=d,this.contextSrv=e,this.$rootScope=f,f.onAppEvent("show-dash-search",this.openSearch.bind(this),a),f.onAppEvent("hide-dash-search",this.closeSearch.bind(this),a)}return a.$inject=["$scope","$location","$timeout","backendSrv","contextSrv","$rootScope"],a.prototype.closeSearch=function(){this.isOpen=this.ignoreClose},a.prototype.openSearch=function(){var a=this;return this.isOpen?void(this.isOpen=!1):(this.isOpen=!0,this.giveSearchFocus=0,this.selectedIndex=-1,this.results=[],this.query={query:"",tag:[],starred:!1},this.currentSearchId=0,this.ignoreClose=!0,void this.$timeout(function(){a.ignoreClose=!1,a.giveSearchFocus=a.giveSearchFocus+1,a.query.query="",a.search()},100))},a.prototype.keyDown=function(a){if(27===a.keyCode&&this.closeSearch(),40===a.keyCode&&this.moveSelection(1),38===a.keyCode&&this.moveSelection(-1),13===a.keyCode){if(this.$scope.tagMode){var b=this.results[this.selectedIndex];return void(b&&this.filterByTag(b.term,null))}var c=this.results[this.selectedIndex];c&&(this.$location.search({}),this.$location.path(c.url))}},a.prototype.moveSelection=function(a){var b=(this.results||[]).length,c=this.selectedIndex+a;this.selectedIndex=(c%=b)<0?c+b:c},a.prototype.searchDashboards=function(){var a=this;this.tagsMode=!1,this.currentSearchId=this.currentSearchId+1;var b=this.currentSearchId;return this.backendSrv.search(this.query).then(function(e){b<a.currentSearchId||(a.results=d["default"].map(e,function(a){return a.url="dashboard/"+a.uri,a}),a.queryHasNoFilters()&&a.results.unshift({title:"Home",url:c["default"].appSubUrl+"/",type:"dash-home"}))})},a.prototype.queryHasNoFilters=function(){var a=this.query;return""===a.query&&a.starred===!1&&0===a.tag.length},a.prototype.filterByTag=function(a,b){this.query.tag.push(a),this.search(),this.giveSearchFocus=this.giveSearchFocus+1,b&&(b.stopPropagation(),b.preventDefault())},a.prototype.removeTag=function(a,b){this.query.tag=d["default"].without(this.query.tag,a),this.search(),this.giveSearchFocus=this.giveSearchFocus+1,b.stopPropagation(),b.preventDefault()},a.prototype.getTags=function(){var a=this;return this.backendSrv.get("/api/dashboards/tags").then(function(b){a.tagsMode=!a.tagsMode,a.results=b,a.giveSearchFocus=a.giveSearchFocus+1,a.tagsMode||a.search()})},a.prototype.showStarred=function(){this.query.starred=!this.query.starred,this.giveSearchFocus=this.giveSearchFocus+1,this.search()},a.prototype.search=function(){this.showImport=!1,this.selectedIndex=0,this.searchDashboards()},a}(),a("SearchCtrl",f),e["default"].directive("dashboardSearch",b)}}}),System.register("app/core/components/info_popover.js",["lodash","app/core/core_module","tether-drop"],function(a){function b(){return{restrict:"E",template:'<i class="fa fa-info-circle"></i>',transclude:!0,link:function(a,b,d,f,g){var h=d.offset||"0 -10px",i=d.position||"right middle",j="drop-help drop-hide-out-of-bounds",k="hover";b.addClass("gf-form-help-icon"),d.wide&&(j+=" drop-wide"),d.mode&&b.addClass("gf-form-help-icon--"+d.mode),g(function(d,f){var g=document.createElement("div");c["default"].each(d,function(a){g.appendChild(a)});var l=new e["default"]({target:b[0],content:g,position:i,classes:j,openOn:k,hoverOpenDelay:400,tetherOptions:{offset:h}});a.$on("$destroy",function(){l.destroy()})})}}}var c,d,e;return a("infoPopover",b),{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){d["default"].directive("infoPopover",b)}}}),System.register("app/core/components/colorpicker.js",["app/core/core_module"],function(a){function b(){return{restrict:"E",controller:e,bindToController:!0,controllerAs:"ctrl",template:d}}var c,d,e;return a("colorPicker",b),{setters:[function(a){c=a}],execute:function(){d='\n<div class="graph-legend-popover">\n  <div ng-show="ctrl.series" class="p-b-1">\n    <label>Y Axis:</label>\n    <button ng-click="ctrl.toggleAxis(yaxis);" class="btn btn-small"\n            ng-class="{\'btn-success\': ctrl.series.yaxis === 1,\n                       \'btn-inverse\': ctrl.series.yaxis === 2}">\n      Left\n    </button>\n    <button ng-click="ctrl.toggleAxis(yaxis);"\n      class="btn btn-small"\n      ng-class="{\'btn-success\': ctrl.series.yaxis === 2,\n                 \'btn-inverse\': ctrl.series.yaxis === 1}">\n      Right\n    </button>\n  </div>\n\n  <p class="m-b-0">\n   <i ng-repeat="color in ctrl.colors" class="pointer fa fa-circle"\n    ng-style="{color:color}"\n    ng-click="ctrl.colorSelected(color);">&nbsp;</i>\n  </p>\n</div>\n',e=function(){function a(a,b){this.$scope=a,this.$rootScope=b,this.colors=b.colors,this.autoClose=a.autoClose,this.series=a.series}return a.$inject=["$scope","$rootScope"],a.prototype.toggleAxis=function(a){this.$scope.toggleAxis(),this.$scope.autoClose&&this.$scope.dismiss()},a.prototype.colorSelected=function(a){
this.$scope.colorSelected(a),this.$scope.autoClose&&this.$scope.dismiss()},a}(),a("ColorPickerCtrl",e),c["default"].directive("gfColorPicker",b)}}}),System.register("app/core/components/navbar/navbar.js",["../../core_module"],function(a){function b(){return{restrict:"E",templateUrl:"public/app/core/components/navbar/navbar.html",controller:d,bindToController:!0,transclude:!0,controllerAs:"ctrl",scope:{title:"@",titleUrl:"@",iconUrl:"@"},link:function(a,b,c,d){d.icon=c.icon,b.addClass("navbar")}}}var c,d;return a("navbarDirective",b),{setters:[function(a){c=a}],execute:function(){d=function(){function a(a,b){this.$scope=a,this.contextSrv=b}return a.$inject=["$scope","contextSrv"],a}(),a("NavbarCtrl",d),c["default"].directive("navbar",b)}}}),System.register("app/core/directives/array_join.js",["lodash","../core_module"],function(a){function b(){"use strict";return{restrict:"A",require:"ngModel",link:function(a,b,d,e){function f(a){return(a||"").split(",")}function g(a){return c["default"].isArray(a)?(a||"").join(","):a}e.$parsers.push(f),e.$formatters.push(g)}}}var c,d;return a("arrayJoin",b),{setters:[function(a){c=a},function(a){d=a}],execute:function(){d["default"].directive("arrayJoin",b)}}}),System.registerDynamic("vendor/npm/rxjs/symbol/observable.js",["../util/root"],!0,function(a,b,c){"use strict";var d=a("../util/root"),e=d.root.Symbol;return"function"==typeof e?e.observable?b.$$observable=e.observable:("function"==typeof e["for"]?b.$$observable=e["for"]("observable"):b.$$observable=e("observable"),e.observable=b.$$observable):b.$$observable="@@observable",c.exports}),System.registerDynamic("vendor/npm/rxjs/util/isArray.js",[],!0,function(a,b,c){"use strict";return b.isArray=Array.isArray||function(a){return a&&"number"==typeof a.length},c.exports}),System.registerDynamic("vendor/npm/rxjs/util/isObject.js",[],!0,function(a,b,c){"use strict";function d(a){return null!=a&&"object"==typeof a}return b.isObject=d,c.exports}),System.registerDynamic("vendor/npm/rxjs/util/isFunction.js",[],!0,function(a,b,c){"use strict";function d(a){return"function"==typeof a}return b.isFunction=d,c.exports}),System.registerDynamic("vendor/npm/rxjs/util/tryCatch.js",["./errorObject"],!0,function(a,b,c){"use strict";function d(){try{return f.apply(this,arguments)}catch(a){return g.errorObject.e=a,g.errorObject}}function e(a){return f=a,d}var f,g=a("./errorObject");return b.tryCatch=e,c.exports}),System.registerDynamic("vendor/npm/rxjs/util/errorObject.js",[],!0,function(a,b,c){"use strict";return b.errorObject={e:{}},c.exports}),System.registerDynamic("vendor/npm/rxjs/Subscription.js",["./util/isArray","./util/isObject","./util/isFunction","./util/tryCatch","./util/errorObject"],!0,function(a,b,c){"use strict";var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=a("./util/isArray"),f=a("./util/isObject"),g=a("./util/isFunction"),h=a("./util/tryCatch"),i=a("./util/errorObject"),j=function(){function a(a){this.isUnsubscribed=!1,a&&(this._unsubscribe=a)}return a.prototype.unsubscribe=function(){var a,b=!1;if(!this.isUnsubscribed){this.isUnsubscribed=!0;var c=this,d=c._unsubscribe,j=c._subscriptions;if(this._subscriptions=null,g.isFunction(d)){var l=h.tryCatch(d).call(this);l===i.errorObject&&(b=!0,(a=a||[]).push(i.errorObject.e))}if(e.isArray(j))for(var m=-1,n=j.length;++m<n;){var o=j[m];if(f.isObject(o)){var l=h.tryCatch(o.unsubscribe).call(o);if(l===i.errorObject){b=!0,a=a||[];var p=i.errorObject.e;p instanceof k?a=a.concat(p.errors):a.push(p)}}}if(b)throw new k(a)}},a.prototype.add=function(b){if(b&&b!==this&&b!==a.EMPTY){var c=b;switch(typeof b){case"function":c=new a(b);case"object":if(c.isUnsubscribed||"function"!=typeof c.unsubscribe)break;this.isUnsubscribed?c.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(c);break;default:throw new Error("Unrecognized teardown "+b+" added to Subscription.")}return c}},a.prototype.remove=function(b){if(null!=b&&b!==this&&b!==a.EMPTY){var c=this._subscriptions;if(c){var d=c.indexOf(b);d!==-1&&c.splice(d,1)}}},a.EMPTY=function(a){return a.isUnsubscribed=!0,a}(new a),a}();b.Subscription=j;var k=function(a){function b(b){a.call(this,"unsubscriptoin error(s)"),this.errors=b,this.name="UnsubscriptionError"}return d(b,a),b}(Error);return b.UnsubscriptionError=k,c.exports}),System.registerDynamic("vendor/npm/rxjs/Observer.js",[],!0,function(a,b,c){"use strict";return b.empty={isUnsubscribed:!0,next:function(a){},error:function(a){throw a},complete:function(){}},c.exports}),System.registerDynamic("vendor/npm/rxjs/Subscriber.js",["./util/isFunction","./Subscription","./symbol/rxSubscriber","./Observer"],!0,function(a,b,c){"use strict";var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=a("./util/isFunction"),f=a("./Subscription"),g=a("./symbol/rxSubscriber"),h=a("./Observer"),i=function(a){function b(c,d,e){switch(a.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=h.empty;break;case 1:if(!c){this.destination=h.empty;break}if("object"==typeof c){c instanceof b?this.destination=c:(this.syncErrorThrowable=!0,this.destination=new j(this,c));break}default:this.syncErrorThrowable=!0,this.destination=new j(this,c,d,e)}}return d(b,a),b.create=function(a,c,d){var e=new b(a,c,d);return e.syncErrorThrowable=!1,e},b.prototype.next=function(a){this.isStopped||this._next(a)},b.prototype.error=function(a){this.isStopped||(this.isStopped=!0,this._error(a))},b.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},b.prototype.unsubscribe=function(){this.isUnsubscribed||(this.isStopped=!0,a.prototype.unsubscribe.call(this))},b.prototype._next=function(a){this.destination.next(a)},b.prototype._error=function(a){this.destination.error(a),this.unsubscribe()},b.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},b.prototype[g.$$rxSubscriber]=function(){return this},b}(f.Subscription);b.Subscriber=i;var j=function(a){function b(b,c,d,f){a.call(this),this._parent=b;var g,h=this;e.isFunction(c)?g=c:c&&(h=c,g=c.next,d=c.error,f=c.complete,e.isFunction(h.unsubscribe)&&this.add(h.unsubscribe.bind(h)),h.unsubscribe=this.unsubscribe.bind(this)),this._context=h,this._next=g,this._error=d,this._complete=f}return d(b,a),b.prototype.next=function(a){if(!this.isStopped&&this._next){var b=this._parent;b.syncErrorThrowable?this.__tryOrSetError(b,this._next,a)&&this.unsubscribe():this.__tryOrUnsub(this._next,a)}},b.prototype.error=function(a){if(!this.isStopped){var b=this._parent;if(this._error)b.syncErrorThrowable?(this.__tryOrSetError(b,this._error,a),this.unsubscribe()):(this.__tryOrUnsub(this._error,a),this.unsubscribe());else{if(!b.syncErrorThrowable)throw this.unsubscribe(),a;b.syncErrorValue=a,b.syncErrorThrown=!0,this.unsubscribe()}}},b.prototype.complete=function(){if(!this.isStopped){var a=this._parent;this._complete?a.syncErrorThrowable?(this.__tryOrSetError(a,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},b.prototype.__tryOrUnsub=function(a,b){try{a.call(this._context,b)}catch(c){throw this.unsubscribe(),c}},b.prototype.__tryOrSetError=function(a,b,c){try{b.call(this._context,c)}catch(d){return a.syncErrorValue=d,a.syncErrorThrown=!0,!0}return!1},b.prototype._unsubscribe=function(){var a=this._parent;this._context=null,this._parent=null,a.unsubscribe()},b}(i);return c.exports}),System.registerDynamic("vendor/npm/rxjs/util/root.js",[],!0,function(a,b,c){"use strict";var d=this,e={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};b.root=e[typeof self]&&self||e[typeof window]&&window;var f=(e[typeof b]&&b&&!b.nodeType&&b,e[typeof c]&&c&&!c.nodeType&&c,e[typeof d]&&d);return!f||f.global!==f&&f.window!==f||(b.root=f),c.exports}),System.registerDynamic("vendor/npm/rxjs/symbol/rxSubscriber.js",["../util/root"],!0,function(a,b,c){"use strict";var d=a("../util/root"),e=d.root.Symbol;return b.$$rxSubscriber="function"==typeof e&&"function"==typeof e["for"]?e["for"]("rxSubscriber"):"@@rxSubscriber",c.exports}),System.registerDynamic("vendor/npm/rxjs/util/toSubscriber.js",["../Subscriber","../symbol/rxSubscriber"],!0,function(a,b,c){"use strict";function d(a,b,c){if(a&&"object"==typeof a){if(a instanceof e.Subscriber)return a;if("function"==typeof a[f.$$rxSubscriber])return a[f.$$rxSubscriber]()}return new e.Subscriber(a,b,c)}var e=a("../Subscriber"),f=a("../symbol/rxSubscriber");return b.toSubscriber=d,c.exports}),System.registerDynamic("vendor/npm/rxjs/Observable.js",["./util/root","./symbol/observable","./util/toSubscriber"],!0,function(a,b,c){"use strict";var d=a("./util/root"),e=a("./symbol/observable"),f=a("./util/toSubscriber"),g=function(){function a(a){this._isScalar=!1,a&&(this._subscribe=a)}return a.prototype.lift=function(b){var c=new a;return c.source=this,c.operator=b,c},a.prototype.subscribe=function(a,b,c){var d=this.operator,e=f.toSubscriber(a,b,c),g=d&&d.call(e)||e;g!==e&&e.add(g);var h=this._subscribe(g);if(h!==e&&e.add(h),e.syncErrorThrowable&&(e.syncErrorThrowable=!1,e.syncErrorThrown))throw e.syncErrorValue;return e},a.prototype.forEach=function(a,b){var c=this;if(b||(d.root.Rx&&d.root.Rx.config&&d.root.Rx.config.Promise?b=d.root.Rx.config.Promise:d.root.Promise&&(b=d.root.Promise)),!b)throw new Error("no Promise impl found");return new b(function(b,d){var e=c.subscribe(function(b){if(e)try{a(b)}catch(c){d(c),e.unsubscribe()}else a(b)},d,b)})},a.prototype._subscribe=function(a){return this.source.subscribe(a)},a.prototype[e.$$observable]=function(){return this},a.create=function(b){return new a(b)},a}();return b.Observable=g,c.exports}),System.register("app/core/live/live_srv.js",["lodash","app/core/config","vendor/npm/rxjs/Observable"],function(a){var b,c,d,e,f;return{setters:[function(a){b=a},function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(){this.observers={}}return a.prototype.getWebSocketUrl=function(){var a=window.location;return("https:"===a.protocol?"wss://":"ws://")+a.host+c["default"].appSubUrl+"/ws"},a.prototype.getConnection=function(){var a=this;return this.initPromise?this.initPromise:this.conn&&1===this.conn.readyState?Promise.resolve(this.conn):(this.initPromise=new Promise(function(b,c){console.log("Live: connecting..."),a.conn=new WebSocket(a.getWebSocketUrl()),a.conn.onclose=function(b){console.log("Live: websocket onclose",b),c({message:"Connection closed"}),a.initPromise=null,setTimeout(a.reconnect.bind(a),2e3)},a.conn.onmessage=function(b){a.handleMessage(b.data)},a.conn.onerror=function(b){a.initPromise=null,c({message:"Connection error"}),console.log("Live: websocket error",b)},a.conn.onopen=function(c){console.log("opened"),a.initPromise=null,b(a.conn)}}),this.initPromise)},a.prototype.handleMessage=function(a){if(a=JSON.parse(a),!a.stream)return void console.log("Error: stream message without stream!",a);var b=this.observers[a.stream];return b?void b.next(a):void this.removeObserver(a.stream,null)},a.prototype.reconnect=function(){var a=this;0!==b["default"].keys(this.observers).length&&(console.log("LiveSrv: Reconnecting"),this.getConnection().then(function(c){b["default"].each(a.observers,function(b,c){a.send({action:"subscribe",stream:c})})}))},a.prototype.send=function(a){this.conn.send(JSON.stringify(a))},a.prototype.addObserver=function(a,b){var c=this;this.observers[a]=b,this.getConnection().then(function(b){c.send({action:"subscribe",stream:a})})},a.prototype.removeObserver=function(a,b){var c=this;console.log("unsubscribe",a),delete this.observers[a],this.getConnection().then(function(b){c.send({action:"unsubscribe",stream:a})})},a.prototype.subscribe=function(a){var b=this;return console.log("LiveSrv.subscribe: "+a),d.Observable.create(function(c){return b.addObserver(a,c),function(){b.removeObserver(a,c)}})},a}(),a("LiveSrv",e),f=new e,a("liveSrv",f)}}}),System.register("app/core/components/layout_selector/layout_selector.js",["app/core/store","app/core/core_module"],function(a){function b(){return{restrict:"E",controller:g,bindToController:!0,controllerAs:"ctrl",scope:{},template:f}}function c(a){return{restrict:"A",scope:{},link:function(b,c){var e=d["default"].get("grafana.list.layout.mode")||"grid",f="card-list-layout-"+e;c.addClass(f),a.onAppEvent("layout-mode-changed",function(a,b){c.removeClass(f),f="card-list-layout-"+b,c.addClass(f)},b)}}}c.$inject=["$rootScope"];var d,e,f,g;return a("layoutSelector",b),a("layoutMode",c),{setters:[function(a){d=a},function(a){e=a}],execute:function(){f='\n<div class="layout-selector">\n  <button ng-click="ctrl.listView()" ng-class="{active: ctrl.mode === \'list\'}">\n    <i class="fa fa-list"></i>\n  </button>\n  <button ng-click="ctrl.gridView()" ng-class="{active: ctrl.mode === \'grid\'}">\n    <i class="fa fa-th"></i>\n  </button>\n</div>\n',g=function(){function a(a){this.$rootScope=a,this.mode=d["default"].get("grafana.list.layout.mode")||"grid"}return a.$inject=["$rootScope"],a.prototype.listView=function(){this.mode="list",d["default"].set("grafana.list.layout.mode","list"),this.$rootScope.appEvent("layout-mode-changed","list")},a.prototype.gridView=function(){this.mode="grid",d["default"].set("grafana.list.layout.mode","grid"),this.$rootScope.appEvent("layout-mode-changed","grid")},a}(),a("LayoutSelectorCtrl",g),e["default"].directive("layoutSelector",b),e["default"].directive("layoutMode",c)}}}),System.register("app/core/components/switch.js",["app/core/core_module"],function(a){function b(){return{restrict:"E",controller:e,controllerAs:"ctrl",bindToController:!0,scope:{checked:"=",label:"@",labelClass:"@",tooltip:"@",switchClass:"@",onChange:"&"},template:d}}var c,d,e;return a("switchDirective",b),{setters:[function(a){c=a}],execute:function(){d='\n<label for="check-{{ctrl.id}}" class="gf-form-label {{ctrl.labelClass}} pointer">\n  {{ctrl.label}}\n  <info-popover mode="right-normal" ng-if="ctrl.tooltip">\n    {{ctrl.tooltip}}\n  </info-popover>\n</label>\n<div class="gf-form-switch {{ctrl.switchClass}}" ng-if="ctrl.show">\n  <input id="check-{{ctrl.id}}" type="checkbox" ng-model="ctrl.checked" ng-change="ctrl.internalOnChange()">\n  <label for="check-{{ctrl.id}}" data-on="Yes" data-off="No"></label>\n</div>\n',e=function(){function a(a,b){this.$timeout=b,this.show=!0,this.id=a.$id}return a.$inject=["$scope","$timeout"],a.prototype.internalOnChange=function(){var a=this;return this.$timeout(function(){return a.onChange()})},a}(),a("SwitchCtrl",e),c["default"].directive("gfFormSwitch",b)}}}),System.register("app/core/components/dashboard_selector.js",["app/core/core_module"],function(a){function b(){return{restrict:"E",controller:e,bindToController:!0,controllerAs:"ctrl",template:d,scope:{model:"="}}}var c,d,e;return a("dashboardSelector",b),{setters:[function(a){c=a}],execute:function(){d='\n<select class="gf-form-input" ng-model="ctrl.model" ng-options="f.value as f.text for f in ctrl.options"></select>\n<info-popover mode="right-absolute">\n  Not finding dashboard you want? Star it first, then it should appear in this select box.\n</info-popover>\n',e=function(){function a(a){this.backendSrv=a}return a.$inject=["backendSrv"],a.prototype.$onInit=function(){var a=this;return this.options=[{value:0,text:"Default"}],this.backendSrv.search({starred:!0}).then(function(b){b.forEach(function(b){a.options.push({value:b.id,text:b.title})})})},a}(),a("DashboardSelectorCtrl",e),c["default"].directive("dashboardSelector",b)}}}),System.register("app/core/components/query_part/query_part_editor.js",["lodash","jquery","app/core/core_module"],function(a){function b(a,b){var e='<input type="text" style="display:none" class="input-mini tight-form-func-param"></input>';return{restrict:"E",template:f,scope:{part:"=",removeAction:"&",partUpdated:"&",getOptions:"&"},link:function(a,f){function g(a){var b=d["default"](this),c=b.next();c.val(n.params[a]),c.css("width",b.width()+16+"px"),b.hide(),c.show(),c.focus(),c.select();var e=c.data("typeahead");e&&(c.val(""),e.lookup())}function h(c){var e=d["default"](this),f=e.prev(),g=e.val();(""!==g||n.def.params[c].optional)&&(f.html(b.highlightVariablesAsHtml(g)),n.updateParam(e.val(),c),a.$apply(a.partUpdated)),e.hide(),f.show()}function i(a,b){13===b.which&&h.call(this,a)}function j(){this.style.width=8*(3+this.value.length)+"px"}function k(b,e,f){if(e.options||e.dynamicLookup){var g=function(b,d){return e.options?e.options:void a.$apply(function(){a.getOptions().then(function(a){var b=c["default"].map(a,function(a){return a.value});d(b)})})};b.attr("data-provide","typeahead");var i=e.options;"int"===e.type&&(i=c["default"].map(i,function(a){return a.toString()})),b.typeahead({source:g,minLength:0,items:1e3,updater:function(a){return setTimeout(function(){h.call(b[0],f)},0),a}});var j=b.data("typeahead");j.lookup=function(){this.query=this.$element.val()||"";var a=this.source(this.query,d["default"].proxy(this.process,this));return a?this.process(a):a}}}function l(){c["default"].each(o.params,function(a,f){if(!(a.optional&&n.params.length<=f)){f>0&&d["default"]("<span>, </span>").appendTo(p);var l=b.highlightVariablesAsHtml(n.params[f]),m=d["default"]('<a class="graphite-func-param-link pointer">'+l+"</a>"),o=d["default"](e);m.appendTo(p),o.appendTo(p),o.blur(c["default"].partial(h,f)),o.keyup(j),o.keypress(c["default"].partial(i,f)),m.click(c["default"].partial(g,f)),k(o,a,f)}})}function m(){p.empty(),l()}var n=a.part,o=n.def,p=f.find(".query-part-parameters"),q=f.find(".tight-form-func-controls");a.toggleControls=function(){var a=f.closest(".tight-form");return f.hasClass("show-function-controls")?(f.removeClass("show-function-controls"),a.removeClass("has-open-function"),void q.hide()):(f.addClass("show-function-controls"),a.addClass("has-open-function"),void q.show())},a.removeActionInternal=function(){a.toggleControls(),a.removeAction()},m()}}}b.$inject=["$compile","templateSrv"];var c,d,e,f;return a("queryPartEditorDirective",b),{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f='\n<div class="tight-form-func-controls">\n  <span class="pointer fa fa-remove" ng-click="removeActionInternal()"></span>\n</div>\n\n<a ng-click="toggleControls()" class="query-part-name">{{part.def.type}}</a>\n<span>(</span><span class="query-part-parameters"></span><span>)</span>\n',e["default"].directive("queryPartEditor",b)}}}),System.register("app/core/components/wizard/wizard.js",["app/core/core_module","app/core/app_events"],function(a){var b,c,d,e,f;return{setters:[function(a){b=a},function(a){c=a}],execute:function(){d=function(){function a(){}return a}(),a("WizardSrv",d),e=function(){function a(){this.type="select"}return a.prototype.process=function(){return new Promise(function(a,b){})},a}(),a("SelectOptionStep",e),f=function(){function a(a){this.name=a,this.steps=[]}return a.prototype.addStep=function(a){this.steps.push(a)},a.prototype.next=function(a){var b=this,c=this.steps[0];return c.process().then(function(){if(b.steps.length!==a+1)return b.next(a+1)})},a.prototype.start=function(){return c["default"].emit("show-modal",{src:"public/app/core/components/wizard/wizard.html",model:this}),this.next(0)},a}(),a("WizardFlow",f),b["default"].service("wizardSrv",d)}}}),function(){var a=System.amdDefine;a("app/core/controllers/inspect_ctrl.js",["angular","lodash","jquery","../core_module"],function(a,b,c,d){"use strict";d["default"].controller("InspectCtrl",["$scope",function(d){function e(a){for(var b=[],c=a.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");e[1].length>0&&b.push({key:e[0],value:window.unescape(e[1])})}return b}var f=d.inspector;d.init=function(){d.editor={index:0},f.error&&(b.isString(f.error.data)?d.response=c("<div>"+f.error.data+"</div>").text():f.error.data?d.response=a.toJson(f.error.data,!0):f.error.message&&(d.message=f.error.message),f.error.config&&f.error.config.params&&(d.request_parameters=b.map(f.error.config.params,function(a,b){return{key:b,value:a}})),f.error.stack&&(d.editor.index=2,d.stack_trace=f.error.stack,d.message=f.error.message),f.error.config&&f.error.config.data&&(d.editor.index=1,b.isString(f.error.config.data)?d.request_parameters=e(f.error.config.data):d.request_parameters=b.map(f.error.config.data,function(b,c){return{key:c,value:a.toJson(b,!0)}})))}}])})}(),function(){var a=System.amdDefine;a("app/core/controllers/json_editor_ctrl.js",["angular","../core_module"],function(a,b){"use strict";b["default"].controller("JsonEditorCtrl",["$scope",function(b){b.json=a.toJson(b.object,!0),b.canUpdate=void 0!==b.updateHandler&&b.contextSrv.isEditor,b.update=function(){var c=a.fromJson(b.json);b.updateHandler(c,b.object)}}])})}(),function(){var a=System.amdDefine;a("app/core/controllers/login_ctrl.js",["angular","../core_module","app/core/config"],function(a,b,c){"use strict";b["default"].controller("LoginCtrl",["$scope","backendSrv","contextSrv","$location",function(a,b,d,e){a.formModel={user:"",email:"",password:""},d.sidemenu=!1,a.googleAuthEnabled=c.googleAuthEnabled,a.githubAuthEnabled=c.githubAuthEnabled,a.oauthEnabled=c.githubAuthEnabled||c.googleAuthEnabled,a.disableUserSignUp=c.disableUserSignUp,a.loginHint=c.loginHint,a.loginMode=!0,a.submitBtnText="Log in",a.init=function(){a.$watch("loginMode",a.loginModeChanged);var b=e.search();b.failedMsg&&(a.appEvent("alert-warning",["Login Failed",b.failedMsg]),delete b.failedMsg,e.search(b))},a.submit=function(){a.loginMode?a.login():a.signUp()},a.loginModeChanged=function(b){a.submitBtnText=b?"Log in":"Sign up"},a.signUp=function(){a.loginForm.$valid&&b.post("/api/user/signup",a.formModel).then(function(b){"SignUpCreated"===b.status?e.path("/signup").search({email:a.formModel.email}):window.location.href=c.appSubUrl+"/"})},a.login=function(){delete a.loginError,a.loginForm.$valid&&b.post("/login",a.formModel).then(function(a){var b=e.search();b.redirect&&"/"===b.redirect[0]?window.location.href=c.appSubUrl+b.redirect:a.redirectUrl?window.location.href=a.redirectUrl:window.location.href=c.appSubUrl+"/"})},a.init()}])})}(),function(){var a=System.amdDefine;a("app/core/controllers/invited_ctrl.js",["angular","../core_module","app/core/config"],function(a,b,c){"use strict";b["default"].controller("InvitedCtrl",["$scope","$routeParams","contextSrv","backendSrv",function(a,b,d,e){d.sidemenu=!1,a.formModel={},a.init=function(){e.get("/api/user/invite/"+b.code).then(function(c){a.formModel.name=c.name,a.formModel.email=c.email,a.formModel.username=c.email,a.formModel.inviteCode=b.code,a.greeting=c.name||c.email||c.username,a.invitedBy=c.invitedBy})},a.submit=function(){a.inviteForm.$valid&&e.post("/api/user/invite/complete",a.formModel).then(function(){window.location.href=c.appSubUrl+"/"})},a.init()}])})}(),System.register("app/core/controllers/signup_ctrl.js",["app/core/config","../core_module"],function(a){var b,c,d;return{setters:[function(a){b=a},function(a){c=a}],execute:function(){d=function(){function a(a,b,c,d){this.$scope=a,this.$location=b,this.contextSrv=c,this.backendSrv=d,c.sidemenu=!1,a.ctrl=this,a.formModel={};var e=b.search();a.formModel.orgName=e.email,a.formModel.email=e.email,a.formModel.username=e.email,a.formModel.code=e.code,a.verifyEmailEnabled=!1,a.autoAssignOrg=!1,d.get("/api/user/signup/options").then(function(b){a.verifyEmailEnabled=b.verifyEmailEnabled,a.autoAssignOrg=b.autoAssignOrg})}return a.$inject=["$scope","$location","contextSrv","backendSrv"],a.prototype.submit=function(){this.$scope.signUpForm.$valid&&this.backendSrv.post("/api/user/signup/step2",this.$scope.formModel).then(function(a){"redirect-to-select-org"===a.code?window.location.href=b["default"].appSubUrl+"/profile/select-org?signup=1":window.location.href=b["default"].appSubUrl+"/"})},a}(),a("SignUpCtrl",d),c["default"].controller("SignUpCtrl",d)}}}),function(){var a=System.amdDefine;a("app/core/controllers/reset_password_ctrl.js",["angular","../core_module"],function(a,b){"use strict";b["default"].controller("ResetPasswordCtrl",["$scope","contextSrv","backendSrv","$location",function(a,b,c,d){b.sidemenu=!1,a.formModel={},a.mode="send";var e=d.search();e.code&&(a.mode="reset",a.formModel.code=e.code),a.sendResetEmail=function(){a.sendResetForm.$valid&&c.post("/api/user/password/send-reset-email",a.formModel).then(function(){a.mode="email-sent"})},a.submitReset=function(){if(a.resetForm.$valid)return a.formModel.newPassword!==a.formModel.confirmPassword?void a.appEvent("alert-warning",["New passwords do not match",""]):void c.post("/api/user/password/reset",a.formModel).then(function(){d.path("login")})}}])})}(),function(){var a=System.amdDefine;a("app/core/controllers/error_ctrl.js",["angular","../core_module"],function(a,b){"use strict";b["default"].controller("ErrorCtrl",["$scope","contextSrv",function(a,b){var c=b.sidemenu;b.sidemenu=!1,a.$on("$destroy",function(){a.contextSrv.sidemenu=c})}])})}(),function(){var a=System.amdDefine;a("app/core/controllers/all.js",["./inspect_ctrl","./json_editor_ctrl","./login_ctrl","./invited_ctrl","./signup_ctrl","./reset_password_ctrl","./error_ctrl"],function(){})}(),System.register("app/core/services/alert_srv.js",["angular","lodash","app/core/core_module","app/core/app_events"],function(a){var b,c,d,e,f;return{setters:[function(a){b=a},function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a,b,c,d){this.$timeout=a,this.$sce=b,this.$rootScope=c,this.$modal=d,this.list=[]}return a.$inject=["$timeout","$sce","$rootScope","$modal"],a.prototype.init=function(){var a=this;this.$rootScope.onAppEvent("alert-error",function(b,c){a.set(c[0],c[1],"error",0)},this.$rootScope),this.$rootScope.onAppEvent("alert-warning",function(b,c){a.set(c[0],c[1],"warning",5e3)},this.$rootScope),this.$rootScope.onAppEvent("alert-success",function(b,c){a.set(c[0],c[1],"success",3e3)},this.$rootScope),e["default"].on("confirm-modal",this.showConfirmModal.bind(this))},a.prototype.set=function(a,d,e,f){var g=this,h={title:a||"",text:d||"",severity:e||"info"},i=b["default"].toJson(h);return c["default"].remove(this.list,function(a){return b["default"].toJson(a)===i}),this.list.push(h),f>0&&this.$timeout(function(){g.list=c["default"].without(g.list,h)},f),this.$rootScope.$$phase||this.$rootScope.$digest(),h},a.prototype.clear=function(a){this.list=c["default"].without(this.list,a)},a.prototype.clearAll=function(){this.list=[]},a.prototype.showConfirmModal=function(a){var b=this.$rootScope.$new();b.title=a.title,b.text=a.text,b.text2=a.text2,b.onConfirm=a.onConfirm,b.onAltAction=a.onAltAction,b.altActionText=a.altActionText,b.icon=a.icon||"fa-check",b.yesText=a.yesText||"Yes",b.noText=a.noText||"Cancel";var c=this.$modal({template:"public/app/partials/confirm_modal.html",persist:!1,modalClass:"confirm-modal",show:!1,scope:b,keyboard:!1});c.then(function(a){a.modal("show")})},a}(),a("AlertSrv",f),d["default"].service("alertSrv",f)}}}),System.register("app/core/services/util_srv.js",["app/core/core_module","app/core/app_events"],function(a){var b,c,d;return{setters:[function(a){b=a},function(a){c=a}],execute:function(){d=function(){function a(a,b){this.$rootScope=a,this.$modal=b}return a.$inject=["$rootScope","$modal"],a.prototype.init=function(){c["default"].on("show-modal",this.showModal.bind(this),this.$rootScope)},a.prototype.showModal=function(a){a.model&&(a.scope=this.$rootScope.$new(),a.scope.model=a.model);var b=this.$modal({modalClass:a.modalClass,template:a.src,templateHtml:a.templateHtml,persist:!1,show:!1,scope:a.scope,keyboard:!1,backdrop:a.backdrop});Promise.resolve(b).then(function(a){a.modal("show")})},a}(),a("UtilSrv",d),b["default"].service("utilSrv",d)}}}),function(){var a=System.amdDefine;a("app/core/services/datasource_srv.js",["angular","lodash","../core_module","app/core/config"],function(a,b,c,d){"use strict";c["default"].service("datasourceSrv",["$q","$injector","$rootScope","templateSrv",function(a,c,e,f){var g=this;this.init=function(){this.datasources={}},this.get=function(b){return b?(b=f.replace(b),this.datasources[b]?a.when(this.datasources[b]):this.loadDatasource(b)):this.get(d.defaultDatasource)},this.loadDatasource=function(b){var f=d.datasources[b];if(!f)return a.reject({message:"Datasource named "+b+" was not found"});var h=a.defer(),i=f.meta;return System["import"](i.module).then(function(a){if(g.datasources[b])return void h.resolve(g.datasources[b]);if(!a.Datasource)throw"Plugin module is missing Datasource constructor";var d=c.instantiate(a.Datasource,{instanceSettings:f});d.meta=i,d.name=b,g.datasources[b]=d,h.resolve(d)})["catch"](function(a){e.appEvent("alert-error",[f.name+" plugin failed",a.toString()])}),h.promise},this.getAll=function(){return d.datasources},this.getAnnotationSources=function(){var a=[];return this.addDataSourceVariables(a),b.each(d.datasources,function(b){b.meta&&b.meta.annotations&&a.push(b)}),a},this.getMetricSources=function(a){var c=[];return b.each(d.datasources,function(a,b){a.meta&&a.meta.metrics&&(c.push({value:b,name:b,meta:a.meta}),b===d.defaultDatasource&&c.push({value:null,name:"default",meta:a.meta}))}),a&&a.skipVariables||this.addDataSourceVariables(c),c.sort(function(a,b){return a.meta.builtIn||a.name>b.name?1:a.name<b.name?-1:0}),c},this.addDataSourceVariables=function(a){for(var b=0;b<f.variables.length;b++){var c=f.variables[b];if("datasource"===c.type){var e=c.current.value,g=d.datasources[e];g&&a.push({name:"$"+c.name,value:"$"+c.name,meta:g.meta})}}},this.init()}])})}(),function(){var a=System.amdDefine;a("app/core/store.js",[],function(){"use strict";return{get:function(a){return window.localStorage[a]},set:function(a,b){window.localStorage[a]=b},getBool:function(a,b){return void 0===b||this.exists(a)?"true"===window.localStorage[a]:b},exists:function(a){return void 0!==window.localStorage[a]},"delete":function(a){window.localStorage.removeItem(a)}}})}(),System.register("app/core/services/context_srv.js",["app/core/config","lodash","app/core/core_module","app/core/store"],function(a){var b,c,d,e,f,g,h;return{setters:[function(a){b=a},function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(){b["default"].bootData.user&&c["default"].extend(this,b["default"].bootData.user)}return a}(),a("User",f),g=function(){function a(){this.pinned=e["default"].getBool("grafana.sidemenu.pinned",!1),this.pinned&&(this.sidemenu=!0),b["default"].buildInfo||(b["default"].buildInfo={}),b["default"].bootData||(b["default"].bootData={user:{},settings:{}}),this.version=b["default"].buildInfo.version,this.user=new f,this.isSignedIn=this.user.isSignedIn,this.isGrafanaAdmin=this.user.isGrafanaAdmin,this.isEditor=this.hasRole("Editor")||this.hasRole("Admin")}return a.prototype.hasRole=function(a){return this.user.orgRole===a},a.prototype.setPinnedState=function(a){this.pinned=a,e["default"].set("grafana.sidemenu.pinned",a)},a.prototype.toggleSideMenu=function(){this.sidemenu=!this.sidemenu,this.sidemenu||this.setPinnedState(!1)},a}(),a("ContextSrv",g),h=new g,a("contextSrv",h),d["default"].factory("contextSrv",function(){return h})}}}),function(){var a=System.amdDefine;a("app/core/services/timer.js",["angular","lodash","../core_module"],function(a,b,c){"use strict";c["default"].service("timer",["$timeout",function(a){var c=[];this.register=function(a){return c.push(a),a},this.cancel=function(d){c=b.without(c,d),a.cancel(d)},this.cancel_all=function(){b.each(c,function(b){a.cancel(b)}),c=[]}}])})}(),function(){var a=System.amdDefine;a("app/core/services/keyboard_manager.js",["angular","lodash","../core_module"],function(a,b,c){"use strict";c["default"].factory("keyboardManager",["$window","$timeout",function(c,d){var e={},f={type:"keydown",propagate:!1,inputDisabled:!1,target:c.document,
keyCode:!1};return e.keyboardEvent={},e.bind=function(b,g,h){var i,j,k,l;h=a.extend({},f,h),b=b.toLowerCase(),j=h.target,"string"==typeof h.target&&(j=document.getElementById(h.target)),i=function(a){if(a=a||c.event,h.inputDisabled){var e;if(a.target?e=a.target:a.srcElement&&(e=a.srcElement),3===e.nodeType&&(e=e.parentNode),"INPUT"===e.tagName||"TEXTAREA"===e.tagName)return}a.keyCode?k=a.keyCode:a.which&&(k=a.which);var f=String.fromCharCode(k).toLowerCase();188===k&&(f=","),190===k&&(f=".");for(var i=b.split("+"),j=0,m={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","»":"?","«":"?","¿":"?","\\":"|"},n={esc:27,escape:27,tab:9,space:32,"return":13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,"break":19,insert:45,home:36,"delete":46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},o={shift:{wanted:!1,pressed:!!a.shiftKey},ctrl:{wanted:!1,pressed:!!a.ctrlKey},alt:{wanted:!1,pressed:!!a.altKey},meta:{wanted:!1,pressed:!!a.metaKey}},p=0,q=i.length;l=i[p],p<q;p++){switch(l){case"ctrl":case"control":j++,o.ctrl.wanted=!0;break;case"shift":case"alt":case"meta":j++,o[l].wanted=!0}l.length>1?n[l]===k&&j++:h.keyCode?h.keyCode===k&&j++:f===l?j++:m[f]&&a.shiftKey&&(f=m[f],f===l&&j++)}if(j===i.length&&o.ctrl.pressed===o.ctrl.wanted&&o.shift.pressed===o.shift.wanted&&o.alt.pressed===o.alt.wanted&&o.meta.pressed===o.meta.wanted&&(d(function(){g(a)},1),!h.propagate))return a.cancelBubble=!0,a.returnValue=!1,a.stopPropagation&&(a.stopPropagation(),a.preventDefault()),!1},e.keyboardEvent[b]={callback:i,target:j,event:h.type},j.addEventListener?j.addEventListener(h.type,i,!1):j.attachEvent?j.attachEvent("on"+h.type,i):j["on"+h.type]=i},e.unbindAll=function(){b.each(e.keyboardEvent,function(a,b){e.unbind(b)})},e.unbind=function(a){a=a.toLowerCase();var b=e.keyboardEvent[a];if(delete e.keyboardEvent[a],b){var c=b.event,d=b.target,f=b.callback;d.detachEvent?d.detachEvent("on"+c,f):d.removeEventListener?d.removeEventListener(c,f,!1):d["on"+c]=!1}},e}])})}(),function(){var a=System.amdDefine;a("app/core/services/analytics.js",["angular","../core_module"],function(a,b){"use strict";b["default"].service("googleAnalyticsSrv",["$rootScope","$location",function(a,b){var c=!0;this.init=function(){a.$on("$viewContentLoaded",function(){return c?void(c=!1):void window.ga("send","pageview",{page:b.url()})})}}]).run(["googleAnalyticsSrv",function(a){window.ga&&a.init()}])})}(),function(){var a=System.amdDefine;!function(b,c){"function"==typeof a&&a.amd?a("tether",[],c):"object"==typeof exports?module.exports=c(require,exports,module):b.Tether=c()}(this,function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a){var b=a.getBoundingClientRect(),c={};for(var d in b)c[d]=b[d];if(a.ownerDocument!==document){var f=a.ownerDocument.defaultView.frameElement;if(f){var g=e(f);c.top+=g.top,c.bottom+=g.top,c.left+=g.left,c.right+=g.left}}return c}function f(a){var b=getComputedStyle(a)||{},c=b.position,d=[];if("fixed"===c)return[a];for(var e=a;(e=e.parentNode)&&e&&1===e.nodeType;){var f=void 0;try{f=getComputedStyle(e)}catch(g){}if("undefined"==typeof f||null===f)return d.push(e),d;var h=f,i=h.overflow,j=h.overflowX,k=h.overflowY;/(auto|scroll)/.test(i+k+j)&&("absolute"!==c||["relative","absolute","fixed"].indexOf(f.position)>=0)&&d.push(e)}return d.push(a.ownerDocument.body),a.ownerDocument!==document&&d.push(a.ownerDocument.defaultView),d}function g(){z&&document.body.removeChild(z),z=null}function h(a){var b=void 0;a===document?(b=document,a=document.documentElement):b=a.ownerDocument;var c=b.documentElement,d=e(a),f=C();return d.top-=f.top,d.left-=f.left,"undefined"==typeof d.width&&(d.width=document.body.scrollWidth-d.left-d.right),"undefined"==typeof d.height&&(d.height=document.body.scrollHeight-d.top-d.bottom),d.top=d.top-c.clientTop,d.left=d.left-c.clientLeft,d.right=b.body.clientWidth-d.width-d.left,d.bottom=b.body.clientHeight-d.height-d.top,d}function i(a){return a.offsetParent||document.documentElement}function j(){var a=document.createElement("div");a.style.width="100%",a.style.height="200px";var b=document.createElement("div");k(b.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),b.appendChild(a),document.body.appendChild(b);var c=a.offsetWidth;b.style.overflow="scroll";var d=a.offsetWidth;c===d&&(d=b.clientWidth),document.body.removeChild(b);var e=c-d;return{width:e,height:e}}function k(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],b=[];return Array.prototype.push.apply(b,arguments),b.slice(1).forEach(function(b){if(b)for(var c in b)({}).hasOwnProperty.call(b,c)&&(a[c]=b[c])}),a}function l(a,b){if("undefined"!=typeof a.classList)b.split(" ").forEach(function(b){b.trim()&&a.classList.remove(b)});else{var c=new RegExp("(^| )"+b.split(" ").join("|")+"( |$)","gi"),d=o(a).replace(c," ");p(a,d)}}function m(a,b){if("undefined"!=typeof a.classList)b.split(" ").forEach(function(b){b.trim()&&a.classList.add(b)});else{l(a,b);var c=o(a)+(" "+b);p(a,c)}}function n(a,b){if("undefined"!=typeof a.classList)return a.classList.contains(b);var c=o(a);return new RegExp("(^| )"+b+"( |$)","gi").test(c)}function o(a){return a.className instanceof a.ownerDocument.defaultView.SVGAnimatedString?a.className.baseVal:a.className}function p(a,b){a.setAttribute("class",b)}function q(a,b,c){c.forEach(function(c){b.indexOf(c)===-1&&n(a,c)&&l(a,c)}),b.forEach(function(b){n(a,b)||m(a,b)})}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function r(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function s(a,b){var c=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return a+c>=b&&b>=a-c}function t(){return"undefined"!=typeof performance&&"undefined"!=typeof performance.now?performance.now():+new Date}function u(){for(var a={top:0,left:0},b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return c.forEach(function(b){var c=b.top,d=b.left;"string"==typeof c&&(c=parseFloat(c,10)),"string"==typeof d&&(d=parseFloat(d,10)),a.top+=c,a.left+=d}),a}function v(a,b){return"string"==typeof a.left&&a.left.indexOf("%")!==-1&&(a.left=parseFloat(a.left,10)/100*b.width),"string"==typeof a.top&&a.top.indexOf("%")!==-1&&(a.top=parseFloat(a.top,10)/100*b.height),a}function w(a,b){return"scrollParent"===b?b=a.scrollParents[0]:"window"===b&&(b=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),b===document&&(b=b.documentElement),"undefined"!=typeof b.nodeType&&!function(){var a=b,c=h(b),d=c,e=getComputedStyle(b);if(b=[d.left,d.top,c.width+d.left,c.height+d.top],a.ownerDocument!==document){var f=a.ownerDocument.defaultView;b[0]+=f.pageXOffset,b[1]+=f.pageYOffset,b[2]+=f.pageXOffset,b[3]+=f.pageYOffset}W.forEach(function(a,c){a=a[0].toUpperCase()+a.substr(1),"Top"===a||"Left"===a?b[c]+=parseFloat(e["border"+a+"Width"]):b[c]-=parseFloat(e["border"+a+"Width"])})}(),b}var x=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),y=void 0;"undefined"==typeof y&&(y={modules:[]});var z=null,A=function(){var a=0;return function(){return++a}}(),B={},C=function(){var a=z;a||(a=document.createElement("div"),a.setAttribute("data-tether-id",A()),k(a.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(a),z=a);var b=a.getAttribute("data-tether-id");return"undefined"==typeof B[b]&&(B[b]=e(a),E(function(){delete B[b]})),B[b]},D=[],E=function(a){D.push(a)},F=function(){for(var a=void 0;a=D.pop();)a()},G=function(){function a(){d(this,a)}return x(a,[{key:"on",value:function(a,b,c){var d=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];"undefined"==typeof this.bindings&&(this.bindings={}),"undefined"==typeof this.bindings[a]&&(this.bindings[a]=[]),this.bindings[a].push({handler:b,ctx:c,once:d})}},{key:"once",value:function(a,b,c){this.on(a,b,c,!0)}},{key:"off",value:function(a,b){if("undefined"!=typeof this.bindings&&"undefined"!=typeof this.bindings[a])if("undefined"==typeof b)delete this.bindings[a];else for(var c=0;c<this.bindings[a].length;)this.bindings[a][c].handler===b?this.bindings[a].splice(c,1):++c}},{key:"trigger",value:function(a){if("undefined"!=typeof this.bindings&&this.bindings[a]){for(var b=0,c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];for(;b<this.bindings[a].length;){var f=this.bindings[a][b],g=f.handler,h=f.ctx,i=f.once,j=h;"undefined"==typeof j&&(j=this),g.apply(j,d),i?this.bindings[a].splice(b,1):++b}}}}]),a}();y.Utils={getActualBoundingClientRect:e,getScrollParents:f,getBounds:h,getOffsetParent:i,extend:k,addClass:m,removeClass:l,hasClass:n,updateClasses:q,defer:E,flush:F,uniqueId:A,Evented:G,getScrollBarSize:j,removeUtilElements:g};var H=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),x=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),I=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}};if("undefined"==typeof y)throw new Error("You must include the utils.js file before tether.js");var J=y.Utils,f=J.getScrollParents,h=J.getBounds,i=J.getOffsetParent,k=J.extend,m=J.addClass,l=J.removeClass,q=J.updateClasses,E=J.defer,F=J.flush,j=J.getScrollBarSize,g=J.removeUtilElements,K=function(){if("undefined"==typeof document)return"";for(var a=document.createElement("div"),b=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],c=0;c<b.length;++c){var d=b[c];if(void 0!==a.style[d])return d}}(),L=[],M=function(){L.forEach(function(a){a.position(!1)}),F()};!function(){var a=null,b=null,c=null,d=function e(){return"undefined"!=typeof b&&b>16?(b=Math.min(b-16,250),void(c=setTimeout(e,250))):void("undefined"!=typeof a&&t()-a<10||(null!=c&&(clearTimeout(c),c=null),a=t(),M(),b=t()-a))};"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener&&["resize","scroll","touchmove"].forEach(function(a){window.addEventListener(a,d)})}();var N={center:"center",left:"right",right:"left"},O={middle:"middle",top:"bottom",bottom:"top"},P={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},Q=function(a,b){var c=a.left,d=a.top;return"auto"===c&&(c=N[b.left]),"auto"===d&&(d=O[b.top]),{left:c,top:d}},R=function(a){var b=a.left,c=a.top;return"undefined"!=typeof P[a.left]&&(b=P[a.left]),"undefined"!=typeof P[a.top]&&(c=P[a.top]),{left:b,top:c}},S=function(a){var b=a.split(" "),c=H(b,2),d=c[0],e=c[1];return{top:d,left:e}},T=S,U=function(a){function b(a){var c=this;d(this,b),I(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.position=this.position.bind(this),L.push(this),this.history=[],this.setOptions(a,!1),y.modules.forEach(function(a){"undefined"!=typeof a.initialize&&a.initialize.call(c)}),this.position()}return r(b,a),x(b,[{key:"getClass",value:function(){var a=arguments.length<=0||void 0===arguments[0]?"":arguments[0],b=this.options.classes;return"undefined"!=typeof b&&b[a]?this.options.classes[a]:this.options.classPrefix?this.options.classPrefix+"-"+a:a}},{key:"setOptions",value:function(a){var b=this,c=arguments.length<=1||void 0===arguments[1]||arguments[1],d={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=k(d,a);var e=this.options,g=e.element,h=e.target,i=e.targetModifier;if(this.element=g,this.target=h,this.targetModifier=i,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(a){if("undefined"==typeof b[a])throw new Error("Tether Error: Both element and target must be defined");"undefined"!=typeof b[a].jquery?b[a]=b[a][0]:"string"==typeof b[a]&&(b[a]=document.querySelector(b[a]))}),m(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&m(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=T(this.options.targetAttachment),this.attachment=T(this.options.attachment),this.offset=S(this.options.offset),this.targetOffset=S(this.options.targetOffset),"undefined"!=typeof this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=f(this.target),this.options.enabled!==!1&&this.enable(c)}},{key:"getTargetBounds",value:function(){if("undefined"==typeof this.targetModifier)return h(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var a=h(this.target),b={height:a.height,width:a.width,top:a.top,left:a.left};return b.height=Math.min(b.height,a.height-(pageYOffset-a.top)),b.height=Math.min(b.height,a.height-(a.top+a.height-(pageYOffset+innerHeight))),b.height=Math.min(innerHeight,b.height),b.height-=2,b.width=Math.min(b.width,a.width-(pageXOffset-a.left)),b.width=Math.min(b.width,a.width-(a.left+a.width-(pageXOffset+innerWidth))),b.width=Math.min(innerWidth,b.width),b.width-=2,b.top<pageYOffset&&(b.top=pageYOffset),b.left<pageXOffset&&(b.left=pageXOffset),b}if("scroll-handle"===this.targetModifier){var a=void 0,c=this.target;c===document.body?(c=document.documentElement,a={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):a=h(c);var d=getComputedStyle(c),e=c.scrollWidth>c.clientWidth||[d.overflow,d.overflowX].indexOf("scroll")>=0||this.target!==document.body,f=0;e&&(f=15);var g=a.height-parseFloat(d.borderTopWidth)-parseFloat(d.borderBottomWidth)-f,b={width:15,height:.975*g*(g/c.scrollHeight),left:a.left+a.width-parseFloat(d.borderLeftWidth)-15},i=0;g<408&&this.target===document.body&&(i=-11e-5*Math.pow(g,2)-.00727*g+22.58),this.target!==document.body&&(b.height=Math.max(b.height,24));var j=this.target.scrollTop/(c.scrollHeight-g);return b.top=j*(g-b.height-i)+a.top+parseFloat(d.borderTopWidth),this.target===document.body&&(b.height=Math.max(b.height,24)),b}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(a,b){return"undefined"==typeof this._cache&&(this._cache={}),"undefined"==typeof this._cache[a]&&(this._cache[a]=b.call(this)),this._cache[a]}},{key:"enable",value:function(){var a=this,b=arguments.length<=0||void 0===arguments[0]||arguments[0];this.options.addTargetClasses!==!1&&m(this.target,this.getClass("enabled")),m(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(b){b!==a.target.ownerDocument&&b.addEventListener("scroll",a.position)}),b&&this.position()}},{key:"disable",value:function(){var a=this;l(this.target,this.getClass("enabled")),l(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!=typeof this.scrollParents&&this.scrollParents.forEach(function(b){b.removeEventListener("scroll",a.position)})}},{key:"destroy",value:function(){var a=this;this.disable(),L.forEach(function(b,c){b===a&&L.splice(c,1)}),0===L.length&&g()}},{key:"updateAttachClasses",value:function(a,b){var c=this;a=a||this.attachment,b=b||this.targetAttachment;var d=["left","top","bottom","right","middle","center"];"undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);var e=this._addAttachClasses;a.top&&e.push(this.getClass("element-attached")+"-"+a.top),a.left&&e.push(this.getClass("element-attached")+"-"+a.left),b.top&&e.push(this.getClass("target-attached")+"-"+b.top),b.left&&e.push(this.getClass("target-attached")+"-"+b.left);var f=[];d.forEach(function(a){f.push(c.getClass("element-attached")+"-"+a),f.push(c.getClass("target-attached")+"-"+a)}),E(function(){"undefined"!=typeof c._addAttachClasses&&(q(c.element,c._addAttachClasses,f),c.options.addTargetClasses!==!1&&q(c.target,c._addAttachClasses,f),delete c._addAttachClasses)})}},{key:"position",value:function(){var a=this,b=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var c=Q(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,c);var d=this.cache("element-bounds",function(){return h(a.element)}),e=d.width,f=d.height;if(0===e&&0===f&&"undefined"!=typeof this.lastSize){var g=this.lastSize;e=g.width,f=g.height}else this.lastSize={width:e,height:f};var k=this.cache("target-bounds",function(){return a.getTargetBounds()}),l=k,m=v(R(this.attachment),{width:e,height:f}),n=v(R(c),l),o=v(this.offset,{width:e,height:f}),p=v(this.targetOffset,l);m=u(m,o),n=u(n,p);for(var q=k.left+n.left-m.left,r=k.top+n.top-m.top,s=0;s<y.modules.length;++s){var t=y.modules[s],w=t.position.call(this,{left:q,top:r,targetAttachment:c,targetPos:k,elementPos:d,offset:m,targetOffset:n,manualOffset:o,manualTargetOffset:p,scrollbarSize:B,attachment:this.attachment});if(w===!1)return!1;"undefined"!=typeof w&&"object"==typeof w&&(r=w.top,q=w.left)}var x={page:{top:r,left:q},viewport:{top:r-pageYOffset,bottom:pageYOffset-r-f+innerHeight,left:q-pageXOffset,right:pageXOffset-q-e+innerWidth}},z=this.target.ownerDocument,A=z.defaultView,B=void 0;return z.body.scrollWidth>A.innerWidth&&(B=this.cache("scrollbar-size",j),x.viewport.bottom-=B.height),z.body.scrollHeight>A.innerHeight&&(B=this.cache("scrollbar-size",j),x.viewport.right-=B.width),["","static"].indexOf(z.body.style.position)!==-1&&["","static"].indexOf(z.body.parentElement.style.position)!==-1||(x.page.bottom=z.body.scrollHeight-r-f,x.page.right=z.body.scrollWidth-q-e),"undefined"!=typeof this.options.optimizations&&this.options.optimizations.moveElement!==!1&&"undefined"==typeof this.targetModifier&&!function(){var b=a.cache("target-offsetparent",function(){return i(a.target)}),c=a.cache("target-offsetparent-bounds",function(){return h(b)}),d=getComputedStyle(b),e=c,f={};if(["Top","Left","Bottom","Right"].forEach(function(a){f[a.toLowerCase()]=parseFloat(d["border"+a+"Width"])}),c.right=z.body.scrollWidth-c.left-e.width+f.right,c.bottom=z.body.scrollHeight-c.top-e.height+f.bottom,x.page.top>=c.top+f.top&&x.page.bottom>=c.bottom&&x.page.left>=c.left+f.left&&x.page.right>=c.right){var g=b.scrollTop,j=b.scrollLeft;x.offset={top:x.page.top-c.top+g-f.top,left:x.page.left-c.left+j-f.left}}}(),this.move(x),this.history.unshift(x),this.history.length>3&&this.history.pop(),b&&F(),!0}}},{key:"move",value:function(a){var b=this;if("undefined"!=typeof this.element.parentNode){var c={};for(var d in a){c[d]={};for(var e in a[d]){for(var f=!1,g=0;g<this.history.length;++g){var h=this.history[g];if("undefined"!=typeof h[d]&&!s(h[d][e],a[d][e])){f=!0;break}}f||(c[d][e]=!0)}}var j={top:"",left:"",right:"",bottom:""},l=function(a,c){var d="undefined"!=typeof b.options.optimizations,e=d?b.options.optimizations.gpu:null;if(e!==!1){var f=void 0,g=void 0;a.top?(j.top=0,f=c.top):(j.bottom=0,f=-c.bottom),a.left?(j.left=0,g=c.left):(j.right=0,g=-c.right),j[K]="translateX("+Math.round(g)+"px) translateY("+Math.round(f)+"px)","msTransform"!==K&&(j[K]+=" translateZ(0)")}else a.top?j.top=c.top+"px":j.bottom=c.bottom+"px",a.left?j.left=c.left+"px":j.right=c.right+"px"},m=!1;if((c.page.top||c.page.bottom)&&(c.page.left||c.page.right)?(j.position="absolute",l(c.page,a.page)):(c.viewport.top||c.viewport.bottom)&&(c.viewport.left||c.viewport.right)?(j.position="fixed",l(c.viewport,a.viewport)):"undefined"!=typeof c.offset&&c.offset.top&&c.offset.left?!function(){j.position="absolute";var d=b.cache("target-offsetparent",function(){return i(b.target)});i(b.element)!==d&&E(function(){b.element.parentNode.removeChild(b.element),d.appendChild(b.element)}),l(c.offset,a.offset),m=!0}():(j.position="absolute",l({top:!0,left:!0},a.page)),!m){for(var n=!0,o=this.element.parentNode;o&&1===o.nodeType&&"BODY"!==o.tagName;){if("static"!==getComputedStyle(o).position){n=!1;break}o=o.parentNode}n||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var p={},q=!1;for(var e in j){var r=j[e],t=this.element.style[e];t!==r&&(q=!0,p[e]=r)}q&&E(function(){k(b.element.style,p)})}}}]),b}(G);U.modules=[],y.position=M;var V=k(U,y),H=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),J=y.Utils,h=J.getBounds,k=J.extend,q=J.updateClasses,E=J.defer,W=["left","top","right","bottom"];y.modules.push({position:function(a){var b=this,c=a.top,d=a.left,e=a.targetAttachment;if(!this.options.constraints)return!0;var f=this.cache("element-bounds",function(){return h(b.element)}),g=f.height,i=f.width;if(0===i&&0===g&&"undefined"!=typeof this.lastSize){var j=this.lastSize;i=j.width,g=j.height}var l=this.cache("target-bounds",function(){return b.getTargetBounds()}),m=l.height,n=l.width,o=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(a){var b=a.outOfBoundsClass,c=a.pinnedClass;b&&o.push(b),c&&o.push(c)}),o.forEach(function(a){["left","top","right","bottom"].forEach(function(b){o.push(a+"-"+b)})});var p=[],r=k({},e),s=k({},this.attachment);return this.options.constraints.forEach(function(a){var f=a.to,h=a.attachment,j=a.pin;"undefined"==typeof h&&(h="");var k=void 0,l=void 0;if(h.indexOf(" ")>=0){var o=h.split(" "),q=H(o,2);l=q[0],k=q[1]}else k=l=h;var t=w(b,f);"target"!==l&&"both"!==l||(c<t[1]&&"top"===r.top&&(c+=m,r.top="bottom"),c+g>t[3]&&"bottom"===r.top&&(c-=m,r.top="top")),"together"===l&&("top"===r.top&&("bottom"===s.top&&c<t[1]?(c+=m,r.top="bottom",c+=g,s.top="top"):"top"===s.top&&c+g>t[3]&&c-(g-m)>=t[1]&&(c-=g-m,r.top="bottom",s.top="bottom")),"bottom"===r.top&&("top"===s.top&&c+g>t[3]?(c-=m,r.top="top",c-=g,s.top="bottom"):"bottom"===s.top&&c<t[1]&&c+(2*g-m)<=t[3]&&(c+=g-m,r.top="top",s.top="top")),"middle"===r.top&&(c+g>t[3]&&"top"===s.top?(c-=g,s.top="bottom"):c<t[1]&&"bottom"===s.top&&(c+=g,s.top="top"))),"target"!==k&&"both"!==k||(d<t[0]&&"left"===r.left&&(d+=n,r.left="right"),d+i>t[2]&&"right"===r.left&&(d-=n,r.left="left")),"together"===k&&(d<t[0]&&"left"===r.left?"right"===s.left?(d+=n,r.left="right",d+=i,s.left="left"):"left"===s.left&&(d+=n,r.left="right",d-=i,s.left="right"):d+i>t[2]&&"right"===r.left?"left"===s.left?(d-=n,r.left="left",d-=i,s.left="right"):"right"===s.left&&(d-=n,r.left="left",d+=i,s.left="left"):"center"===r.left&&(d+i>t[2]&&"left"===s.left?(d-=i,s.left="right"):d<t[0]&&"right"===s.left&&(d+=i,s.left="left"))),"element"!==l&&"both"!==l||(c<t[1]&&"bottom"===s.top&&(c+=g,s.top="top"),c+g>t[3]&&"top"===s.top&&(c-=g,s.top="bottom")),"element"!==k&&"both"!==k||(d<t[0]&&("right"===s.left?(d+=i,s.left="left"):"center"===s.left&&(d+=i/2,s.left="left")),d+i>t[2]&&("left"===s.left?(d-=i,s.left="right"):"center"===s.left&&(d-=i/2,s.left="right"))),"string"==typeof j?j=j.split(",").map(function(a){return a.trim()}):j===!0&&(j=["top","left","right","bottom"]),j=j||[];var u=[],v=[];c<t[1]&&(j.indexOf("top")>=0?(c=t[1],u.push("top")):v.push("top")),c+g>t[3]&&(j.indexOf("bottom")>=0?(c=t[3]-g,u.push("bottom")):v.push("bottom")),d<t[0]&&(j.indexOf("left")>=0?(d=t[0],u.push("left")):v.push("left")),d+i>t[2]&&(j.indexOf("right")>=0?(d=t[2]-i,u.push("right")):v.push("right")),u.length&&!function(){var a=void 0;a="undefined"!=typeof b.options.pinnedClass?b.options.pinnedClass:b.getClass("pinned"),p.push(a),u.forEach(function(b){p.push(a+"-"+b)})}(),v.length&&!function(){var a=void 0;a="undefined"!=typeof b.options.outOfBoundsClass?b.options.outOfBoundsClass:b.getClass("out-of-bounds"),p.push(a),v.forEach(function(b){p.push(a+"-"+b)})}(),(u.indexOf("left")>=0||u.indexOf("right")>=0)&&(s.left=r.left=!1),(u.indexOf("top")>=0||u.indexOf("bottom")>=0)&&(s.top=r.top=!1),r.top===e.top&&r.left===e.left&&s.top===b.attachment.top&&s.left===b.attachment.left||(b.updateAttachClasses(s,r),b.trigger("update",{attachment:s,targetAttachment:r}))}),E(function(){b.options.addTargetClasses!==!1&&q(b.target,p,o),q(b.element,p,o)}),{top:c,left:d}}});var J=y.Utils,h=J.getBounds,q=J.updateClasses,E=J.defer;y.modules.push({position:function(a){var b=this,c=a.top,d=a.left,e=this.cache("element-bounds",function(){return h(b.element)}),f=e.height,g=e.width,i=this.getTargetBounds(),j=c+f,k=d+g,l=[];c<=i.bottom&&j>=i.top&&["left","right"].forEach(function(a){var b=i[a];b!==d&&b!==k||l.push(a)}),d<=i.right&&k>=i.left&&["top","bottom"].forEach(function(a){var b=i[a];b!==c&&b!==j||l.push(a)});var m=[],n=[],o=["left","top","right","bottom"];return m.push(this.getClass("abutted")),o.forEach(function(a){m.push(b.getClass("abutted")+"-"+a)}),l.length&&n.push(this.getClass("abutted")),l.forEach(function(a){n.push(b.getClass("abutted")+"-"+a)}),E(function(){b.options.addTargetClasses!==!1&&q(b.target,n,m),q(b.element,n,m)}),!0}});var H=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return y.modules.push({position:function(a){var b=a.top,c=a.left;if(this.options.shift){var d=this.options.shift;"function"==typeof this.options.shift&&(d=this.options.shift.call(this,{top:b,left:c}));var e=void 0,f=void 0;if("string"==typeof d){d=d.split(" "),d[1]=d[1]||d[0];var g=d,h=H(g,2);e=h[0],f=h[1],e=parseFloat(e,10),f=parseFloat(f,10)}else e=d.top,f=d.left;return b+=e,c+=f,{top:b,left:c}}}}),V})}(),function(){var a=System.amdDefine;!function(b,c){"function"==typeof a&&a.amd?a("tether-drop",["tether"],c):"object"==typeof exports?module.exports=c(require("tether")):b.Drop=c(b.Tether)}(this,function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function c(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function d(a){var b=a.split(" "),c=h(b,2),d=c[0],e=c[1];if(["left","right"].indexOf(d)>=0){var f=[e,d];d=f[0],e=f[1]}return[d,e].join(" ")}function e(a,b){for(var c=void 0,d=[];(c=a.indexOf(b))!==-1;)d.push(a.splice(c,1));return d}function f(){var h=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],k=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return new(g.apply(t,[null].concat(b)))};l(k,{createContext:f,drops:[],defaults:{}});var r={classPrefix:"drop",defaults:{position:"bottom left",openOn:"click",beforeClose:null,constrainToScrollParent:!0,constrainToWindow:!0,classes:"",remove:!1,openDelay:0,closeDelay:50,focusDelay:null,blurDelay:null,hoverOpenDelay:null,hoverCloseDelay:null,tetherOptions:{}}};l(k,r,h),l(k.defaults,r.defaults,h.defaults),"undefined"==typeof w[k.classPrefix]&&(w[k.classPrefix]=[]),k.updateBodyClasses=function(){for(var a=!1,b=w[k.classPrefix],c=b.length,d=0;d<c;++d)if(b[d].isOpened()){a=!0;break}a?m(document.body,k.classPrefix+"-open"):n(document.body,k.classPrefix+"-open")};var t=function(f){function g(a){if(b(this,g),j(Object.getPrototypeOf(g.prototype),"constructor",this).call(this),this.options=l({},k.defaults,a),this.target=this.options.target,"undefined"==typeof this.target)throw new Error("Drop Error: You must provide a target.");var c="data-"+k.classPrefix,d=this.target.getAttribute(c);d&&null==this.options.content&&(this.options.content=d);for(var e=["position","openOn"],f=0;f<e.length;++f){var h=this.target.getAttribute(c+"-"+e[f]);h&&null==this.options[e[f]]&&(this.options[e[f]]=h)}this.options.classes&&this.options.addTargetClasses!==!1&&m(this.target,this.options.classes),k.drops.push(this),w[k.classPrefix].push(this),this._boundEvents=[],this.bindMethods(),this.setupElements(),this.setupEvents(),this.setupTether()}return c(g,f),i(g,[{key:"_on",value:function(a,b,c){this._boundEvents.push({element:a,event:b,handler:c}),a.addEventListener(b,c)}},{key:"bindMethods",value:function(){this.transitionEndHandler=this._transitionEndHandler.bind(this)}},{key:"setupElements",value:function(){var a=this;if(this.drop=document.createElement("div"),m(this.drop,k.classPrefix),this.options.classes&&m(this.drop,this.options.classes),this.content=document.createElement("div"),m(this.content,k.classPrefix+"-content"),"function"==typeof this.options.content){var b=function(){var b=a.options.content.call(a,a);if("string"==typeof b)a.content.innerHTML=b;else{if("object"!=typeof b)throw new Error("Drop Error: Content function should return a string or HTMLElement.");a.content.innerHTML="",a.content.appendChild(b)}};b(),this.on("open",b.bind(this))}else"object"==typeof this.options.content?this.content.appendChild(this.options.content):this.content.innerHTML=this.options.content;this.drop.appendChild(this.content)}},{key:"setupTether",value:function(){var b=this.options.position.split(" ");b[0]=v[b[0]],b=b.join(" ");var c=[];this.options.constrainToScrollParent?c.push({to:"scrollParent",pin:"top, bottom",attachment:"together none"}):c.push({to:"scrollParent"}),this.options.constrainToWindow!==!1?c.push({to:"window",attachment:"together"}):c.push({to:"window"});var e={element:this.drop,target:this.target,attachment:d(b),targetAttachment:d(this.options.position),classPrefix:k.classPrefix,offset:"0 0",targetOffset:"0 0",enabled:!1,constraints:c,addTargetClasses:this.options.addTargetClasses};this.options.tetherOptions!==!1&&(this.tether=new a(l({},e,this.options.tetherOptions)))}},{key:"setupEvents",value:function(){var a=this;if(this.options.openOn){if("always"===this.options.openOn)return void setTimeout(this.open.bind(this));var b=this.options.openOn.split(" ");if(b.indexOf("click")>=0)for(var c=function(b){a.toggle(b),b.preventDefault()},d=function(b){a.isOpened()&&(b.target===a.drop||a.drop.contains(b.target)||b.target===a.target||a.target.contains(b.target)||a.close(b))},e=0;e<q.length;++e){var f=q[e];this._on(this.target,f,c),this._on(document,f,d)}var g=null,h=null,i=function(b){null!==h?clearTimeout(h):g=setTimeout(function(){
a.open(b),g=null},("focus"===b.type?a.options.focusDelay:a.options.hoverOpenDelay)||a.options.openDelay)},j=function(b){null!==g?clearTimeout(g):h=setTimeout(function(){a.close(b),h=null},("blur"===b.type?a.options.blurDelay:a.options.hoverCloseDelay)||a.options.closeDelay)};b.indexOf("hover")>=0&&(this._on(this.target,"mouseover",i),this._on(this.drop,"mouseover",i),this._on(this.target,"mouseout",j),this._on(this.drop,"mouseout",j)),b.indexOf("focus")>=0&&(this._on(this.target,"focus",i),this._on(this.drop,"focus",i),this._on(this.target,"blur",j),this._on(this.drop,"blur",j))}}},{key:"isOpened",value:function(){if(this.drop)return o(this.drop,k.classPrefix+"-open")}},{key:"toggle",value:function(a){this.isOpened()?this.close(a):this.open(a)}},{key:"open",value:function(a){var b=this;this.isOpened()||(this.drop.parentNode||document.body.appendChild(this.drop),"undefined"!=typeof this.tether&&this.tether.enable(),m(this.drop,k.classPrefix+"-open"),m(this.drop,k.classPrefix+"-open-transitionend"),setTimeout(function(){b.drop&&m(b.drop,k.classPrefix+"-after-open")}),"undefined"!=typeof this.tether&&this.tether.position(),this.trigger("open"),k.updateBodyClasses())}},{key:"_transitionEndHandler",value:function(a){a.target===a.currentTarget&&(o(this.drop,k.classPrefix+"-open")||n(this.drop,k.classPrefix+"-open-transitionend"),this.drop.removeEventListener(s,this.transitionEndHandler))}},{key:"beforeCloseHandler",value:function(a){var b=!0;return this.isClosing||"function"!=typeof this.options.beforeClose||(this.isClosing=!0,b=this.options.beforeClose(a,this)!==!1),this.isClosing=!1,b}},{key:"close",value:function(a){this.isOpened()&&this.beforeCloseHandler(a)&&(n(this.drop,k.classPrefix+"-open"),n(this.drop,k.classPrefix+"-after-open"),this.drop.addEventListener(s,this.transitionEndHandler),this.trigger("close"),"undefined"!=typeof this.tether&&this.tether.disable(),k.updateBodyClasses(),this.options.remove&&this.remove(a))}},{key:"remove",value:function(a){this.close(a),this.drop.parentNode&&this.drop.parentNode.removeChild(this.drop)}},{key:"position",value:function(){this.isOpened()&&"undefined"!=typeof this.tether&&this.tether.position()}},{key:"destroy",value:function(){this.remove(),"undefined"!=typeof this.tether&&this.tether.destroy();for(var a=0;a<this._boundEvents.length;++a){var b=this._boundEvents[a],c=b.element,d=b.event,f=b.handler;c.removeEventListener(d,f)}this._boundEvents=[],this.tether=null,this.drop=null,this.content=null,this.target=null,e(w[k.classPrefix],this),e(k.drops,this)}}]),g}(p);return k}var g=Function.prototype.bind,h=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}},k=a.Utils,l=k.extend,m=k.addClass,n=k.removeClass,o=k.hasClass,p=k.Evented,q=["click"];"ontouchstart"in document.documentElement&&q.push("touchstart");var r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},s="";for(var t in r)if({}.hasOwnProperty.call(r,t)){var u=document.createElement("p");"undefined"!=typeof u.style[t]&&(s=r[t])}var v={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},w={},x=f();return document.addEventListener("DOMContentLoaded",function(){x.updateBodyClasses()}),x})}(),System.register("app/core/services/popover_srv.js",["lodash","app/core/core_module","tether-drop"],function(a){function b(a,b){this.show=function(d){function f(){setTimeout(function(){g.tether&&g.destroy()})}var g,h=c["default"].extend(b.$new(!0),d.model);h.dismiss=function(){h.$destroy(),f()};var i=document.createElement("div");i.innerHTML=d.template,a(i)(h),g=new e["default"]({target:d.element,content:i,position:d.position,classes:"drop-popover",openOn:d.openOn||"hover",hoverCloseDelay:200,tetherOptions:{constraints:[{to:"window",pin:!0,attachment:"both"}]}}),g.on("close",function(){h.dismiss({fromDropClose:!0}),f(),d.onClose&&d.onClose()}),setTimeout(function(){g.open()},10)}}b.$inject=["$compile","$rootScope"];var c,d,e;return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){d["default"].service("popoverSrv",b)}}}),function(){var a=System.amdDefine;a("app/core/services/segment_srv.js",["angular","lodash","../core_module"],function(a,b,c){"use strict";c["default"].service("uiSegmentSrv",["$sce","templateSrv",function(a,c){function d(d){return"*"===d||"*"===d.value?(this.value="*",this.html=a.trustAsHtml('<i class="fa fa-asterisk"><i>'),void(this.expandable=!0)):b.isString(d)?(this.value=d,void(this.html=a.trustAsHtml(c.highlightVariablesAsHtml(this.value)))):(this.cssClass=d.cssClass,this.custom=d.custom,this.type=d.type,this.fake=d.fake,this.value=d.value,this.type=d.type,this.expandable=d.expandable,void(this.html=d.html||a.trustAsHtml(c.highlightVariablesAsHtml(this.value))))}var e=this;this.getSegmentForValue=function(a,b){return a?this.newSegment(a):this.newSegment({value:b,fake:!0})},this.newSelectMeasurement=function(){return new d({value:"select measurement",fake:!0})},this.newFake=function(a,b,c){return new d({value:a,fake:!0,type:b,cssClass:c})},this.newSegment=function(a){return new d(a)},this.newKey=function(a){return new d({value:a,type:"key",cssClass:"query-segment-key"})},this.newKeyValue=function(a){return new d({value:a,type:"value",cssClass:"query-segment-value"})},this.newCondition=function(a){return new d({value:a,type:"condition",cssClass:"query-keyword"})},this.newOperator=function(a){return new d({value:a,type:"operator",cssClass:"query-segment-operator"})},this.newOperators=function(a){return b.map(a,function(a){return new d({value:a,type:"operator",cssClass:"query-segment-operator"})})},this.transformToSegments=function(a,d){return function(f){var g=b.map(f,function(a){return e.newSegment({value:a.text,expandable:a.expandable})});return a&&b.each(c.variables,function(a){void 0!==d&&d!==a.type||g.unshift(e.newSegment({type:"template",value:"$"+a.name,expandable:!0}))}),g}},this.newSelectMetric=function(){return new d({value:"select metric",fake:!0})},this.newPlusButton=function(){return new d({fake:!0,html:'<i class="fa fa-plus "></i>',type:"plus-button"})},this.newSelectTagValue=function(){return new d({value:"select tag value",fake:!0})}}])})}(),System.register("app/core/services/backend_srv.js",["lodash","app/core/config","app/core/core_module"],function(a){var b,c,d,e;return{setters:[function(a){b=a},function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(a,b,c,d,e){this.$http=a,this.alertSrv=b,this.$rootScope=c,this.$q=d,this.$timeout=e,this.inFlightRequests={},this.HTTP_REQUEST_CANCELLED=-1}return a.$inject=["$http","alertSrv","$rootScope","$q","$timeout"],a.prototype.get=function(a,b){return this.request({method:"GET",url:a,params:b})},a.prototype["delete"]=function(a){return this.request({method:"DELETE",url:a})},a.prototype.post=function(a,b){return this.request({method:"POST",url:a,data:b})},a.prototype.patch=function(a,b){return this.request({method:"PATCH",url:a,data:b})},a.prototype.put=function(a,b){return this.request({method:"PUT",url:a,data:b})},a.prototype.requestErrorHandler=function(a){if(!a.isHandled){var c=a.data||{message:"Unexpected error"};if(b["default"].isString(c)&&(c={message:c}),422===a.status)throw this.alertSrv.set("Validation failed",c.message,"warning",4e3),c;throw c.severity="error",a.status<500&&(c.severity="warning"),c.message&&this.alertSrv.set("Problem!",c.message,c.severity,1e4),c}},a.prototype.request=function(a){var b=this;a.retry=a.retry||0;var d=0===a.url.indexOf("/"),e=0===a.retry;return d&&!a.hasSubUrl&&(a.url=c["default"].appSubUrl+a.url,a.hasSubUrl=!0),this.$http(a).then(function(c){return"GET"!==a.method&&c&&c.data.message&&b.alertSrv.set(c.data.message,"","success",3e3),c.data},function(c){if(401===c.status&&e)return b.loginPing().then(function(){return a.retry=1,b.request(a)});throw b.$timeout(b.requestErrorHandler.bind(b,c),50),c})},a.prototype.datasourceRequest=function(a){var c=this;a.retry=a.retry||0;var d;a.requestId&&(d=this.inFlightRequests[a.requestId],d&&d.resolve(),d=this.$q.defer(),a.timeout=d.promise,this.inFlightRequests[a.requestId]=d);var e=0===a.url.indexOf("/"),f=0===a.retry;return e&&a.headers&&a.headers.Authorization&&(a.headers["X-DS-Authorization"]=a.headers.Authorization,delete a.headers.Authorization),this.$http(a)["catch"](function(g){if(g.status===c.HTTP_REQUEST_CANCELLED)throw{err:g,cancelled:!0};if(e&&f&&401===g.status)return c.loginPing().then(function(){return a.retry=1,d&&d.resolve(),c.datasourceRequest(a)});throw b["default"].isString(g.data)&&500===g.status&&(g.data={error:g.statusText}),!g.data.message&&b["default"].isString(g.data.error)&&(g.data.message=g.data.error),g})["finally"](function(){a.requestId&&delete c.inFlightRequests[a.requestId]})},a.prototype.loginPing=function(){return this.request({url:"/api/login/ping",method:"GET",retry:1})},a.prototype.search=function(a){return this.get("/api/search",a)},a.prototype.getDashboard=function(a,b){return this.get("/api/dashboards/"+a+"/"+b)},a.prototype.saveDashboard=function(a,b){return b=b||{},this.post("/api/dashboards/db/",{dashboard:a,overwrite:b.overwrite===!0})},a}(),a("BackendSrv",e),d["default"].service("backendSrv",e)}}}),System.register("app/core/services/dynamic_directive_srv.js",["angular","../core_module"],function(a){var b,c,d;return{setters:[function(a){b=a},function(a){c=a}],execute:function(){d=function(){function a(a,b,c){this.$compile=a,this.$parse=b,this.$rootScope=c}return a.$inject=["$compile","$parse","$rootScope"],a.prototype.addDirective=function(a,c,d){var e=b["default"].element(document.createElement(c));this.$compile(e)(d),a.empty(),a.append(e)},a.prototype.link=function(a,b,d,e){var f=this;e.directive(a).then(function(e){return e&&e.fn?(e.fn.registered||(c["default"].directive(d.$normalize(e.name),e.fn),e.fn.registered=!0),void f.addDirective(b,e.name,a)):void b.empty()})["catch"](function(a){console.log("Plugin load:",a),f.$rootScope.appEvent("alert-error",["Plugin error",a.toString()])})},a.prototype.create=function(a){var b=this,c={restrict:"E",scope:a.scope,link:function(c,d,e){if(a.watchPath){var f=null;c.$watch(a.watchPath,function(){f&&f.$destroy(),f=c.$new(),b.link(f,d,e,a)})}else b.link(c,d,e,a)}};return c},a}(),c["default"].service("dynamicDirectiveSrv",d)}}}),function(){var a=System.amdDefine;a("app/core/services/all.js",["./alert_srv","./util_srv","./datasource_srv","./context_srv","./timer","./keyboard_manager","./analytics","./popover_srv","./segment_srv","./backend_srv","./dynamic_directive_srv"],function(){})}(),function(){var a=System.amdDefine;a("app/core/routes/dashboard_loaders.js",["../core_module"],function(a){"use strict";a["default"].controller("LoadDashboardCtrl",["$scope","$routeParams","dashboardLoaderSrv","backendSrv","$location",function(a,b,c,d,e){return a.appEvent("dashboard-fetch-start"),b.slug?void c.loadDashboard(b.type,b.slug).then(function(b){a.initDashboard(b,a)}):void d.get("/api/dashboards/home").then(function(b){if(b.redirectUri)e.path("dashboard/"+b.redirectUri);else{var c=b.meta;c.canSave=c.canShare=c.canStar=!1,a.initDashboard(b,a)}})}]),a["default"].controller("NewDashboardCtrl",["$scope",function(a){a.initDashboard({meta:{canStar:!1,canShare:!1},dashboard:{title:"New dashboard",rows:[{height:"250px",panels:[]}]}},a)}])})}(),System.register("app/core/routes/bundle_loader.js",[],function(a){var b;return{setters:[],execute:function(){b=function(){function a(a){var b=this;this.lazy=["$q","$route","$rootScope",function(c,d,e){return b.loadingDefer?b.loadingDefer.promise:(b.loadingDefer=c.defer(),System["import"](a).then(function(){b.loadingDefer.resolve()}),b.loadingDefer.promise)}]}return a}(),a("BundleLoader",b)}}}),System.register("app/core/routes/routes.js",["./dashboard_loaders","app/core/core_module","./bundle_loader"],function(a){function b(a,b){b.html5Mode(!0);var c=new d.BundleLoader("app/features/org/all"),e=new d.BundleLoader("app/features/plugins/all"),f=new d.BundleLoader("app/features/admin/admin");a.when("/",{templateUrl:"public/app/partials/dashboard.html",controller:"LoadDashboardCtrl",reloadOnSearch:!1,pageClass:"page-dashboard"}).when("/dashboard/:type/:slug",{templateUrl:"public/app/partials/dashboard.html",controller:"LoadDashboardCtrl",reloadOnSearch:!1,pageClass:"page-dashboard"}).when("/dashboard-solo/:type/:slug",{templateUrl:"public/app/features/panel/partials/soloPanel.html",controller:"SoloPanelCtrl",reloadOnSearch:!1,pageClass:"page-dashboard"}).when("/dashboard/new",{templateUrl:"public/app/partials/dashboard.html",controller:"NewDashboardCtrl",reloadOnSearch:!1,pageClass:"page-dashboard"}).when("/dashboards/list",{templateUrl:"public/app/features/dashboard/partials/dash_list.html",controller:"DashListCtrl"}).when("/dashboards/migrate",{templateUrl:"public/app/features/dashboard/partials/migrate.html",controller:"DashboardImportCtrl"}).when("/datasources",{templateUrl:"public/app/features/plugins/partials/ds_list.html",controller:"DataSourcesCtrl",controllerAs:"ctrl",resolve:e}).when("/datasources/edit/:id",{templateUrl:"public/app/features/plugins/partials/ds_edit.html",controller:"DataSourceEditCtrl",controllerAs:"ctrl",resolve:e}).when("/datasources/new",{templateUrl:"public/app/features/plugins/partials/ds_edit.html",controller:"DataSourceEditCtrl",controllerAs:"ctrl",resolve:e}).when("/org",{templateUrl:"public/app/features/org/partials/orgDetails.html",controller:"OrgDetailsCtrl",resolve:c}).when("/org/new",{templateUrl:"public/app/features/org/partials/newOrg.html",controller:"NewOrgCtrl",resolve:c}).when("/org/users",{templateUrl:"public/app/features/org/partials/orgUsers.html",controller:"OrgUsersCtrl",controllerAs:"ctrl",resolve:c}).when("/org/apikeys",{templateUrl:"public/app/features/org/partials/orgApiKeys.html",controller:"OrgApiKeysCtrl",resolve:c}).when("/profile",{templateUrl:"public/app/features/org/partials/profile.html",controller:"ProfileCtrl",controllerAs:"ctrl",resolve:c}).when("/profile/password",{templateUrl:"public/app/features/org/partials/change_password.html",controller:"ChangePasswordCtrl",resolve:c}).when("/profile/select-org",{templateUrl:"public/app/features/org/partials/select_org.html",controller:"SelectOrgCtrl",resolve:c}).when("/admin",{templateUrl:"public/app/features/admin/partials/admin_home.html",controller:"AdminHomeCtrl",resolve:f}).when("/admin/settings",{templateUrl:"public/app/features/admin/partials/settings.html",controller:"AdminSettingsCtrl",resolve:f}).when("/admin/users",{templateUrl:"public/app/features/admin/partials/users.html",controller:"AdminListUsersCtrl",resolve:f}).when("/admin/users/create",{templateUrl:"public/app/features/admin/partials/new_user.html",controller:"AdminEditUserCtrl",resolve:f}).when("/admin/users/edit/:id",{templateUrl:"public/app/features/admin/partials/edit_user.html",controller:"AdminEditUserCtrl",resolve:f}).when("/admin/orgs",{templateUrl:"public/app/features/admin/partials/orgs.html",controller:"AdminListOrgsCtrl",resolve:f}).when("/admin/orgs/edit/:id",{templateUrl:"public/app/features/admin/partials/edit_org.html",controller:"AdminEditOrgCtrl",resolve:f}).when("/admin/stats",{templateUrl:"public/app/features/admin/partials/stats.html",controller:"AdminStatsCtrl",controllerAs:"ctrl",resolve:f}).when("/login",{templateUrl:"public/app/partials/login.html",controller:"LoginCtrl"}).when("/invite/:code",{templateUrl:"public/app/partials/signup_invited.html",controller:"InvitedCtrl"}).when("/signup",{templateUrl:"public/app/partials/signup_step2.html",controller:"SignUpCtrl"}).when("/user/password/send-reset-email",{templateUrl:"public/app/partials/reset_password.html",controller:"ResetPasswordCtrl"}).when("/user/password/reset",{templateUrl:"public/app/partials/reset_password.html",controller:"ResetPasswordCtrl"}).when("/dashboard/snapshots",{templateUrl:"public/app/features/snapshot/partials/snapshots.html",controller:"SnapshotsCtrl",controllerAs:"ctrl"}).when("/plugins",{templateUrl:"public/app/features/plugins/partials/plugin_list.html",controller:"PluginListCtrl",controllerAs:"ctrl",resolve:e}).when("/plugins/:pluginId/edit",{templateUrl:"public/app/features/plugins/partials/plugin_edit.html",controller:"PluginEditCtrl",controllerAs:"ctrl",resolve:e}).when("/plugins/:pluginId/page/:slug",{templateUrl:"public/app/features/plugins/partials/plugin_page.html",controller:"AppPageCtrl",controllerAs:"ctrl",resolve:e}).when("/global-alerts",{templateUrl:"public/app/features/dashboard/partials/globalAlerts.html"}).when("/styleguide/:page?",{controller:"StyleGuideCtrl",controllerAs:"ctrl",templateUrl:"public/app/features/styleguide/styleguide.html"}).otherwise({templateUrl:"public/app/partials/error.html",controller:"ErrorCtrl"})}b.$inject=["$routeProvider","$locationProvider"];var c,d;return{setters:[function(a){},function(a){c=a},function(a){d=a}],execute:function(){c["default"].config(b)}}}),System.register("app/core/filters/filters.js",["lodash","angular","moment","../core_module"],function(a){var b,c,d,e;return{setters:[function(a){b=a},function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){e["default"].filter("stringSort",function(){return function(a){return a.sort()}}),e["default"].filter("slice",function(){return function(a,c,d){if(!b["default"].isUndefined(a))return a.slice(c,d)}}),e["default"].filter("stringify",function(){return function(a){return b["default"].isObject(a)&&!b["default"].isArray(a)?c["default"].toJson(a):b["default"].isNull(a)?null:a.toString()}}),e["default"].filter("moment",function(){return function(a,b){switch(b){case"ago":return d["default"](a).fromNow()}return d["default"](a).fromNow()}}),e["default"].filter("noXml",function(){var a=function(a){return b["default"].isString(a)?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;"):a};return function(c){return b["default"].isArray(c)?b["default"].map(c,a):a(c)}}),e["default"].filter("interpolateTemplateVars",["templateSrv",function(a){var b=function(b,c){var d;return d=c.ctrl&&c.ctrl.panel?c.ctrl.panel.scopedVars:c.row.scopedVars,a.replaceWithText(b,d)};return b.$stateful=!0,b}]),a("default",{})}}}),function(){var a=System.amdDefine;!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(b,c){function d(a){var b=!!a&&"length"in a&&a.length,c=ga.type(a);return"function"!==c&&!ga.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}function e(a,b,c){if(ga.isFunction(b))return ga.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return ga.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(qa.test(b))return ga.filter(b,a,c);b=ga.filter(b,a)}return ga.grep(a,function(a){return aa.call(b,a)>-1!==c})}function f(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function g(a){var b={};return ga.each(a.match(wa)||[],function(a,c){b[c]=!0}),b}function h(){Y.removeEventListener("DOMContentLoaded",h),b.removeEventListener("load",h),ga.ready()}function i(){this.expando=ga.expando+i.uid++}function j(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Da,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:Ca.test(c)?ga.parseJSON(c):c)}catch(e){}Ba.set(a,b,c)}else c=void 0;return c}function k(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return ga.css(a,b,"")},i=h(),j=c&&c[3]||(ga.cssNumber[b]?"":"px"),k=(ga.cssNumber[b]||"px"!==j&&+i)&&Fa.exec(ga.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,ga.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function l(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&ga.nodeName(a,b)?ga.merge([a],c):c}function m(a,b){for(var c=0,d=a.length;c<d;c++)Aa.set(a[c],"globalEval",!b||Aa.get(b[c],"globalEval"))}function n(a,b,c,d,e){for(var f,g,h,i,j,k,n=b.createDocumentFragment(),o=[],p=0,q=a.length;p<q;p++)if(f=a[p],f||0===f)if("object"===ga.type(f))ga.merge(o,f.nodeType?[f]:f);else if(Ma.test(f)){for(g=g||n.appendChild(b.createElement("div")),h=(Ja.exec(f)||["",""])[1].toLowerCase(),i=La[h]||La._default,g.innerHTML=i[1]+ga.htmlPrefilter(f)+i[2],k=i[0];k--;)g=g.lastChild;ga.merge(o,g.childNodes),g=n.firstChild,g.textContent=""}else o.push(b.createTextNode(f));for(n.textContent="",p=0;f=o[p++];)if(d&&ga.inArray(f,d)>-1)e&&e.push(f);else if(j=ga.contains(f.ownerDocument,f),g=l(n.appendChild(f),"script"),j&&m(g),c)for(k=0;f=g[k++];)Ka.test(f.type||"")&&c.push(f);return n}function o(){return!0}function p(){return!1}function q(){try{return Y.activeElement}catch(a){}}function r(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)r(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=p;else if(!e)return a;return 1===f&&(g=e,e=function(a){return ga().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=ga.guid++)),a.each(function(){ga.event.add(this,b,e,d,c)})}function s(a,b){return ga.nodeName(a,"table")&&ga.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function t(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function u(a){var b=Ta.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function v(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(Aa.hasData(a)&&(f=Aa.access(a),g=Aa.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)ga.event.add(b,e,j[e][c])}Ba.hasData(a)&&(h=Ba.access(a),i=ga.extend({},h),Ba.set(b,i))}}function w(a,b){var c=b.nodeName.toLowerCase();"input"===c&&Ia.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function x(a,b,c,d){b=$.apply([],b);var e,f,g,h,i,j,k=0,m=a.length,o=m-1,p=b[0],q=ga.isFunction(p);if(q||m>1&&"string"==typeof p&&!ea.checkClone&&Sa.test(p))return a.each(function(e){var f=a.eq(e);q&&(b[0]=p.call(this,e,f.html())),x(f,b,c,d)});if(m&&(e=n(b,a[0].ownerDocument,!1,a,d),f=e.firstChild,1===e.childNodes.length&&(e=f),f||d)){for(g=ga.map(l(e,"script"),t),h=g.length;k<m;k++)i=e,k!==o&&(i=ga.clone(i,!0,!0),h&&ga.merge(g,l(i,"script"))),c.call(a[k],i,k);if(h)for(j=g[g.length-1].ownerDocument,ga.map(g,u),k=0;k<h;k++)i=g[k],Ka.test(i.type||"")&&!Aa.access(i,"globalEval")&&ga.contains(j,i)&&(i.src?ga._evalUrl&&ga._evalUrl(i.src):ga.globalEval(i.textContent.replace(Ua,"")))}return a}function y(a,b,c){for(var d,e=b?ga.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||ga.cleanData(l(d)),d.parentNode&&(c&&ga.contains(d.ownerDocument,d)&&m(l(d,"script")),d.parentNode.removeChild(d));return a}function z(a,b){var c=ga(b.createElement(a)).appendTo(b.body),d=ga.css(c[0],"display");return c.detach(),d}function A(a){var b=Y,c=Wa[a];return c||(c=z(a,b),"none"!==c&&c||(Va=(Va||ga("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Va[0].contentDocument,b.write(),b.close(),c=z(a,b),Va.detach()),Wa[a]=c),c}function B(a,b,c){var d,e,f,g,h=a.style;return c=c||Za(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||ga.contains(a.ownerDocument,a)||(g=ga.style(a,b)),c&&!ea.pixelMarginRight()&&Ya.test(g)&&Xa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function C(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function D(a){if(a in eb)return a;for(var b=a[0].toUpperCase()+a.slice(1),c=db.length;c--;)if(a=db[c]+b,a in eb)return a}function E(a,b,c){var d=Fa.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function F(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;f<4;f+=2)"margin"===c&&(g+=ga.css(a,c+Ga[f],!0,e)),d?("content"===c&&(g-=ga.css(a,"padding"+Ga[f],!0,e)),"margin"!==c&&(g-=ga.css(a,"border"+Ga[f]+"Width",!0,e))):(g+=ga.css(a,"padding"+Ga[f],!0,e),"padding"!==c&&(g+=ga.css(a,"border"+Ga[f]+"Width",!0,e)));return g}function G(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Za(a),g="border-box"===ga.css(a,"boxSizing",!1,f);if(e<=0||null==e){if(e=B(a,b,f),(e<0||null==e)&&(e=a.style[b]),Ya.test(e))return e;d=g&&(ea.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+F(a,b,c||(g?"border":"content"),d,f)+"px"}function H(a,b){for(var c,d,e,f=[],g=0,h=a.length;g<h;g++)d=a[g],d.style&&(f[g]=Aa.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&Ha(d)&&(f[g]=Aa.access(d,"olddisplay",A(d.nodeName)))):(e=Ha(d),"none"===c&&e||Aa.set(d,"olddisplay",e?c:ga.css(d,"display"))));for(g=0;g<h;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function I(a,b,c,d,e){return new I.prototype.init(a,b,c,d,e)}function J(){return b.setTimeout(function(){fb=void 0}),fb=ga.now()}function K(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=Ga[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function L(a,b,c){for(var d,e=(O.tweeners[b]||[]).concat(O.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function M(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&Ha(a),p=Aa.get(a,"fxshow");c.queue||(h=ga._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,ga.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=ga.css(a,"display"),k="none"===j?Aa.get(a,"olddisplay")||A(a.nodeName):j,"inline"===k&&"none"===ga.css(a,"float")&&(n.display="inline-block")),c.overflow&&(n.overflow="hidden",l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],hb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||ga.style(a,d)}else j=void 0;if(ga.isEmptyObject(m))"inline"===("none"===j?A(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=Aa.access(a,"fxshow",{}),f&&(p.hidden=!o),o?ga(a).show():l.done(function(){ga(a).hide()}),l.done(function(){var b;Aa.remove(a,"fxshow");for(b in m)ga.style(a,b,m[b])});for(d in m)g=L(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function N(a,b){var c,d,e,f,g;for(c in a)if(d=ga.camelCase(c),e=b[d],f=a[c],ga.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=ga.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function O(a,b,c){var d,e,f=0,g=O.prefilters.length,h=ga.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=fb||J(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:ga.extend({},b),opts:ga.extend(!0,{specialEasing:{},easing:ga.easing._default},c),originalProperties:b,originalOptions:c,startTime:fb||J(),duration:c.duration,tweens:[],createTween:function(b,c){var d=ga.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(N(k,j.opts.specialEasing);f<g;f++)if(d=O.prefilters[f].call(j,a,k,j.opts))return ga.isFunction(d.stop)&&(ga._queueHooks(j.elem,j.opts.queue).stop=ga.proxy(d.stop,d)),d;return ga.map(k,L,j),ga.isFunction(j.opts.start)&&j.opts.start.call(a,j),ga.fx.timer(ga.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function P(a){return a.getAttribute&&a.getAttribute("class")||""}function Q(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(wa)||[];if(ga.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function R(a,b,c,d){function e(h){var i;return f[h]=!0,ga.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Bb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function S(a,b){var c,d,e=ga.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&ga.extend(!0,a,d),a}function T(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function U(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function V(a,b,c,d){var e;if(ga.isArray(b))ga.each(b,function(b,e){c||Fb.test(a)?d(a,e):V(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==ga.type(b))d(a,b);else for(e in b)V(a+"["+e+"]",b[e],c,d)}function W(a){return ga.isWindow(a)?a:9===a.nodeType&&a.defaultView}var X=[],Y=b.document,Z=X.slice,$=X.concat,_=X.push,aa=X.indexOf,ba={},ca=ba.toString,da=ba.hasOwnProperty,ea={},fa="2.2.4",ga=function(a,b){return new ga.fn.init(a,b)},ha=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ia=/^-ms-/,ja=/-([\da-z])/gi,ka=function(a,b){return b.toUpperCase()};ga.fn=ga.prototype={jquery:fa,constructor:ga,selector:"",length:0,toArray:function(){return Z.call(this)},get:function(a){return null!=a?a<0?this[a+this.length]:this[a]:Z.call(this)},pushStack:function(a){var b=ga.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return ga.each(this,a)},map:function(a){return this.pushStack(ga.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(Z.apply(this,arguments))},
first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:_,sort:X.sort,splice:X.splice},ga.extend=ga.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||ga.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(ga.isPlainObject(d)||(e=ga.isArray(d)))?(e?(e=!1,f=c&&ga.isArray(c)?c:[]):f=c&&ga.isPlainObject(c)?c:{},g[b]=ga.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},ga.extend({expando:"jQuery"+(fa+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===ga.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!ga.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if("object"!==ga.type(a)||a.nodeType||ga.isWindow(a))return!1;if(a.constructor&&!da.call(a,"constructor")&&!da.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||da.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ba[ca.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=ga.trim(a),a&&(1===a.indexOf("use strict")?(b=Y.createElement("script"),b.text=a,Y.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(ia,"ms-").replace(ja,ka)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,e=0;if(d(a))for(c=a.length;e<c&&b.call(a[e],e,a[e])!==!1;e++);else for(e in a)if(b.call(a[e],e,a[e])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(ha,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(d(Object(a))?ga.merge(c,"string"==typeof a?[a]:a):_.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:aa.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var e,f,g=0,h=[];if(d(a))for(e=a.length;g<e;g++)f=b(a[g],g,c),null!=f&&h.push(f);else for(g in a)f=b(a[g],g,c),null!=f&&h.push(f);return $.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),ga.isFunction(a))return d=Z.call(arguments,2),e=function(){return a.apply(b||this,d.concat(Z.call(arguments)))},e.guid=a.guid=a.guid||ga.guid++,e},now:Date.now,support:ea}),"function"==typeof Symbol&&(ga.fn[Symbol.iterator]=X[Symbol.iterator]),ga.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){ba["[object "+b+"]"]=b.toLowerCase()});var la=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o=b&&b.ownerDocument,p=b?b.nodeType:9;if(c=c||[],"string"!=typeof a||!a||1!==p&&9!==p&&11!==p)return c;if(!d&&((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,I)){if(11!==p&&(j=ra.exec(a)))if(e=j[1]){if(9===p){if(!(g=b.getElementById(e)))return c;if(g.id===e)return c.push(g),c}else if(o&&(g=o.getElementById(e))&&M(b,g)&&g.id===e)return c.push(g),c}else{if(j[2])return $.apply(c,b.getElementsByTagName(a)),c;if((e=j[3])&&v.getElementsByClassName&&b.getElementsByClassName)return $.apply(c,b.getElementsByClassName(e)),c}if(v.qsa&&!T[a+" "]&&(!J||!J.test(a))){if(1!==p)o=b,n=a;else if("object"!==b.nodeName.toLowerCase()){for((h=b.getAttribute("id"))?h=h.replace(ta,"\\$&"):b.setAttribute("id",h=N),l=z(a),f=l.length,i=ma.test(h)?"#"+h:"[id='"+h+"']";f--;)l[f]=i+" "+m(l[f]);n=l.join(","),o=sa.test(a)&&k(b.parentNode)||b}if(n)try{return $.apply(c,o.querySelectorAll(n)),c}catch(q){}finally{h===N&&b.removeAttribute("id")}}}return B(a.replace(ha,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=c.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(j=b[N]||(b[N]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===P&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;e<f;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];h<e;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;d<e&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ha,"$1"),c,h<d&&s(a.slice(h,d)),d<e&&s(a=a.slice(d)),d<e&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g===G||g||j);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0,g||k.ownerDocument===G||(F(k),h=!I);m=a[l++];)if(m(k,g||G,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ea="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+da+"))|)"+ca+"*\\]",fa=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ea+")*)|.*)\\)|)",ga=new RegExp(ca+"+","g"),ha=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ia=new RegExp("^"+ca+"*,"+ca+"*"),ja=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),ka=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),la=new RegExp(fa),ma=new RegExp("^"+da+"$"),na={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da+"|[*])"),ATTR:new RegExp("^"+ea),PSEUDO:new RegExp("^"+fa),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},oa=/^(?:input|select|textarea|button)$/i,pa=/^h\d$/i,qa=/^[^{]+\{\s*\[native \w/,ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sa=/[+~]/,ta=/'|\\/g,ua=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),va=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},wa=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(xa){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=G.documentElement,I=!y(G),(c=G.defaultView)&&c.top!==c&&(c.addEventListener?c.addEventListener("unload",wa,!1):c.attachEvent&&c.attachEvent("onunload",wa)),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(G.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=qa.test(G.getElementsByClassName),v.getById=e(function(a){return H.appendChild(a).id=N,!G.getElementsByName||!G.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&I){var c=b.getElementById(a);return c?[c]:[]}},w.filter.ID=function(a){var b=a.replace(ua,va);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(ua,va);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){if("undefined"!=typeof b.getElementsByClassName&&I)return b.getElementsByClassName(a)},K=[],J=[],(v.qsa=qa.test(G.querySelectorAll))&&(e(function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")}),e(function(a){var b=G.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+ca+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=qa.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",fa)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=qa.test(H.compareDocumentPosition),M=b||qa.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===G||a.ownerDocument===O&&M(O,a)?-1:b===G||b.ownerDocument===O&&M(O,b)?1:D?aa(D,a)-aa(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===G?-1:b===G?1:e?-1:f?1:D?aa(D,a)-aa(D,b):0;if(e===f)return g(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?g(h[d],i[d]):h[d]===O?-1:i[d]===O?1:0},G):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(ka,"='$1']"),v.matchesSelector&&I&&!T[c+" "]&&(!K||!K.test(c))&&(!J||!J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:na,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ua,va),a[3]=(a[3]||a[4]||a[5]||"").replace(ua,va),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return na.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&la.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ua,va).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:!c||(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ga," ")+" ").indexOf(d)>-1:"|="===c&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(m=q,l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===P&&j[1],t=n&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[P,n,t];break}}else if(s&&(m=b,l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===P&&j[1],t=n),t===!1)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[P,t]),m!==b)););return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ha,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(ua,va),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return ma.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(ua,va).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return pa.test(a.nodeName)},input:function(a){return oa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[c<0?c+b:c]}),even:j(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){d&&!(e=ia.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ja.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ha," ")}),h=h.slice(d.length));for(g in w.filter)!(e=na[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(ua,va),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=na.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(ua,va),sa.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,!b||sa.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(b);ga.find=la,ga.expr=la.selectors,ga.expr[":"]=ga.expr.pseudos,ga.uniqueSort=ga.unique=la.uniqueSort,ga.text=la.getText,ga.isXMLDoc=la.isXML,ga.contains=la.contains;var ma=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&ga(a).is(c))break;d.push(a)}return d},na=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},oa=ga.expr.match.needsContext,pa=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,qa=/^.[^:#\[\.,]*$/;ga.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?ga.find.matchesSelector(d,a)?[d]:[]:ga.find.matches(a,ga.grep(b,function(a){return 1===a.nodeType}))},ga.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(ga(a).filter(function(){for(b=0;b<c;b++)if(ga.contains(e[b],this))return!0}));for(b=0;b<c;b++)ga.find(a,e[b],d);return d=this.pushStack(c>1?ga.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(e(this,a||[],!1))},not:function(a){return this.pushStack(e(this,a||[],!0))},is:function(a){return!!e(this,"string"==typeof a&&oa.test(a)?ga(a):a||[],!1).length}});var ra,sa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ta=ga.fn.init=function(a,b,c){var d,e;if(!a)return this;if(c=c||ra,"string"==typeof a){if(d="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:sa.exec(a),!d||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof ga?b[0]:b,ga.merge(this,ga.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:Y,!0)),pa.test(d[1])&&ga.isPlainObject(b))for(d in b)ga.isFunction(this[d])?this[d](b[d]):this.attr(d,b[d]);return this}return e=Y.getElementById(d[2]),e&&e.parentNode&&(this.length=1,this[0]=e),this.context=Y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):ga.isFunction(a)?void 0!==c.ready?c.ready(a):a(ga):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),ga.makeArray(a,this))};ta.prototype=ga.fn,ra=ga(Y);var ua=/^(?:parents|prev(?:Until|All))/,va={children:!0,contents:!0,next:!0,prev:!0};ga.fn.extend({has:function(a){var b=ga(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(ga.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=oa.test(a)||"string"!=typeof a?ga(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&ga.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?ga.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?aa.call(ga(a),this[0]):aa.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(ga.uniqueSort(ga.merge(this.get(),ga(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),ga.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return ma(a,"parentNode")},parentsUntil:function(a,b,c){return ma(a,"parentNode",c)},next:function(a){return f(a,"nextSibling")},prev:function(a){return f(a,"previousSibling")},nextAll:function(a){return ma(a,"nextSibling")},prevAll:function(a){return ma(a,"previousSibling")},nextUntil:function(a,b,c){return ma(a,"nextSibling",c)},prevUntil:function(a,b,c){return ma(a,"previousSibling",c)},siblings:function(a){return na((a.parentNode||{}).firstChild,a)},children:function(a){return na(a.firstChild)},contents:function(a){return a.contentDocument||ga.merge([],a.childNodes)}},function(a,b){ga.fn[a]=function(c,d){var e=ga.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=ga.filter(d,e)),this.length>1&&(va[a]||ga.uniqueSort(e),ua.test(a)&&e.reverse()),this.pushStack(e)}});var wa=/\S+/g;ga.Callbacks=function(a){a="string"==typeof a?g(a):ga.extend({},a);var b,c,d,e,f=[],h=[],i=-1,j=function(){for(e=a.once,d=b=!0;h.length;i=-1)for(c=h.shift();++i<f.length;)f[i].apply(c[0],c[1])===!1&&a.stopOnFalse&&(i=f.length,c=!1);a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},k={add:function(){return f&&(c&&!b&&(i=f.length-1,h.push(c)),function d(b){ga.each(b,function(b,c){ga.isFunction(c)?a.unique&&k.has(c)||f.push(c):c&&c.length&&"string"!==ga.type(c)&&d(c)})}(arguments),c&&!b&&j()),this},remove:function(){return ga.each(arguments,function(a,b){for(var c;(c=ga.inArray(b,f,c))>-1;)f.splice(c,1),c<=i&&i--}),this},has:function(a){return a?ga.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=h=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=h=[],c||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],h.push(c),b||j()),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},ga.extend({Deferred:function(a){var b=[["resolve","done",ga.Callbacks("once memory"),"resolved"],["reject","fail",ga.Callbacks("once memory"),"rejected"],["notify","progress",ga.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return ga.Deferred(function(c){ga.each(b,function(b,f){var g=ga.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&ga.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?ga.extend(a,d):d}},e={};return d.pipe=d.then,ga.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=Z.call(arguments),g=f.length,h=1!==g||a&&ga.isFunction(a.promise)?g:0,i=1===h?a:ga.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?Z.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);e<g;e++)f[e]&&ga.isFunction(f[e].promise)?f[e].promise().progress(j(e,c,b)).done(j(e,d,f)).fail(i.reject):--h;return h||i.resolveWith(d,f),i.promise()}});var xa;ga.fn.ready=function(a){return ga.ready.promise().done(a),this},ga.extend({isReady:!1,readyWait:1,holdReady:function(a){a?ga.readyWait++:ga.ready(!0)},ready:function(a){(a===!0?--ga.readyWait:ga.isReady)||(ga.isReady=!0,a!==!0&&--ga.readyWait>0||(xa.resolveWith(Y,[ga]),ga.fn.triggerHandler&&(ga(Y).triggerHandler("ready"),ga(Y).off("ready"))))}}),ga.ready.promise=function(a){return xa||(xa=ga.Deferred(),"complete"===Y.readyState||"loading"!==Y.readyState&&!Y.documentElement.doScroll?b.setTimeout(ga.ready):(Y.addEventListener("DOMContentLoaded",h),b.addEventListener("load",h))),xa.promise(a)},ga.ready.promise();var ya=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===ga.type(c)){e=!0;for(h in c)ya(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,ga.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(ga(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},za=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};i.uid=1,i.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!za(a))return{};var b=a[this.expando];return b||(b={},za(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,ga.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{ga.isArray(b)?d=b.concat(b.map(ga.camelCase)):(e=ga.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(wa)||[])),c=d.length;for(;c--;)delete f[d[c]]}(void 0===b||ga.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!ga.isEmptyObject(b)}};var Aa=new i,Ba=new i,Ca=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Da=/[A-Z]/g;ga.extend({hasData:function(a){return Ba.hasData(a)||Aa.hasData(a)},data:function(a,b,c){return Ba.access(a,b,c)},removeData:function(a,b){Ba.remove(a,b)},_data:function(a,b,c){return Aa.access(a,b,c)},_removeData:function(a,b){Aa.remove(a,b)}}),ga.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=Ba.get(f),1===f.nodeType&&!Aa.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=ga.camelCase(d.slice(5)),j(f,d,e[d])));Aa.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){Ba.set(this,a)}):ya(this,function(b){var c,d;if(f&&void 0===b){if(c=Ba.get(f,a)||Ba.get(f,a.replace(Da,"-$&").toLowerCase()),void 0!==c)return c;if(d=ga.camelCase(a),c=Ba.get(f,d),void 0!==c)return c;if(c=j(f,d,void 0),void 0!==c)return c}else d=ga.camelCase(a),this.each(function(){var c=Ba.get(this,d);Ba.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&Ba.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){Ba.remove(this,a)})}}),ga.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=Aa.get(a,b),c&&(!d||ga.isArray(c)?d=Aa.access(a,b,ga.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=ga.queue(a,b),d=c.length,e=c.shift(),f=ga._queueHooks(a,b),g=function(){ga.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return Aa.get(a,c)||Aa.access(a,c,{empty:ga.Callbacks("once memory").add(function(){Aa.remove(a,[b+"queue",c])})})}}),ga.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?ga.queue(this[0],a):void 0===b?this:this.each(function(){
var c=ga.queue(this,a,b);ga._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&ga.dequeue(this,a)})},dequeue:function(a){return this.each(function(){ga.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=ga.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=Aa.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Ea=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Fa=new RegExp("^(?:([+-])=|)("+Ea+")([a-z%]*)$","i"),Ga=["Top","Right","Bottom","Left"],Ha=function(a,b){return a=b||a,"none"===ga.css(a,"display")||!ga.contains(a.ownerDocument,a)},Ia=/^(?:checkbox|radio)$/i,Ja=/<([\w:-]+)/,Ka=/^$|\/(?:java|ecma)script/i,La={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};La.optgroup=La.option,La.tbody=La.tfoot=La.colgroup=La.caption=La.thead,La.th=La.td;var Ma=/<|&#?\w+;/;!function(){var a=Y.createDocumentFragment(),b=a.appendChild(Y.createElement("div")),c=Y.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),ea.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",ea.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var Na=/^key/,Oa=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Pa=/^([^.]*)(?:\.(.+)|)/;ga.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=Aa.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=ga.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof ga&&ga.event.triggered!==b.type?ga.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(wa)||[""],j=b.length;j--;)h=Pa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=ga.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=ga.event.special[n]||{},k=ga.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&ga.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),ga.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=Aa.hasData(a)&&Aa.get(a);if(q&&(i=q.events)){for(b=(b||"").match(wa)||[""],j=b.length;j--;)if(h=Pa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=ga.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||ga.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)ga.event.remove(a,n+b[j],c,d,!0);ga.isEmptyObject(i)&&Aa.remove(a,"handle events")}},dispatch:function(a){a=ga.event.fix(a);var b,c,d,e,f,g=[],h=Z.call(arguments),i=(Aa.get(this,"events")||{})[a.type]||[],j=ga.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=ga.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(f.namespace)||(a.handleObj=f,a.data=f.data,d=((ga.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;c<h;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?ga(e,this).index(i)>-1:ga.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||Y,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[ga.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Oa.test(e)?this.mouseHooks:Na.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new ga.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=Y),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==q()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===q()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ga.nodeName(this,"input"))return this.click(),!1},_default:function(a){return ga.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},ga.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},ga.Event=function(a,b){return this instanceof ga.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?o:p):this.type=a,b&&ga.extend(this,b),this.timeStamp=a&&a.timeStamp||ga.now(),void(this[ga.expando]=!0)):new ga.Event(a,b)},ga.Event.prototype={constructor:ga.Event,isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=o,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=o,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=o,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},ga.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){ga.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||ga.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),ga.fn.extend({on:function(a,b,c,d){return r(this,a,b,c,d)},one:function(a,b,c,d){return r(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,ga(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=p),this.each(function(){ga.event.remove(this,a,c,b)})}});var Qa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ra=/<script|<style|<link/i,Sa=/checked\s*(?:[^=]|=\s*.checked.)/i,Ta=/^true\/(.*)/,Ua=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ga.extend({htmlPrefilter:function(a){return a.replace(Qa,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=ga.contains(a.ownerDocument,a);if(!(ea.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||ga.isXMLDoc(a)))for(g=l(h),f=l(a),d=0,e=f.length;d<e;d++)w(f[d],g[d]);if(b)if(c)for(f=f||l(a),g=g||l(h),d=0,e=f.length;d<e;d++)v(f[d],g[d]);else v(a,h);return g=l(h,"script"),g.length>0&&m(g,!i&&l(a,"script")),h},cleanData:function(a){for(var b,c,d,e=ga.event.special,f=0;void 0!==(c=a[f]);f++)if(za(c)){if(b=c[Aa.expando]){if(b.events)for(d in b.events)e[d]?ga.event.remove(c,d):ga.removeEvent(c,d,b.handle);c[Aa.expando]=void 0}c[Ba.expando]&&(c[Ba.expando]=void 0)}}}),ga.fn.extend({domManip:x,detach:function(a){return y(this,a,!0)},remove:function(a){return y(this,a)},text:function(a){return ya(this,function(a){return void 0===a?ga.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return x(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=s(this,a);b.appendChild(a)}})},prepend:function(){return x(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=s(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return x(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return x(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(ga.cleanData(l(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return ga.clone(this,a,b)})},html:function(a){return ya(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Ra.test(a)&&!La[(Ja.exec(a)||["",""])[1].toLowerCase()]){a=ga.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(ga.cleanData(l(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return x(this,arguments,function(b){var c=this.parentNode;ga.inArray(this,a)<0&&(ga.cleanData(l(this)),c&&c.replaceChild(b,this))},a)}}),ga.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){ga.fn[a]=function(a){for(var c,d=[],e=ga(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),ga(e[g])[b](c),_.apply(d,c.get());return this.pushStack(d)}});var Va,Wa={HTML:"block",BODY:"block"},Xa=/^margin/,Ya=new RegExp("^("+Ea+")(?!px)[a-z%]+$","i"),Za=function(a){var c=a.ownerDocument.defaultView;return c&&c.opener||(c=b),c.getComputedStyle(a)},$a=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},_a=Y.documentElement;!function(){function a(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",_a.appendChild(g);var a=b.getComputedStyle(h);c="1%"!==a.top,f="2px"===a.marginLeft,d="4px"===a.width,h.style.marginRight="50%",e="4px"===a.marginRight,_a.removeChild(g)}var c,d,e,f,g=Y.createElement("div"),h=Y.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",ea.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h),ga.extend(ea,{pixelPosition:function(){return a(),c},boxSizingReliable:function(){return null==d&&a(),d},pixelMarginRight:function(){return null==d&&a(),e},reliableMarginLeft:function(){return null==d&&a(),f},reliableMarginRight:function(){var a,c=h.appendChild(Y.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",_a.appendChild(g),a=!parseFloat(b.getComputedStyle(c).marginRight),_a.removeChild(g),h.removeChild(c),a}}))}();var ab=/^(none|table(?!-c[ea]).+)/,bb={position:"absolute",visibility:"hidden",display:"block"},cb={letterSpacing:"0",fontWeight:"400"},db=["Webkit","O","Moz","ms"],eb=Y.createElement("div").style;ga.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=B(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=ga.camelCase(b),i=a.style;return b=ga.cssProps[h]||(ga.cssProps[h]=D(h)||h),g=ga.cssHooks[b]||ga.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Fa.exec(c))&&e[1]&&(c=k(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(ga.cssNumber[h]?"":"px")),ea.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=ga.camelCase(b);return b=ga.cssProps[h]||(ga.cssProps[h]=D(h)||h),g=ga.cssHooks[b]||ga.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=B(a,b,d)),"normal"===e&&b in cb&&(e=cb[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),ga.each(["height","width"],function(a,b){ga.cssHooks[b]={get:function(a,c,d){if(c)return ab.test(ga.css(a,"display"))&&0===a.offsetWidth?$a(a,bb,function(){return G(a,b,d)}):G(a,b,d)},set:function(a,c,d){var e,f=d&&Za(a),g=d&&F(a,b,d,"border-box"===ga.css(a,"boxSizing",!1,f),f);return g&&(e=Fa.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=ga.css(a,b)),E(a,c,g)}}}),ga.cssHooks.marginLeft=C(ea.reliableMarginLeft,function(a,b){if(b)return(parseFloat(B(a,"marginLeft"))||a.getBoundingClientRect().left-$a(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),ga.cssHooks.marginRight=C(ea.reliableMarginRight,function(a,b){if(b)return $a(a,{display:"inline-block"},B,[a,"marginRight"])}),ga.each({margin:"",padding:"",border:"Width"},function(a,b){ga.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+Ga[d]+b]=f[d]||f[d-2]||f[0];return e}},Xa.test(a)||(ga.cssHooks[a+b].set=E)}),ga.fn.extend({css:function(a,b){return ya(this,function(a,b,c){var d,e,f={},g=0;if(ga.isArray(b)){for(d=Za(a),e=b.length;g<e;g++)f[b[g]]=ga.css(a,b[g],!1,d);return f}return void 0!==c?ga.style(a,b,c):ga.css(a,b)},a,b,arguments.length>1)},show:function(){return H(this,!0)},hide:function(){return H(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Ha(this)?ga(this).show():ga(this).hide()})}}),ga.Tween=I,I.prototype={constructor:I,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||ga.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(ga.cssNumber[c]?"":"px")},cur:function(){var a=I.propHooks[this.prop];return a&&a.get?a.get(this):I.propHooks._default.get(this)},run:function(a){var b,c=I.propHooks[this.prop];return this.options.duration?this.pos=b=ga.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=ga.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){ga.fx.step[a.prop]?ga.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[ga.cssProps[a.prop]]&&!ga.cssHooks[a.prop]?a.elem[a.prop]=a.now:ga.style(a.elem,a.prop,a.now+a.unit)}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},ga.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},ga.fx=I.prototype.init,ga.fx.step={};var fb,gb,hb=/^(?:toggle|show|hide)$/,ib=/queueHooks$/;ga.Animation=ga.extend(O,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return k(c.elem,a,Fa.exec(b),c),c}]},tweener:function(a,b){ga.isFunction(a)?(b=a,a=["*"]):a=a.match(wa);for(var c,d=0,e=a.length;d<e;d++)c=a[d],O.tweeners[c]=O.tweeners[c]||[],O.tweeners[c].unshift(b)},prefilters:[M],prefilter:function(a,b){b?O.prefilters.unshift(a):O.prefilters.push(a)}}),ga.speed=function(a,b,c){var d=a&&"object"==typeof a?ga.extend({},a):{complete:c||!c&&b||ga.isFunction(a)&&a,duration:a,easing:c&&b||b&&!ga.isFunction(b)&&b};return d.duration=ga.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in ga.fx.speeds?ga.fx.speeds[d.duration]:ga.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){ga.isFunction(d.old)&&d.old.call(this),d.queue&&ga.dequeue(this,d.queue)},d},ga.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Ha).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=ga.isEmptyObject(a),f=ga.speed(b,c,d),g=function(){var b=O(this,ga.extend({},a),f);(e||Aa.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=ga.timers,g=Aa.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&ib.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||ga.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=Aa.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=ga.timers,g=d?d.length:0;for(c.finish=!0,ga.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),ga.each(["toggle","show","hide"],function(a,b){var c=ga.fn[b];ga.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(K(b,!0),a,d,e)}}),ga.each({slideDown:K("show"),slideUp:K("hide"),slideToggle:K("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){ga.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),ga.timers=[],ga.fx.tick=function(){var a,b=0,c=ga.timers;for(fb=ga.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||ga.fx.stop(),fb=void 0},ga.fx.timer=function(a){ga.timers.push(a),a()?ga.fx.start():ga.timers.pop()},ga.fx.interval=13,ga.fx.start=function(){gb||(gb=b.setInterval(ga.fx.tick,ga.fx.interval))},ga.fx.stop=function(){b.clearInterval(gb),gb=null},ga.fx.speeds={slow:600,fast:200,_default:400},ga.fn.delay=function(a,c){return a=ga.fx?ga.fx.speeds[a]||a:a,c=c||"fx",this.queue(c,function(c,d){var e=b.setTimeout(c,a);d.stop=function(){b.clearTimeout(e)}})},function(){var a=Y.createElement("input"),b=Y.createElement("select"),c=b.appendChild(Y.createElement("option"));a.type="checkbox",ea.checkOn=""!==a.value,ea.optSelected=c.selected,b.disabled=!0,ea.optDisabled=!c.disabled,a=Y.createElement("input"),a.value="t",a.type="radio",ea.radioValue="t"===a.value}();var jb,kb=ga.expr.attrHandle;ga.fn.extend({attr:function(a,b){return ya(this,ga.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){ga.removeAttr(this,a)})}}),ga.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?ga.prop(a,b,c):(1===f&&ga.isXMLDoc(a)||(b=b.toLowerCase(),e=ga.attrHooks[b]||(ga.expr.match.bool.test(b)?jb:void 0)),void 0!==c?null===c?void ga.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=ga.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!ea.radioValue&&"radio"===b&&ga.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(wa);if(f&&1===a.nodeType)for(;c=f[e++];)d=ga.propFix[c]||c,ga.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),jb={set:function(a,b,c){return b===!1?ga.removeAttr(a,c):a.setAttribute(c,c),c}},ga.each(ga.expr.match.bool.source.match(/\w+/g),function(a,b){var c=kb[b]||ga.find.attr;kb[b]=function(a,b,d){var e,f;return d||(f=kb[b],kb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,kb[b]=f),e}});var lb=/^(?:input|select|textarea|button)$/i,mb=/^(?:a|area)$/i;ga.fn.extend({prop:function(a,b){return ya(this,ga.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[ga.propFix[a]||a]})}}),ga.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&ga.isXMLDoc(a)||(b=ga.propFix[b]||b,e=ga.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=ga.find.attr(a,"tabindex");return b?parseInt(b,10):lb.test(a.nodeName)||mb.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ea.optSelected||(ga.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),ga.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ga.propFix[this.toLowerCase()]=this});var nb=/[\t\r\n\f]/g;ga.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(ga.isFunction(a))return this.each(function(b){ga(this).addClass(a.call(this,b,P(this)))});if("string"==typeof a&&a)for(b=a.match(wa)||[];c=this[i++];)if(e=P(c),d=1===c.nodeType&&(" "+e+" ").replace(nb," ")){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=ga.trim(d),e!==h&&c.setAttribute("class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(ga.isFunction(a))return this.each(function(b){ga(this).removeClass(a.call(this,b,P(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(wa)||[];c=this[i++];)if(e=P(c),d=1===c.nodeType&&(" "+e+" ").replace(nb," ")){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");h=ga.trim(d),e!==h&&c.setAttribute("class",h)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):ga.isFunction(a)?this.each(function(c){ga(this).toggleClass(a.call(this,c,P(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c)for(d=0,e=ga(this),f=a.match(wa)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else void 0!==a&&"boolean"!==c||(b=P(this),b&&Aa.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":Aa.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+P(c)+" ").replace(nb," ").indexOf(b)>-1)return!0;return!1}});var ob=/\r/g,pb=/[\x20\t\r\n\f]+/g;ga.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=ga.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,ga(this).val()):a,null==e?e="":"number"==typeof e?e+="":ga.isArray(e)&&(e=ga.map(e,function(a){return null==a?"":a+""})),b=ga.valHooks[this.type]||ga.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=ga.valHooks[e.type]||ga.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(ob,""):null==c?"":c)}}}),ga.extend({valHooks:{option:{get:function(a){var b=ga.find.attr(a,"value");return null!=b?b:ga.trim(ga.text(a)).replace(pb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||e<0,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;i<h;i++)if(c=d[i],(c.selected||i===e)&&(ea.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!ga.nodeName(c.parentNode,"optgroup"))){if(b=ga(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=ga.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=ga.inArray(ga.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),ga.each(["radio","checkbox"],function(){ga.valHooks[this]={set:function(a,b){if(ga.isArray(b))return a.checked=ga.inArray(ga(a).val(),b)>-1}},ea.checkOn||(ga.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var qb=/^(?:focusinfocus|focusoutblur)$/;ga.extend(ga.event,{trigger:function(a,c,d,e){var f,g,h,i,j,k,l,m=[d||Y],n=da.call(a,"type")?a.type:a,o=da.call(a,"namespace")?a.namespace.split("."):[];if(g=h=d=d||Y,3!==d.nodeType&&8!==d.nodeType&&!qb.test(n+ga.event.triggered)&&(n.indexOf(".")>-1&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,a=a[ga.expando]?a:new ga.Event(n,"object"==typeof a&&a),a.isTrigger=e?2:3,a.namespace=o.join("."),a.rnamespace=a.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,a.target||(a.target=d),c=null==c?[a]:ga.makeArray(c,[a]),l=ga.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!ga.isWindow(d)){for(i=l.delegateType||n,qb.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||Y)&&m.push(h.defaultView||h.parentWindow||b)}for(f=0;(g=m[f++])&&!a.isPropagationStopped();)a.type=f>1?i:l.bindType||n,k=(Aa.get(g,"events")||{})[a.type]&&Aa.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&za(g)&&(a.result=k.apply(g,c),a.result===!1&&a.preventDefault());return a.type=n,e||a.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!za(d)||j&&ga.isFunction(d[n])&&!ga.isWindow(d)&&(h=d[j],h&&(d[j]=null),ga.event.triggered=n,d[n](),ga.event.triggered=void 0,h&&(d[j]=h)),a.result}},simulate:function(a,b,c){var d=ga.extend(new ga.Event,c,{type:a,isSimulated:!0});ga.event.trigger(d,null,b)}}),ga.fn.extend({trigger:function(a,b){return this.each(function(){ga.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return ga.event.trigger(a,b,c,!0)}}),ga.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){ga.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),ga.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),ea.focusin="onfocusin"in b,ea.focusin||ga.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){ga.event.simulate(b,a.target,ga.event.fix(a))};ga.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=Aa.access(d,b);e||d.addEventListener(a,c,!0),Aa.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=Aa.access(d,b)-1;e?Aa.access(d,b,e):(d.removeEventListener(a,c,!0),Aa.remove(d,b))}}});var rb=b.location,sb=ga.now(),tb=/\?/;ga.parseJSON=function(a){return JSON.parse(a+"")},ga.parseXML=function(a){var c;if(!a||"string"!=typeof a)return null;try{c=(new b.DOMParser).parseFromString(a,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||ga.error("Invalid XML: "+a),c};var ub=/#.*$/,vb=/([?&])_=[^&]*/,wb=/^(.*?):[ \t]*([^\r\n]*)$/gm,xb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,yb=/^(?:GET|HEAD)$/,zb=/^\/\//,Ab={},Bb={},Cb="*/".concat("*"),Db=Y.createElement("a");Db.href=rb.href,ga.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:rb.href,type:"GET",isLocal:xb.test(rb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Cb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ga.parseJSON,"text xml":ga.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?S(S(a,ga.ajaxSettings),b):S(ga.ajaxSettings,a)},ajaxPrefilter:Q(Ab),ajaxTransport:Q(Bb),ajax:function(a,c){function d(a,c,d,h){var j,l,s,t,v,x=c;2!==u&&(u=2,i&&b.clearTimeout(i),e=void 0,g=h||"",w.readyState=a>0?4:0,j=a>=200&&a<300||304===a,d&&(t=T(m,w,d)),t=U(m,t,w,j),j?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(ga.lastModified[f]=v),v=w.getResponseHeader("etag"),v&&(ga.etag[f]=v)),204===a||"HEAD"===m.type?x="nocontent":304===a?x="notmodified":(x=t.state,l=t.data,s=t.error,j=!s)):(s=x,!a&&x||(x="error",a<0&&(a=0))),w.status=a,w.statusText=(c||x)+"",j?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=void 0,k&&o.trigger(j?"ajaxSuccess":"ajaxError",[w,m,j?l:s]),q.fireWith(n,[w,x]),k&&(o.trigger("ajaxComplete",[w,m]),--ga.active||ga.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=ga.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?ga(n):ga.event,p=ga.Deferred(),q=ga.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!h)for(h={};b=wb.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(u<2)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return e&&e.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((a||m.url||rb.href)+"").replace(ub,"").replace(zb,rb.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=ga.trim(m.dataType||"*").toLowerCase().match(wa)||[""],null==m.crossDomain){j=Y.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=Db.protocol+"//"+Db.host!=j.protocol+"//"+j.host}catch(x){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=ga.param(m.data,m.traditional)),R(Ab,m,c,w),2===u)return w;k=ga.event&&m.global,k&&0===ga.active++&&ga.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!yb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(tb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=vb.test(f)?f.replace(vb,"$1_="+sb++):f+(tb.test(f)?"&":"?")+"_="+sb++)),m.ifModified&&(ga.lastModified[f]&&w.setRequestHeader("If-Modified-Since",ga.lastModified[f]),ga.etag[f]&&w.setRequestHeader("If-None-Match",ga.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Cb+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)w.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(l in{success:1,error:1,complete:1})w[l](m[l]);if(e=R(Bb,m,c,w)){if(w.readyState=1,k&&o.trigger("ajaxSend",[w,m]),2===u)return w;m.async&&m.timeout>0&&(i=b.setTimeout(function(){
w.abort("timeout")},m.timeout));try{u=1,e.send(s,d)}catch(x){if(!(u<2))throw x;d(-1,x)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return ga.get(a,b,c,"json")},getScript:function(a,b){return ga.get(a,void 0,b,"script")}}),ga.each(["get","post"],function(a,b){ga[b]=function(a,c,d,e){return ga.isFunction(c)&&(e=e||d,d=c,c=void 0),ga.ajax(ga.extend({url:a,type:b,dataType:e,data:c,success:d},ga.isPlainObject(a)&&a))}}),ga._evalUrl=function(a){return ga.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ga.fn.extend({wrapAll:function(a){var b;return ga.isFunction(a)?this.each(function(b){ga(this).wrapAll(a.call(this,b))}):(this[0]&&(b=ga(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return ga.isFunction(a)?this.each(function(b){ga(this).wrapInner(a.call(this,b))}):this.each(function(){var b=ga(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=ga.isFunction(a);return this.each(function(c){ga(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){ga.nodeName(this,"body")||ga(this).replaceWith(this.childNodes)}).end()}}),ga.expr.filters.hidden=function(a){return!ga.expr.filters.visible(a)},ga.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Eb=/%20/g,Fb=/\[\]$/,Gb=/\r?\n/g,Hb=/^(?:submit|button|image|reset|file)$/i,Ib=/^(?:input|select|textarea|keygen)/i;ga.param=function(a,b){var c,d=[],e=function(a,b){b=ga.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=ga.ajaxSettings&&ga.ajaxSettings.traditional),ga.isArray(a)||a.jquery&&!ga.isPlainObject(a))ga.each(a,function(){e(this.name,this.value)});else for(c in a)V(c,a[c],b,e);return d.join("&").replace(Eb,"+")},ga.fn.extend({serialize:function(){return ga.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=ga.prop(this,"elements");return a?ga.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!ga(this).is(":disabled")&&Ib.test(this.nodeName)&&!Hb.test(a)&&(this.checked||!Ia.test(a))}).map(function(a,b){var c=ga(this).val();return null==c?null:ga.isArray(c)?ga.map(c,function(a){return{name:b.name,value:a.replace(Gb,"\r\n")}}):{name:b.name,value:c.replace(Gb,"\r\n")}}).get()}}),ga.ajaxSettings.xhr=function(){try{return new b.XMLHttpRequest}catch(a){}};var Jb={0:200,1223:204},Kb=ga.ajaxSettings.xhr();ea.cors=!!Kb&&"withCredentials"in Kb,ea.ajax=Kb=!!Kb,ga.ajaxTransport(function(a){var c,d;if(ea.cors||Kb&&!a.crossDomain)return{send:function(e,f){var g,h=a.xhr();if(h.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(g in a.xhrFields)h[g]=a.xhrFields[g];a.mimeType&&h.overrideMimeType&&h.overrideMimeType(a.mimeType),a.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Jb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&b.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(a.hasContent&&a.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}}),ga.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return ga.globalEval(a),a}}}),ga.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),ga.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=ga("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),Y.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Lb=[],Mb=/(=)\?(?=&|$)|\?\?/;ga.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Lb.pop()||ga.expando+"_"+sb++;return this[a]=!0,a}}),ga.ajaxPrefilter("json jsonp",function(a,c,d){var e,f,g,h=a.jsonp!==!1&&(Mb.test(a.url)?"url":"string"==typeof a.data&&0===(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&Mb.test(a.data)&&"data");if(h||"jsonp"===a.dataTypes[0])return e=a.jsonpCallback=ga.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,h?a[h]=a[h].replace(Mb,"$1"+e):a.jsonp!==!1&&(a.url+=(tb.test(a.url)?"&":"?")+a.jsonp+"="+e),a.converters["script json"]=function(){return g||ga.error(e+" was not called"),g[0]},a.dataTypes[0]="json",f=b[e],b[e]=function(){g=arguments},d.always(function(){void 0===f?ga(b).removeProp(e):b[e]=f,a[e]&&(a.jsonpCallback=c.jsonpCallback,Lb.push(e)),g&&ga.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),ga.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Y;var d=pa.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n([a],b,e),e&&e.length&&ga(e).remove(),ga.merge([],d.childNodes))};var Nb=ga.fn.load;ga.fn.load=function(a,b,c){if("string"!=typeof a&&Nb)return Nb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=ga.trim(a.slice(h)),a=a.slice(0,h)),ga.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&ga.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?ga("<div>").append(ga.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},ga.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){ga.fn[b]=function(a){return this.on(b,a)}}),ga.expr.filters.animated=function(a){return ga.grep(ga.timers,function(b){return a===b.elem}).length},ga.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=ga.css(a,"position"),l=ga(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=ga.css(a,"top"),i=ga.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),ga.isFunction(b)&&(b=b.call(a,c,ga.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},ga.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){ga.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,ga.contains(b,d)?(e=d.getBoundingClientRect(),c=W(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===ga.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),ga.nodeName(a[0],"html")||(d=a.offset()),d.top+=ga.css(a[0],"borderTopWidth",!0),d.left+=ga.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-ga.css(c,"marginTop",!0),left:b.left-d.left-ga.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===ga.css(a,"position");)a=a.offsetParent;return a||_a})}}),ga.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;ga.fn[a]=function(d){return ya(this,function(a,d,e){var f=W(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),ga.each(["top","left"],function(a,b){ga.cssHooks[b]=C(ea.pixelPosition,function(a,c){if(c)return c=B(a,b),Ya.test(c)?ga(a).position()[b]+"px":c})}),ga.each({Height:"height",Width:"width"},function(a,b){ga.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){ga.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return ya(this,function(b,c,d){var e;return ga.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?ga.css(b,c,g):ga.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),ga.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),ga.fn.andSelf=ga.fn.addBack,"function"==typeof a&&a.amd&&a("jquery",[],function(){return ga});var Ob=b.jQuery,Pb=b.$;return ga.noConflict=function(a){return b.$===ga&&(b.$=Pb),a&&b.jQuery===ga&&(b.jQuery=Ob),ga},c||(b.jQuery=b.$=ga),ga})}(),System.registerDynamic("angular",["jquery"],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,"angular",null);return function(a){!function(a,b,c){"use strict";function d(a,b){return b=b||Error,function(){var c,d,e=2,f=arguments,g=f[0],h="["+(a?a+":":"")+g+"] ",i=f[1];for(h+=i.replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1),c=b+e;return c<f.length?ua(f[c]):a}),h+="\nhttp://errors.angularjs.org/1.5.3/"+(a?a+"/":"")+g,d=e,c="?";d<f.length;d++,c="&")h+=c+"p"+(d-e)+"="+encodeURIComponent(ua(f[d]));return new b(h)}}function e(a){if(null==a||C(a))return!1;if(Td(a)||x(a)||Id&&a instanceof Id)return!0;var b="length"in Object(a)&&a.length;return y(b)&&(b>=0&&(b-1 in a||a instanceof Array)||"function"==typeof a.item)}function f(a,b,c){var d,g;if(a)if(A(a))for(d in a)"prototype"==d||"length"==d||"name"==d||a.hasOwnProperty&&!a.hasOwnProperty(d)||b.call(c,a[d],d,a);else if(Td(a)||e(a)){var h="object"!=typeof a;for(d=0,g=a.length;d<g;d++)(h||d in a)&&b.call(c,a[d],d,a)}else if(a.forEach&&a.forEach!==f)a.forEach(b,c,a);else if(w(a))for(d in a)b.call(c,a[d],d,a);else if("function"==typeof a.hasOwnProperty)for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a);else for(d in a)Cd.call(a,d)&&b.call(c,a[d],d,a);return a}function g(a,b,c){for(var d=Object.keys(a).sort(),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function h(a){return function(b,c){a(c,b)}}function i(){return++Sd}function j(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function k(a,b,c){for(var d=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=b[e];if(v(g)||A(g))for(var h=Object.keys(g),i=0,l=h.length;i<l;i++){var m=h[i],n=g[m];c&&v(n)?z(n)?a[m]=new Date(n.valueOf()):B(n)?a[m]=new RegExp(n):n.nodeName?a[m]=n.cloneNode(!0):L(n)?a[m]=n.clone():(v(a[m])||(a[m]=Td(n)?[]:{}),k(a[m],[n],!0)):a[m]=n}}return j(a,d),a}function l(a){return k(a,Ld.call(arguments,1),!1)}function m(a){return k(a,Ld.call(arguments,1),!0)}function n(a){return parseInt(a,10)}function o(a,b){return l(Object.create(a),b)}function p(){}function q(a){return a}function r(a){return function(){return a}}function s(a){return A(a.toString)&&a.toString!==Od}function t(a){return"undefined"==typeof a}function u(a){return"undefined"!=typeof a}function v(a){return null!==a&&"object"==typeof a}function w(a){return null!==a&&"object"==typeof a&&!Pd(a)}function x(a){return"string"==typeof a}function y(a){return"number"==typeof a}function z(a){return"[object Date]"===Od.call(a)}function A(a){return"function"==typeof a}function B(a){return"[object RegExp]"===Od.call(a)}function C(a){return a&&a.window===a}function D(a){return a&&a.$evalAsync&&a.$watch}function E(a){return"[object File]"===Od.call(a)}function F(a){return"[object FormData]"===Od.call(a)}function G(a){return"[object Blob]"===Od.call(a)}function H(a){return"boolean"==typeof a}function I(a){return a&&A(a.then)}function J(a){return a&&y(a.length)&&Ud.test(Od.call(a))}function K(a){return"[object ArrayBuffer]"===Od.call(a)}function L(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function M(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function N(a){return Dd(a.nodeName||a[0]&&a[0].nodeName)}function O(a,b){var c=a.indexOf(b);return c>=0&&a.splice(c,1),c}function P(a,b){function d(a,b){var c,d=b.$$hashKey;if(Td(a))for(var f=0,g=a.length;f<g;f++)b.push(e(a[f]));else if(w(a))for(c in a)b[c]=e(a[c]);else if(a&&"function"==typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&(b[c]=e(a[c]));else for(c in a)Cd.call(a,c)&&(b[c]=e(a[c]));return j(b,d),b}function e(a){if(!v(a))return a;var b=h.indexOf(a);if(b!==-1)return i[b];if(C(a)||D(a))throw Qd("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var e=!1,f=g(a);return f===c&&(f=Td(a)?[]:Object.create(Pd(a)),e=!0),h.push(a),i.push(f),e?d(a,f):f}function g(a){switch(Od.call(a)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new a.constructor(e(a.buffer));case"[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);return new Uint8Array(b).set(new Uint8Array(a)),b}return a.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new a.constructor(a.valueOf());case"[object RegExp]":var c=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]);return c.lastIndex=a.lastIndex,c;case"[object Blob]":return new a.constructor([a],{type:a.type})}if(A(a.cloneNode))return a.cloneNode(!0)}var h=[],i=[];if(b){if(J(b)||K(b))throw Qd("cpta","Can't copy! TypedArray destination cannot be mutated.");if(a===b)throw Qd("cpi","Can't copy! Source and destination are identical.");return Td(b)?b.length=0:f(b,function(a,c){"$$hashKey"!==c&&delete b[c]}),h.push(a),i.push(b),d(a,b)}return e(a)}function Q(a,b){if(Td(a)){b=b||[];for(var c=0,d=a.length;c<d;c++)b[c]=a[c]}else if(v(a)){b=b||{};for(var e in a)"$"===e.charAt(0)&&"$"===e.charAt(1)||(b[e]=a[e])}return b||a}function R(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var c,d,e,f=typeof a,g=typeof b;if(f==g&&"object"==f){if(!Td(a)){if(z(a))return!!z(b)&&R(a.getTime(),b.getTime());if(B(a))return!!B(b)&&a.toString()==b.toString();if(D(a)||D(b)||C(a)||C(b)||Td(b)||z(b)||B(b))return!1;e=ra();for(d in a)if("$"!==d.charAt(0)&&!A(a[d])){if(!R(a[d],b[d]))return!1;e[d]=!0}for(d in b)if(!(d in e)&&"$"!==d.charAt(0)&&u(b[d])&&!A(b[d]))return!1;return!0}if(!Td(b))return!1;if((c=a.length)==b.length){for(d=0;d<c;d++)if(!R(a[d],b[d]))return!1;return!0}}return!1}function S(a,b,c){return a.concat(Ld.call(b,c))}function T(a,b){return Ld.call(a,b||0)}function U(a,b){var c=arguments.length>2?T(arguments,2):[];return!A(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,S(c,arguments,0)):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function V(a,d){var e=d;return"string"==typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?e=c:C(d)?e="$WINDOW":d&&b===d?e="$DOCUMENT":D(d)&&(e="$SCOPE"),e}function W(a,b){return t(a)?c:(y(b)||(b=b?2:null),JSON.stringify(a,V,b))}function X(a){return x(a)?JSON.parse(a):a}function Y(a,b){a=a.replace(Zd,"");var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return isNaN(c)?b:c}function Z(a,b){return a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function $(a,b,c){c=c?-1:1;var d=a.getTimezoneOffset(),e=Y(b,d);return Z(a,c*(e-d))}function _(a){a=Id(a).clone();try{a.empty()}catch(b){}var c=Id("<div>").append(a).html();try{return a[0].nodeType===de?Dd(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+Dd(b)})}catch(b){return Dd(c)}}function aa(a){try{return decodeURIComponent(a)}catch(b){}}function ba(a){var b={};return f((a||"").split("&"),function(a){var c,d,e;a&&(d=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),c!==-1&&(d=a.substring(0,c),e=a.substring(c+1)),d=aa(d),u(d)&&(e=!u(e)||aa(e),Cd.call(b,d)?Td(b[d])?b[d].push(e):b[d]=[b[d],e]:b[d]=e))}),b}function ca(a){var b=[];return f(a,function(a,c){Td(a)?f(a,function(a){b.push(ea(c,!0)+(a===!0?"":"="+ea(a,!0)))}):b.push(ea(c,!0)+(a===!0?"":"="+ea(a,!0)))}),b.length?b.join("&"):""}function da(a){return ea(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ea(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function fa(a,b){var c,d,e=$d.length;for(d=0;d<e;++d)if(c=$d[d]+b,x(c=a.getAttribute(c)))return c;return null}function ga(a,b){var c,d,e={};f($d,function(b){var e=b+"app";!c&&a.hasAttribute&&a.hasAttribute(e)&&(c=a,d=a.getAttribute(e))}),f($d,function(b){var e,f=b+"app";!c&&(e=a.querySelector("["+f.replace(":","\\:")+"]"))&&(c=e,d=e.getAttribute(f))}),c&&(e.strictDi=null!==fa(c,"strict-di"),b(c,d?[d]:[],e))}function ha(c,d,e){v(e)||(e={});var g={strictDi:!1};e=l(g,e);var h=function(){if(c=Id(c),c.injector()){var a=c[0]===b?"document":_(c);throw Qd("btstrpd","App Already Bootstrapped with this Element '{0}'",a.replace(/</,"&lt;").replace(/>/,"&gt;"))}d=d||[],d.unshift(["$provide",function(a){a.value("$rootElement",c)}]),e.debugInfoEnabled&&d.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),d.unshift("ng");var f=eb(d,e.strictDi);return f.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),f},i=/^NG_ENABLE_DEBUG_INFO!/,j=/^NG_DEFER_BOOTSTRAP!/;return a&&i.test(a.name)&&(e.debugInfoEnabled=!0,a.name=a.name.replace(i,"")),a&&!j.test(a.name)?h():(a.name=a.name.replace(j,""),Rd.resumeBootstrap=function(a){return f(a,function(a){d.push(a)}),h()},void(A(Rd.resumeDeferredBootstrap)&&Rd.resumeDeferredBootstrap()))}function ia(){a.name="NG_ENABLE_DEBUG_INFO!"+a.name,a.location.reload()}function ja(a){var b=Rd.element(a).injector();if(!b)throw Qd("test","no injector found for element argument to getTestability");return b.get("$$testability")}function ka(a,b){return b=b||"_",a.replace(_d,function(a,c){return(c?b:"")+a.toLowerCase()})}function la(){var b;if(!ae){var d=Yd();Jd=t(d)?a.jQuery:d?a[d]:c,Jd&&Jd.fn.on?(Id=Jd,l(Jd.fn,{scope:we.scope,isolateScope:we.isolateScope,controller:we.controller,injector:we.injector,inheritedData:we.inheritedData}),b=Jd.cleanData,Jd.cleanData=function(a){for(var c,d,e=0;null!=(d=a[e]);e++)c=Jd._data(d,"events"),c&&c.$destroy&&Jd(d).triggerHandler("$destroy");b(a)}):Id=Fa,Rd.element=Id,ae=!0}}function ma(a,b,c){if(!a)throw Qd("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function na(a,b,c){return c&&Td(a)&&(a=a[a.length-1]),ma(A(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function oa(a,b){if("hasOwnProperty"===a)throw Qd("badname","hasOwnProperty is not a valid {0} name",b)}function pa(a,b,c){if(!b)return a;for(var d,e=b.split("."),f=a,g=e.length,h=0;h<g;h++)d=e[h],a&&(a=(f=a)[d]);return!c&&A(a)?U(f,a):a}function qa(a){for(var b,c=a[0],d=a[a.length-1],e=1;c!==d&&(c=c.nextSibling);e++)(b||a[e]!==c)&&(b||(b=Id(Ld.call(a,0,e))),b.push(c));return b||a}function ra(){return Object.create(null)}function sa(a){function b(a,b,c){return a[b]||(a[b]=c())}var c=d("$injector"),e=d("ng"),f=b(a,"angular",Object);return f.$$minErr=f.$$minErr||d,b(f,"module",function(){var a={};return function(d,f,g){var h=function(a,b){if("hasOwnProperty"===a)throw e("badname","hasOwnProperty is not a valid {0} name",b)};return h(d,"module"),f&&a.hasOwnProperty(d)&&(a[d]=null),b(a,d,function(){function a(a,b,c,d){return d||(d=e),function(){return d[c||"push"]([a,b,arguments]),k}}function b(a,b){return function(c,f){return f&&A(f)&&(f.$$moduleName=d),e.push([a,b,arguments]),k}}if(!f)throw c("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",d);var e=[],h=[],i=[],j=a("$injector","invoke","push",h),k={_invokeQueue:e,_configBlocks:h,_runBlocks:i,requires:f,name:d,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator"),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),component:b("$compileProvider","component"),config:j,run:function(a){return i.push(a),this}};return g&&j(g),k})}})}function ta(a){var b=[];return JSON.stringify(a,function(a,c){if(c=V(a,c),v(c)){if(b.indexOf(c)>=0)return"...";b.push(c)}return c})}function ua(a){return"function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):t(a)?"undefined":"string"!=typeof a?ta(a):a}function va(b){l(b,{bootstrap:ha,copy:P,extend:l,merge:m,equals:R,element:Id,forEach:f,injector:eb,noop:p,bind:U,toJson:W,fromJson:X,identity:q,isUndefined:t,isDefined:u,isString:x,isFunction:A,isObject:v,isNumber:y,isElement:L,isArray:Td,version:he,isDate:z,lowercase:Dd,uppercase:Ed,callbacks:{counter:0},getTestability:ja,$$minErr:d,$$csp:Xd,reloadWithDebugInfo:ia}),(Kd=sa(a))("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:wc}),a.provider("$compile",ob).directive({a:Df,input:Wf,textarea:Wf,form:If,script:Rg,select:Ug,style:Wg,option:Vg,ngBind:Zf,ngBindHtml:_f,ngBindTemplate:$f,ngClass:bg,ngClassEven:dg,ngClassOdd:cg,ngCloak:eg,ngController:fg,ngForm:Jf,ngHide:Kg,ngIf:ig,ngInclude:jg,ngInit:lg,ngNonBindable:Bg,ngPluralize:Fg,ngRepeat:Gg,ngShow:Jg,ngStyle:Lg,ngSwitch:Mg,ngSwitchWhen:Ng,ngSwitchDefault:Og,ngOptions:Eg,ngTransclude:Qg,ngModel:yg,ngList:mg,ngChange:ag,pattern:Yg,ngPattern:Yg,required:Xg,ngRequired:Xg,minlength:$g,ngMinlength:$g,maxlength:Zg,ngMaxlength:Zg,ngValue:Yf,ngModelOptions:Ag}).directive({ngInclude:kg}).directive(Ef).directive(gg),a.provider({$anchorScroll:fb,$animate:Me,$animateCss:Pe,$$animateJs:Ke,$$animateQueue:Le,$$AnimateRunner:Oe,$$animateAsyncRun:Ne,$browser:lb,$cacheFactory:mb,$controller:tb,$document:ub,$exceptionHandler:vb,$filter:Kc,$$forceReflow:Ue,$interpolate:Jb,$interval:Kb,$http:Fb,$httpParamSerializer:xb,$httpParamSerializerJQLike:yb,$httpBackend:Hb,$xhrFactory:Gb,$location:Yb,$log:Zb,$parse:qc,$rootScope:vc,$q:rc,$$q:sc,$sce:Ac,$sceDelegate:zc,$sniffer:Bc,$templateCache:nb,$templateRequest:Cc,$$testability:Dc,$timeout:Ec,$window:Hc,$$rAF:uc,$$jqLite:$a,$$HashMap:Ae,$$cookieReader:Jc})}])}function wa(){return++je}function xa(a){return a.replace(me,function(a,b,c,d){return d?c.toUpperCase():c}).replace(ne,"Moz$1")}function ya(a){return!re.test(a)}function za(a){var b=a.nodeType;return b===be||!b||b===fe}function Aa(a){for(var b in ie[a.ng339])return!0;return!1}function Ba(a){for(var b=0,c=a.length;b<c;b++)Ja(a[b])}function Ca(a,b){var c,d,e,g,h=b.createDocumentFragment(),i=[];if(ya(a))i.push(b.createTextNode(a));else{for(c=c||h.appendChild(b.createElement("div")),d=(se.exec(a)||["",""])[1].toLowerCase(),e=ue[d]||ue._default,c.innerHTML=e[1]+a.replace(te,"<$1></$2>")+e[2],g=e[0];g--;)c=c.lastChild;i=S(i,c.childNodes),c=h.firstChild,c.textContent=""}return h.textContent="",h.innerHTML="",f(i,function(a){h.appendChild(a)}),h}function Da(a,c){c=c||b;var d;return(d=qe.exec(a))?[c.createElement(d[1])]:(d=Ca(a,c))?d.childNodes:[]}function Ea(a,b){var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)}function Fa(a){if(a instanceof Fa)return a;var b;if(x(a)&&(a=Vd(a),b=!0),!(this instanceof Fa)){if(b&&"<"!=a.charAt(0))throw pe("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Fa(a)}b?Pa(this,Da(a)):Pa(this,a)}function Ga(a){return a.cloneNode(!0)}function Ha(a,b){if(b||Ja(a),a.querySelectorAll)for(var c=a.querySelectorAll("*"),d=0,e=c.length;d<e;d++)Ja(c[d])}function Ia(a,b,c,d){if(u(d))throw pe("offargs","jqLite#off() does not support the `selector` argument");var e=Ka(a),g=e&&e.events,h=e&&e.handle;if(h)if(b){var i=function(b){var d=g[b];u(c)&&O(d||[],c),u(c)&&d&&d.length>0||(le(a,b,h),delete g[b])};f(b.split(" "),function(a){i(a),oe[a]&&i(oe[a])})}else for(b in g)"$destroy"!==b&&le(a,b,h),delete g[b]}function Ja(a,b){var d=a.ng339,e=d&&ie[d];if(e){if(b)return void delete e.data[b];e.handle&&(e.events.$destroy&&e.handle({},"$destroy"),Ia(a)),delete ie[d],a.ng339=c}}function Ka(a,b){var d=a.ng339,e=d&&ie[d];return b&&!e&&(a.ng339=d=wa(),e=ie[d]={events:{},data:{},handle:c}),e}function La(a,b,c){if(za(a)){var d=u(c),e=!d&&b&&!v(b),f=!b,g=Ka(a,!e),h=g&&g.data;if(d)h[b]=c;else{if(f)return h;if(e)return h&&h[b];l(h,b)}}}function Ma(a,b){return!!a.getAttribute&&(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1}function Na(a,b){b&&a.setAttribute&&f(b.split(" "),function(b){a.setAttribute("class",Vd((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Vd(b)+" "," ")))})}function Oa(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");f(b.split(" "),function(a){a=Vd(a),c.indexOf(" "+a+" ")===-1&&(c+=a+" ")}),a.setAttribute("class",Vd(c))}}function Pa(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var c=b.length;if("number"==typeof c&&b.window!==b){if(c)for(var d=0;d<c;d++)a[a.length++]=b[d]}else a[a.length++]=b}}function Qa(a,b){return Ra(a,"$"+(b||"ngController")+"Controller")}function Ra(a,b,c){a.nodeType==fe&&(a=a.documentElement);for(var d=Td(b)?b:[b];a;){for(var e=0,f=d.length;e<f;e++)if(u(c=Id.data(a,d[e])))return c;a=a.parentNode||a.nodeType===ge&&a.host}}function Sa(a){for(Ha(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Ta(a,b){b||Ha(a);var c=a.parentNode;c&&c.removeChild(a)}function Ua(b,c){c=c||a,"complete"===c.document.readyState?c.setTimeout(b):Id(c).on("load",b)}function Va(a,b){var c=xe[b.toLowerCase()];return c&&ye[N(a)]&&c}function Wa(a){return ze[a]}function Xa(a,b){var c=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var e=b[d||c.type],f=e?e.length:0;if(f){if(t(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return c.immediatePropagationStopped===!0};var h=e.specialHandlerWrapper||Ya;f>1&&(e=Q(e));for(var i=0;i<f;i++)c.isImmediatePropagationStopped()||h(a,c,e[i])}};return c.elem=a,c}function Ya(a,b,c){c.call(a,b)}function Za(a,b,c){var d=b.relatedTarget;d&&(d===a||ve.call(a,d))||c.call(a,b)}function $a(){this.$get=function(){return l(Fa,{hasClass:function(a,b){return a.attr&&(a=a[0]),Ma(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),Oa(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),Na(a,b)}})}}function _a(a,b){var c=a&&a.$$hashKey;if(c)return"function"==typeof c&&(c=a.$$hashKey()),c;var d=typeof a;return c="function"==d||"object"==d&&null!==a?a.$$hashKey=d+":"+(b||i)():d+":"+a}function ab(a,b){if(b){var c=0;this.nextUid=function(){return++c}}f(a,this.put,this)}function bb(a){var b=a.toString().replace(Fe,""),c=b.match(Be)||b.match(Ce);return c}function cb(a){var b=bb(a);return b?"function("+(b[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function db(a,b,c){var d,e,g;if("function"==typeof a){if(!(d=a.$inject)){if(d=[],a.length){if(b)throw x(c)&&c||(c=a.name||cb(a)),Ge("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",c);e=bb(a),f(e[1].split(De),function(a){a.replace(Ee,function(a,b,c){d.push(c)})})}a.$inject=d}}else Td(a)?(g=a.length-1,na(a[g],"fn"),d=a.slice(0,g)):na(a,"fn",!0);return d}function eb(a,b){function d(a){return function(b,c){return v(b)?void f(b,h(a)):a(b,c)}}function e(a,b){if(oa(a,"service"),(A(b)||Td(b))&&(b=y.instantiate(b)),!b.$get)throw Ge("pget","Provider '{0}' must define $get factory method.",a);return w[a+q]=b}function g(a,b){return function(){var c=C.invoke(b,this);if(t(c))throw Ge("undef","Provider '{0}' must return a value from $get factory method.",a);return c}}function i(a,b,c){return e(a,{$get:c!==!1?g(a,b):b})}function j(a,b){return i(a,["$injector",function(a){return a.instantiate(b)}])}function k(a,b){return i(a,r(b),!1)}function l(a,b){oa(a,"constant"),w[a]=b,z[a]=b}function m(a,b){var c=y.get(a+q),d=c.$get;c.$get=function(){var a=C.invoke(d,c);return C.invoke(b,null,{$delegate:a})}}function n(a){ma(t(a)||Td(a),"modulesToLoad","not an array");var b,c=[];return f(a,function(a){function d(a){var b,c;for(b=0,c=a.length;b<c;b++){var d=a[b],e=y.get(d[0]);e[d[1]].apply(e,d[2])}}if(!u.get(a)){u.put(a,!0);try{x(a)?(b=Kd(a),c=c.concat(n(b.requires)).concat(b._runBlocks),d(b._invokeQueue),d(b._configBlocks)):A(a)?c.push(y.invoke(a)):Td(a)?c.push(y.invoke(a)):na(a,"module")}catch(e){throw Td(a)&&(a=a[a.length-1]),e.message&&e.stack&&e.stack.indexOf(e.message)==-1&&(e=e.message+"\n"+e.stack),Ge("modulerr","Failed to instantiate module {0} due to:\n{1}",a,e.stack||e.message||e)}}}),c}function o(a,c){function d(b,d){if(a.hasOwnProperty(b)){if(a[b]===p)throw Ge("cdep","Circular dependency found: {0}",b+" <- "+s.join(" <- "));return a[b]}try{return s.unshift(b),a[b]=p,a[b]=c(b,d)}catch(e){throw a[b]===p&&delete a[b],e}finally{s.shift()}}function e(a,c,e){for(var f=[],g=eb.$$annotate(a,b,e),h=0,i=g.length;h<i;h++){var j=g[h];if("string"!=typeof j)throw Ge("itkn","Incorrect injection token! Expected service name as string, got {0}",j);f.push(c&&c.hasOwnProperty(j)?c[j]:d(j,e))}return f}function f(a){return!(Hd<=11)&&("function"==typeof a&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(a)))}function g(a,b,c,d){"string"==typeof c&&(d=c,c=null);var g=e(a,c,d);return Td(a)&&(a=a[a.length-1]),f(a)?(g.unshift(null),new(Function.prototype.bind.apply(a,g))):a.apply(b,g)}function h(a,b,c){var d=Td(a)?a[a.length-1]:a,f=e(a,b,c);return f.unshift(null),new(Function.prototype.bind.apply(d,f))}return{invoke:g,instantiate:h,get:d,annotate:eb.$$annotate,has:function(b){return w.hasOwnProperty(b+q)||a.hasOwnProperty(b)}}}b=b===!0;var p={},q="Provider",s=[],u=new ab([],(!0)),w={$provide:{provider:d(e),factory:d(i),service:d(j),value:d(k),constant:d(l),decorator:m}},y=w.$injector=o(w,function(a,b){throw Rd.isString(b)&&s.push(b),Ge("unpr","Unknown provider: {0}",s.join(" <- "))}),z={},B=o(z,function(a,b){var d=y.get(a+q,b);return C.invoke(d.$get,d,c,a)}),C=B;w["$injector"+q]={$get:r(B)};var D=n(a);return C=B.get("$injector"),C.strictDi=b,f(D,function(a){a&&C.invoke(a)}),C}function fb(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return Array.prototype.some.call(a,function(a){if("a"===N(a))return b=a,!0}),b}function f(){var a=h.yOffset;if(A(a))a=a();else if(L(a)){var c=a[0],d=b.getComputedStyle(c);a="fixed"!==d.position?0:c.getBoundingClientRect().bottom}else y(a)||(a=0);return a}function g(a){if(a){a.scrollIntoView();var c=f();if(c){var d=a.getBoundingClientRect().top;b.scrollBy(0,d-c)}}else b.scrollTo(0,0)}function h(a){a=x(a)?a:c.hash();var b;a?(b=i.getElementById(a))?g(b):(b=e(i.getElementsByName(a)))?g(b):"top"===a&&g(null):g(null)}var i=b.document;return a&&d.$watch(function(){return c.hash()},function(a,b){a===b&&""===a||Ua(function(){d.$evalAsync(h)})}),h}]}function gb(a,b){return a||b?a?b?(Td(a)&&(a=a.join(" ")),Td(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function hb(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType===Ie)return c}}function ib(a){x(a)&&(a=a.split(" "));var b=ra();return f(a,function(a){a.length&&(b[a]=!0)}),b}function jb(a){return v(a)?a:{}}function kb(a,b,c,d){function e(a){try{a.apply(null,T(arguments,1))}finally{if(r--,0===r)for(;s.length;)try{s.pop()()}catch(b){c.error(b)}}}function g(a){var b=a.indexOf("#");return b===-1?"":a.substr(b)}function h(){y=null,i(),j()}function i(){u=z(),u=t(u)?null:u,R(u,C)&&(u=C),C=u;
}function j(){w===k.url()&&v===u||(w=k.url(),v=u,f(A,function(a){a(k.url(),u)}))}var k=this,l=a.location,m=a.history,n=a.setTimeout,o=a.clearTimeout,q={};k.isMock=!1;var r=0,s=[];k.$$completeOutstandingRequest=e,k.$$incOutstandingRequestCount=function(){r++},k.notifyWhenNoOutstandingRequests=function(a){0===r?a():s.push(a)};var u,v,w=l.href,x=b.find("base"),y=null,z=d.history?function(){try{return m.state}catch(a){}}:p;i(),v=u,k.url=function(b,c,e){if(t(e)&&(e=null),l!==a.location&&(l=a.location),m!==a.history&&(m=a.history),b){var f=v===e;if(w===b&&(!d.history||f))return k;var h=w&&Pb(w)===Pb(b);return w=b,v=e,!d.history||h&&f?(h&&!y||(y=b),c?l.replace(b):h?l.hash=g(b):l.href=b,l.href!==b&&(y=b)):(m[c?"replaceState":"pushState"](e,"",b),i(),v=u),k}return y||l.href.replace(/%27/g,"'")},k.state=function(){return u};var A=[],B=!1,C=null;k.onUrlChange=function(b){return B||(d.history&&Id(a).on("popstate",h),Id(a).on("hashchange",h),B=!0),A.push(b),b},k.$$applicationDestroyed=function(){Id(a).off("hashchange popstate",h)},k.$$checkUrlChange=j,k.baseHref=function(){var a=x.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""},k.defer=function(a,b){var c;return r++,c=n(function(){delete q[c],e(a)},b||0),q[c]=!0,c},k.defer.cancel=function(a){return!!q[a]&&(delete q[a],o(a),e(p),!0)}}function lb(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new kb(a,d,b,c)}]}function mb(){this.$get=function(){function a(a,c){function e(a){a!=m&&(n?n==a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw d("$cacheFactory")("iid","CacheId '{0}' is already taken!",a);var g=0,h=l({},c,{id:a}),i=ra(),j=c&&c.capacity||Number.MAX_VALUE,k=ra(),m=null,n=null;return b[a]={put:function(a,b){if(!t(b)){if(j<Number.MAX_VALUE){var c=k[a]||(k[a]={key:a});e(c)}return a in i||g++,i[a]=b,g>j&&this.remove(n.key),b}},get:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;e(b)}return i[a]},remove:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;b==m&&(m=b.p),b==n&&(n=b.n),f(b.n,b.p),delete k[a]}a in i&&(delete i[a],g--)},removeAll:function(){i=ra(),g=0,k=ra(),m=n=null},destroy:function(){i=null,h=null,k=null,delete b[a]},info:function(){return l({},h,{size:g})}}}var b={};return a.info=function(){var a={};return f(b,function(b,c){a[c]=b.info()}),a},a.get=function(a){return b[a]},a}}function nb(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function ob(a,d){function e(a,b,c){var d=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,e={};return f(a,function(a,f){if(a in z)return void(e[f]=z[a]);var g=a.match(d);if(!g)throw Qe("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f},g[4]&&(z[a]=e[f])}),e}function g(a,b){var c={isolateScope:null,bindToController:null};if(v(a.scope)&&(a.bindToController===!0?(c.bindToController=e(a.scope,b,!0),c.isolateScope={}):c.isolateScope=e(a.scope,b,!1)),v(a.bindToController)&&(c.bindToController=e(a.bindToController,b,!0)),v(c.bindToController)){var d=a.controller,f=a.controllerAs;if(!d)throw Qe("noctrl","Cannot bind to controller without directive '{0}'s controller.",b);if(!sb(d,f))throw Qe("noident","Cannot bind to controller without identifier for directive '{0}'.",b)}return c}function i(a){var b=a.charAt(0);if(!b||b!==Dd(b))throw Qe("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",a);if(a!==a.trim())throw Qe("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",a)}var j={},k="Directive",m=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,n=/(([\w\-]+)(?:\:([^;]+))?;?)/,s=M("ngSrc,ngSrcset,src,srcset"),w=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,y=/^(on[a-z]+|formaction)$/,z=ra();this.directive=function E(b,c){return oa(b,"directive"),x(b)?(i(b),ma(c,"directiveFactory"),j.hasOwnProperty(b)||(j[b]=[],a.factory(b+k,["$injector","$exceptionHandler",function(a,c){var d=[];return f(j[b],function(e,f){try{var g=a.invoke(e);A(g)?g={compile:r(g)}:!g.compile&&g.link&&(g.compile=r(g.link)),g.priority=g.priority||0,g.index=f,g.name=g.name||b,g.require=g.require||g.controller&&g.name,g.restrict=g.restrict||"EA",g.$$moduleName=e.$$moduleName,d.push(g)}catch(h){c(h)}}),d}])),j[b].push(c)):f(b,h(E)),this},this.component=function(a,b){function c(a){function c(b){return A(b)||Td(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var e=b.template||b.templateUrl?b.template:"";return{controller:d,controllerAs:sb(b.controller)||b.controllerAs||"$ctrl",template:c(e),templateUrl:c(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require}}var d=b.controller||p;return f(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a,d[b]=a)}),c.$inject=["$injector"],this.directive(a,c)},this.aHrefSanitizationWhitelist=function(a){return u(a)?(d.aHrefSanitizationWhitelist(a),this):d.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return u(a)?(d.imgSrcSanitizationWhitelist(a),this):d.imgSrcSanitizationWhitelist()};var B=!0;this.debugInfoEnabled=function(a){return u(a)?(B=a,this):B};var C=10;this.onChangesTtl=function(a){return arguments.length?(C=a,this):C},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(a,d,e,h,i,r,u,z,E,F){function G(){try{if(!--ua)throw qa=c,Qe("infchng","{0} $onChanges() iterations reached. Aborting!\n",C);u.$apply(function(){for(var a=0,b=qa.length;a<b;++a)qa[a]();qa=c})}finally{ua++}}function I(a,b){if(b){var c,d,e,f=Object.keys(b);for(c=0,d=f.length;c<d;c++)e=f[c],this[e]=b[e]}else this.$attr={};this.$$element=a}function J(a,b,c){ta.innerHTML="<span "+b+">";var d=ta.firstChild.attributes,e=d[0];d.removeNamedItem(e.name),e.value=c,a.attributes.setNamedItem(e)}function K(a,b){try{a.addClass(b)}catch(c){}}function L(a,c,d,e,f){a instanceof Id||(a=Id(a));for(var g=/\S+/,h=0,i=a.length;h<i;h++){var j=a[h];j.nodeType===de&&j.nodeValue.match(g)&&Ea(j,a[h]=b.createElement("span"))}var k=P(a,c,a,d,e,f);L.$$addScopeClass(a);var l=null;return function(b,c,d){ma(b,"scope"),f&&f.needsNewScope&&(b=b.$parent.$new()),d=d||{};var e=d.parentBoundTranscludeFn,g=d.transcludeControllers,h=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude),l||(l=M(h));var i;if(i="html"!==l?Id(ha(l,Id("<div>").append(a).html())):c?we.clone.call(a):a,g)for(var j in g)i.data("$"+j+"Controller",g[j].instance);return L.$$addScopeInfo(i,b),c&&c(i,b),k&&k(b,i,i,e),i}}function M(a){var b=a&&a[0];return b&&"foreignobject"!==N(b)&&Od.call(b).match(/SVG/)?"svg":"html"}function P(a,b,d,e,f,g){function h(a,d,e,f){var g,h,i,j,k,l,m,n,q;if(o){var r=d.length;for(q=new Array(r),k=0;k<p.length;k+=3)m=p[k],q[m]=d[m]}else q=d;for(k=0,l=p.length;k<l;)i=q[p[k++]],g=p[k++],h=p[k++],g?(g.scope?(j=a.$new(),L.$$addScopeInfo(Id(i),j)):j=a,n=g.transcludeOnThisElement?Q(a,g.transclude,f):!g.templateOnThisElement&&f?f:!f&&b?Q(a,b):null,g(h,j,i,e,n)):h&&h(a,i.childNodes,c,f)}for(var i,j,k,l,m,n,o,p=[],q=0;q<a.length;q++)i=new I,j=S(a[q],[],i,0===q?e:c,f),k=j.length?X(j,a[q],i,b,d,null,[],[],g):null,k&&k.scope&&L.$$addScopeClass(i.$$element),m=k&&k.terminal||!(l=a[q].childNodes)||!l.length?null:P(l,k?(k.transcludeOnThisElement||!k.templateOnThisElement)&&k.transclude:b),(k||m)&&(p.push(q,k,m),n=!0,o=o||k),g=null;return n?h:null}function Q(a,b,c){function d(d,e,f,g,h){return d||(d=a.$new(!1,h),d.$$transcluded=!0),b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})}var e=d.$$slots=ra();for(var f in b.$$slots)b.$$slots[f]?e[f]=Q(a,b.$$slots[f],c):e[f]=null;return d}function S(a,b,c,d,e){var f,g,h=a.nodeType,i=c.$attr;switch(h){case be:aa(b,pb(N(a)),"E",d,e);for(var j,k,l,o,p,q,r=a.attributes,s=0,t=r&&r.length;s<t;s++){var u=!1,w=!1;j=r[s],k=j.name,p=Vd(j.value),o=pb(k),(q=za.test(o))&&(k=k.replace(Re,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()}));var y=o.match(Aa);y&&ba(y[1])&&(u=k,w=k.substr(0,k.length-5)+"end",k=k.substr(0,k.length-6)),l=pb(k.toLowerCase()),i[l]=k,!q&&c.hasOwnProperty(l)||(c[l]=p,Va(a,l)&&(c[l]=!0)),ja(a,b,p,l,q),aa(b,l,"A",d,e,u,w)}if(g=a.className,v(g)&&(g=g.animVal),x(g)&&""!==g)for(;f=n.exec(g);)l=pb(f[2]),aa(b,l,"C",d,e)&&(c[l]=Vd(f[3])),g=g.substr(f.index+f[0].length);break;case de:if(11===Hd)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===de;)a.nodeValue=a.nodeValue+a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);ga(b,a.nodeValue);break;case ee:try{f=m.exec(a.nodeValue),f&&(l=pb(f[1]),aa(b,l,"M",d,e)&&(c[l]=Vd(f[2])))}catch(z){}}return b.sort(ea),b}function U(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw Qe("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);a.nodeType==be&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return Id(d)}function V(a,b,c){return function(d,e,f,g,h){return e=U(e[0],b,c),a(d,e,f,g,h)}}function W(a,b,c,d,e,f){var g;return a?L(b,c,d,e,f):function(){return g||(g=L(b,c,d,e,f),b=c=f=null),g.apply(this,arguments)}}function X(a,b,d,g,h,i,j,k,m){function n(a,b,c,d){a&&(c&&(a=V(a,c,d)),a.require=p.require,a.directiveName=q,(z===p||p.$$isolateScope)&&(a=na(a,{isolateScope:!0})),j.push(a)),b&&(c&&(b=V(b,c,d)),b.require=p.require,b.directiveName=q,(z===p||p.$$isolateScope)&&(b=na(b,{isolateScope:!0})),k.push(b))}function o(a,e,g,h,i){function m(a,b,d,e){var f;if(D(a)||(e=d,d=b,b=a,a=c),G&&(f=s),d||(d=G?w.parent():w),!e)return i(a,b,f,d,O);var g=i.$$slots[e];if(g)return g(a,b,f,d,O);if(t(g))throw Qe("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',e,_(w))}var n,o,p,q,r,s,u,w,C,E,F;b===g?(C=d,w=d.$$element):(w=Id(g),C=new I(w,d)),r=e,z?q=e.$new(!0):x&&(r=e.$parent),i&&(u=m,u.$$boundTransclude=i,u.isSlotFilled=function(a){return!!i.$$slots[a]}),y&&(s=Z(w,C,u,y,q,e,z)),z&&(L.$$addScopeInfo(w,q,!0,!(B&&(B===z||B===z.$$originalDirective))),L.$$addScopeClass(w,!0),q.$$isolateBindings=z.$$isolateBindings,E=pa(e,C,q,q.$$isolateBindings,z),E&&q.$on("$destroy",E));for(var H in s){var J=y[H],K=s[H],M=J.$$bindings.bindToController;K.identifier&&M&&(F=pa(r,C,K.instance,M,J));var N=K();N!==K.instance&&(K.instance=N,w.data("$"+J.name+"Controller",N),F&&F(),F=pa(r,C,K.instance,M,J))}for(f(y,function(a,b){var c=a.require;a.bindToController&&!Td(c)&&v(c)&&l(s[b].instance,Y(b,c,w,s))}),f(s,function(a){var b=a.instance;A(b.$onInit)&&b.$onInit(),A(b.$onDestroy)&&r.$on("$destroy",function(){b.$onDestroy()})}),n=0,o=j.length;n<o;n++)p=j[n],oa(p,p.isolateScope?q:e,w,C,p.require&&Y(p.directiveName,p.require,w,s),u);var O=e;for(z&&(z.template||null===z.templateUrl)&&(O=q),a&&a(O,g.childNodes,c,i),n=k.length-1;n>=0;n--)p=k[n],oa(p,p.isolateScope?q:e,w,C,p.require&&Y(p.directiveName,p.require,w,s),u);f(s,function(a){var b=a.instance;A(b.$postLink)&&b.$postLink()})}m=m||{};for(var p,q,r,s,u,w=-Number.MAX_VALUE,x=m.newScopeDirective,y=m.controllerDirectives,z=m.newIsolateScopeDirective,B=m.templateDirective,C=m.nonTlbTranscludeDirective,E=!1,F=!1,G=m.hasElementTranscludeDirective,H=d.$$element=Id(b),J=i,K=g,M=!1,O=!1,P=0,Q=a.length;P<Q;P++){p=a[P];var R=p.$$start,X=p.$$end;if(R&&(H=U(b,R,X)),r=c,w>p.priority)break;if((u=p.scope)&&(p.templateUrl||(v(u)?(fa("new/isolated scope",z||x,p,H),z=p):fa("new/isolated scope",z,p,H)),x=x||p),q=p.name,!M&&(p.replace&&(p.templateUrl||p.template)||p.transclude&&!p.$$tlb)){for(var aa,ba=P+1;aa=a[ba++];)if(aa.transclude&&!aa.$$tlb||aa.replace&&(aa.templateUrl||aa.template)){O=!0;break}M=!0}if(!p.templateUrl&&p.controller&&(u=p.controller,y=y||ra(),fa("'"+q+"' controller",y[q],p,H),y[q]=p),u=p.transclude)if(E=!0,p.$$tlb||(fa("transclusion",C,p,H),C=p),"element"==u)G=!0,w=p.priority,r=H,H=d.$$element=Id(L.$$createComment(q,d[q])),b=H[0],la(h,T(r),b),r[0].$$parentNode=r[0].parentNode,K=W(O,r,g,w,J&&J.name,{nonTlbTranscludeDirective:C});else{var ea=ra();if(r=Id(Ga(b)).contents(),v(u)){r=[];var ga=ra(),ia=ra();f(u,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a,ga[a]=b,ea[b]=null,ia[b]=c}),f(H.contents(),function(a){var b=ga[pb(N(a))];b?(ia[b]=!0,ea[b]=ea[b]||[],ea[b].push(a)):r.push(a)}),f(ia,function(a,b){if(!a)throw Qe("reqslot","Required transclusion slot `{0}` was not filled.",b)});for(var ja in ea)ea[ja]&&(ea[ja]=W(O,ea[ja],g))}H.empty(),K=W(O,r,g,c,c,{needsNewScope:p.$$isolateScope||p.$$newScope}),K.$$slots=ea}if(p.template)if(F=!0,fa("template",B,p,H),B=p,u=A(p.template)?p.template(H,d):p.template,u=xa(u),p.replace){if(J=p,r=ya(u)?[]:rb(ha(p.templateNamespace,Vd(u))),b=r[0],1!=r.length||b.nodeType!==be)throw Qe("tplrt","Template for directive '{0}' must have exactly one root element. {1}",q,"");la(h,H,b);var ka={$attr:{}},ma=S(b,[],ka),qa=a.splice(P+1,a.length-(P+1));(z||x)&&$(ma,z,x),a=a.concat(ma).concat(qa),ca(d,ka),Q=a.length}else H.html(u);if(p.templateUrl)F=!0,fa("template",B,p,H),B=p,p.replace&&(J=p),o=da(a.splice(P,a.length-P),H,d,h,E&&K,j,k,{controllerDirectives:y,newScopeDirective:x!==p&&x,newIsolateScopeDirective:z,templateDirective:B,nonTlbTranscludeDirective:C}),Q=a.length;else if(p.compile)try{s=p.compile(H,d,K),A(s)?n(null,s,R,X):s&&n(s.pre,s.post,R,X)}catch(sa){e(sa,_(H))}p.terminal&&(o.terminal=!0,w=Math.max(w,p.priority))}return o.scope=x&&x.scope===!0,o.transcludeOnThisElement=E,o.templateOnThisElement=F,o.transclude=K,m.hasElementTranscludeDirective=G,o}function Y(a,b,c,d){var e;if(x(b)){var g=b.match(w),h=b.substring(g[0].length),i=g[1]||g[3],j="?"===g[2];if("^^"===i?c=c.parent():(e=d&&d[h],e=e&&e.instance),!e){var k="$"+h+"Controller";e=i?c.inheritedData(k):c.data(k)}if(!e&&!j)throw Qe("ctreq","Controller '{0}', required by directive '{1}', can't be found!",h,a)}else if(Td(b)){e=[];for(var l=0,m=b.length;l<m;l++)e[l]=Y(a,b[l],c,d)}else v(b)&&(e={},f(b,function(b,f){e[f]=Y(a,b,c,d)}));return e||null}function Z(a,b,c,d,e,f,g){var h=ra();for(var i in d){var j=d[i],k={$scope:j===g||j.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},l=j.controller;"@"==l&&(l=b[j.name]);var m=r(l,k,!0,j.controllerAs);h[j.name]=m,a.data("$"+j.name+"Controller",m.instance)}return h}function $(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=o(a[d],{$$isolateScope:b,$$newScope:c})}function aa(b,c,d,f,h,i,l){if(c===h)return null;var m=null;if(j.hasOwnProperty(c))for(var n,p=a.get(c+k),q=0,r=p.length;q<r;q++)try{if(n=p[q],(t(f)||f>n.priority)&&n.restrict.indexOf(d)!=-1){if(i&&(n=o(n,{$$start:i,$$end:l})),!n.$$bindings){var s=n.$$bindings=g(n,n.name);v(s.isolateScope)&&(n.$$isolateBindings=s.isolateScope)}b.push(n),m=n}}catch(u){e(u)}return m}function ba(b){if(j.hasOwnProperty(b))for(var c,d=a.get(b+k),e=0,f=d.length;e<f;e++)if(c=d[e],c.multiElement)return!0;return!1}function ca(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;f(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),f(b,function(b,f){"class"==f?(K(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function da(a,b,c,d,e,g,i,j){var k,l,m=[],n=b[0],p=a.shift(),q=o(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),r=A(p.templateUrl)?p.templateUrl(b,c):p.templateUrl,s=p.templateNamespace;return b.empty(),h(r).then(function(h){var o,t,u,w;if(h=xa(h),p.replace){if(u=ya(h)?[]:rb(ha(s,Vd(h))),o=u[0],1!=u.length||o.nodeType!==be)throw Qe("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,r);t={$attr:{}},la(d,b,o);var x=S(o,[],t);v(p.scope)&&$(x,!0),a=x.concat(a),ca(c,t)}else o=n,b.html(h);for(a.unshift(q),k=X(a,o,c,e,b,p,g,i,j),f(d,function(a,c){a==o&&(d[c]=b[0])}),l=P(b[0].childNodes,e);m.length;){var y=m.shift(),z=m.shift(),A=m.shift(),B=m.shift(),C=b[0];if(!y.$$destroyed){if(z!==n){var D=z.className;j.hasElementTranscludeDirective&&p.replace||(C=Ga(o)),la(A,Id(z),C),K(Id(C),D)}w=k.transcludeOnThisElement?Q(y,k.transclude,B):B,k(l,y,C,d,w)}}m=null}),function(a,b,c,d,e){var f=e;b.$$destroyed||(m?m.push(b,c,d,f):(k.transcludeOnThisElement&&(f=Q(b,k.transclude,e)),k(l,b,c,d,f)))}}function ea(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function fa(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw Qe("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,_(d))}function ga(a,b){var c=d(b,!0);c&&a.push({priority:0,compile:function(a){var b=a.parent(),d=!!b.length;return d&&L.$$addBindingClass(b),function(a,b){var e=b.parent();d||L.$$addBindingClass(e),L.$$addBindingInfo(e,c.expressions),a.$watch(c,function(a){b[0].nodeValue=a})}}})}function ha(a,c){switch(a=Dd(a||"html")){case"svg":case"math":var d=b.createElement("div");return d.innerHTML="<"+a+">"+c+"</"+a+">",d.childNodes[0].childNodes;default:return c}}function ia(a,b){if("srcdoc"==b)return z.HTML;var c=N(a);return"xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b)?z.RESOURCE_URL:void 0}function ja(a,b,c,e,f){var g=ia(a,e);f=s[e]||f;var h=d(c,!0,g,f);if(h){if("multiple"===e&&"select"===N(a))throw Qe("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",_(a));b.push({priority:100,compile:function(){return{pre:function(a,b,i){var j=i.$$observers||(i.$$observers=ra());if(y.test(e))throw Qe("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var k=i[e];k!==c&&(h=k&&d(k,!0,g,f),c=k),h&&(i[e]=h(a),(j[e]||(j[e]=[])).$$inter=!0,(i.$$observers&&i.$$observers[e].$$scope||a).$watch(h,function(a,b){"class"===e&&a!=b?i.$updateClass(a,b):i.$set(e,a)}))}}}})}}function la(a,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(a)for(e=0,f=a.length;e<f;e++)if(a[e]==g){a[e++]=d;for(var j=e,k=j+h-1,l=a.length;j<l;j++,k++)k<l?a[j]=a[k]:delete a[j];a.length-=h-1,a.context===g&&(a.context=d);break}i&&i.replaceChild(d,g);var m=b.createDocumentFragment();for(e=0;e<h;e++)m.appendChild(c[e]);for(Id.hasData(g)&&(Id.data(d,Id.data(g)),Id(g).off("$destroy")),Id.cleanData(m.querySelectorAll("*")),e=1;e<h;e++)delete c[e];c[0]=d,c.length=1}function na(a,b){return l(function(){return a.apply(null,arguments)},a,b)}function oa(a,b,c,d,f,g){try{a(b,c,d,f,g)}catch(h){e(h,_(c))}}function pa(a,b,e,g,h){function j(b,c,d){A(e.$onChanges)&&c!==d&&(qa||(a.$$postDigest(G),qa=[]),l||(l={},qa.push(k)),l[b]&&(d=l[b].previousValue),l[b]={previousValue:d,currentValue:c})}function k(){e.$onChanges(l),l=c}var l,m=[];return f(g,function(c,f){var g,k,l,n,o,q=c.attrName,r=c.optional,s=c.mode;switch(s){case"@":r||Cd.call(b,q)||(e[f]=b[q]=void 0),b.$observe(q,function(a){if(x(a)){var b=e[f];j(f,a,b),e[f]=a}}),b.$$observers[q].$$scope=a,g=b[q],x(g)?e[f]=d(g)(a):H(g)&&(e[f]=g);break;case"=":if(!Cd.call(b,q)){if(r)break;b[q]=void 0}if(r&&!b[q])break;k=i(b[q]),n=k.literal?R:function(a,b){return a===b||a!==a&&b!==b},l=k.assign||function(){throw g=e[f]=k(a),Qe("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",b[q],q,h.name)},g=e[f]=k(a);var t=function(b){return n(b,e[f])||(n(b,g)?l(a,b=e[f]):e[f]=b),g=b};t.$stateful=!0,o=c.collection?a.$watchCollection(b[q],t):a.$watch(i(b[q],t),null,k.literal),m.push(o);break;case"<":if(!Cd.call(b,q)){if(r)break;b[q]=void 0}if(r&&!b[q])break;k=i(b[q]),e[f]=k(a),o=a.$watch(k,function(a){var b=e[f];j(f,a,b),e[f]=a},k.literal),m.push(o);break;case"&":if(k=b.hasOwnProperty(q)?i(b[q]):p,k===p&&r)break;e[f]=function(b){return k(a,b)}}}),m.length&&function(){for(var a=0,b=m.length;a<b;++a)m[a]()}}var qa,sa=/^\w/,ta=b.createElement("div"),ua=C;I.prototype={$normalize:pb,$addClass:function(a){a&&a.length>0&&E.addClass(this.$$element,a)},$removeClass:function(a){a&&a.length>0&&E.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=qb(a,b);c&&c.length&&E.addClass(this.$$element,c);var d=qb(b,a);d&&d.length&&E.removeClass(this.$$element,d)},$set:function(a,b,c,d){var g,h=this.$$element[0],i=Va(h,a),j=Wa(a),k=a;if(i?(this.$$element.prop(a,b),d=i):j&&(this[j]=b,k=j),this[a]=b,d?this.$attr[a]=d:(d=this.$attr[a],d||(this.$attr[a]=d=ka(a,"-"))),g=N(this.$$element),"a"===g&&("href"===a||"xlinkHref"===a)||"img"===g&&"src"===a)this[a]=b=F(b,"src"===a);else if("img"===g&&"srcset"===a){for(var l="",m=Vd(b),n=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,o=/\s/.test(m)?n:/(,)/,p=m.split(o),q=Math.floor(p.length/2),r=0;r<q;r++){var s=2*r;l+=F(Vd(p[s]),!0),l+=" "+Vd(p[s+1])}var u=Vd(p[2*r]).split(/\s/);l+=F(Vd(u[0]),!0),2===u.length&&(l+=" "+Vd(u[1])),this[a]=b=l}c!==!1&&(null===b||t(b)?this.$$element.removeAttr(d):sa.test(d)?this.$$element.attr(d,b):J(this.$$element[0],d,b));var v=this.$$observers;v&&f(v[k],function(a){try{a(b)}catch(c){e(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=ra()),e=d[a]||(d[a]=[]);return e.push(b),u.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||t(c[a])||b(c[a])}),function(){O(e,b)}}};var va=d.startSymbol(),wa=d.endSymbol(),xa="{{"==va&&"}}"==wa?q:function(a){return a.replace(/\{\{/g,va).replace(/}}/g,wa)},za=/^ngAttr[A-Z]/,Aa=/^(.+)Start$/;return L.$$addBindingInfo=B?function(a,b){var c=a.data("$binding")||[];Td(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:p,L.$$addBindingClass=B?function(a){K(a,"ng-binding")}:p,L.$$addScopeInfo=B?function(a,b,c,d){var e=c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope";a.data(e,b)}:p,L.$$addScopeClass=B?function(a,b){K(a,b?"ng-isolate-scope":"ng-scope")}:p,L.$$createComment=function(a,c){var d="";return B&&(d=" "+(a||"")+": "+(c||"")+" "),b.createComment(d)},L}]}function pb(a){return xa(a.replace(Re,""))}function qb(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);a:for(var f=0;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(c.length>0?" ":"")+g}return c}function rb(a){a=Id(a);var b=a.length;if(b<=1)return a;for(;b--;){var c=a[b];c.nodeType===ee&&Md.call(a,b,1)}return a}function sb(a,b){if(b&&x(b))return b;if(x(a)){var c=Te.exec(a);if(c)return c[3]}}function tb(){var a={},b=!1;this.has=function(b){return a.hasOwnProperty(b)},this.register=function(b,c){oa(b,"controller"),v(b)?l(a,b):a[b]=c},this.allowGlobals=function(){b=!0},this.$get=["$injector","$window",function(e,f){function g(a,b,c,e){if(!a||!v(a.$scope))throw d("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",e,b);a.$scope[b]=c}return function(d,h,i,j){var k,m,n,o;if(i=i===!0,j&&x(j)&&(o=j),x(d)){if(m=d.match(Te),!m)throw Se("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",d);n=m[1],o=o||m[3],d=a.hasOwnProperty(n)?a[n]:pa(h.$scope,n,!0)||(b?pa(f,n,!0):c),na(d,n,!0)}if(i){var p=(Td(d)?d[d.length-1]:d).prototype;k=Object.create(p||null),o&&g(h,o,k,n||d.name);var q;return q=l(function(){var a=e.invoke(d,k,h,n);return a!==k&&(v(a)||A(a))&&(k=a,o&&g(h,o,k,n||d.name)),k},{instance:k,identifier:o})}return k=e.instantiate(d,h,n),o&&g(h,o,k,n||d.name),k}}]}function ub(){this.$get=["$window",function(a){return Id(a.document)}]}function vb(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}function wb(a){return v(a)?z(a)?a.toISOString():W(a):a}function xb(){this.$get=function(){return function(a){if(!a)return"";var b=[];return g(a,function(a,c){null===a||t(a)||(Td(a)?f(a,function(a){b.push(ea(c)+"="+ea(wb(a)))}):b.push(ea(c)+"="+ea(wb(a))))}),b.join("&")}}}function yb(){this.$get=function(){return function(a){function b(a,d,e){null===a||t(a)||(Td(a)?f(a,function(a,c){b(a,d+"["+(v(a)?c:"")+"]")}):v(a)&&!z(a)?g(a,function(a,c){b(a,d+(e?"":"[")+c+(e?"":"]"))}):c.push(ea(d)+"="+ea(wb(a))))}if(!a)return"";var c=[];return b(a,"",!0),c.join("&")}}}function zb(a,b){if(x(a)){var c=a.replace(Ze,"").trim();if(c){var d=b("Content-Type");(d&&0===d.indexOf(Ve)||Ab(c))&&(a=X(c))}}return a}function Ab(a){var b=a.match(Xe);return b&&Ye[b[0]].test(a)}function Bb(a){function b(a,b){a&&(d[a]=d[a]?d[a]+", "+b:b)}var c,d=ra();return x(a)?f(a.split("\n"),function(a){c=a.indexOf(":"),b(Dd(Vd(a.substr(0,c))),Vd(a.substr(c+1)))}):v(a)&&f(a,function(a,c){b(Dd(c),Vd(a))}),d}function Cb(a){var b;return function(c){if(b||(b=Bb(a)),c){var d=b[Dd(c)];return void 0===d&&(d=null),d}return b}}function Db(a,b,c,d){return A(d)?d(a,b,c):(f(d,function(d){a=d(a,b,c)}),a)}function Eb(a){return 200<=a&&a<300}function Fb(){var a=this.defaults={transformResponse:[zb],transformRequest:[function(a){return!v(a)||E(a)||G(a)||F(a)?a:W(a)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:Q(We),put:Q(We),patch:Q(We)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},b=!1;this.useApplyAsync=function(a){return u(a)?(b=!!a,this):b};var e=!0;this.useLegacyPromiseExtensions=function(a){return u(a)?(e=!!a,this):e};var g=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(h,i,j,k,m,n){function o(b){function g(a){var b=l({},a);return b.data=Db(a.data,a.headers,a.status,j.transformResponse),Eb(a.status)?b:m.reject(b)}function h(a,b){var c,d={};return f(a,function(a,e){A(a)?(c=a(b),null!=c&&(d[e]=c)):d[e]=a}),d}function i(b){var c,d,e,f=a.headers,g=l({},b.headers);f=l({},f.common,f[Dd(b.method)]);a:for(c in f){d=Dd(c);for(e in g)if(Dd(e)===d)continue a;g[c]=f[c]}return h(g,Q(b))}if(!v(b))throw d("$http")("badreq","Http request configuration must be an object.  Received: {0}",b);if(!x(b.url))throw d("$http")("badreq","Http request configuration url must be a string.  Received: {0}",b.url);var j=l({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},b);j.headers=i(b),j.method=Ed(j.method),j.paramSerializer=x(j.paramSerializer)?n.get(j.paramSerializer):j.paramSerializer;var k=function(b){var d=b.headers,e=Db(b.data,Cb(d),c,b.transformRequest);return t(e)&&f(d,function(a,b){"content-type"===Dd(b)&&delete d[b]}),t(b.withCredentials)&&!t(a.withCredentials)&&(b.withCredentials=a.withCredentials),r(b,e).then(g,g)},o=[k,c],p=m.when(j);for(f(y,function(a){(a.request||a.requestError)&&o.unshift(a.request,a.requestError),(a.response||a.responseError)&&o.push(a.response,a.responseError)});o.length;){var q=o.shift(),s=o.shift();p=p.then(q,s)}return e?(p.success=function(a){return na(a,"fn"),p.then(function(b){a(b.data,b.status,b.headers,j)}),p},p.error=function(a){return na(a,"fn"),p.then(null,function(b){a(b.data,b.status,b.headers,j)}),p}):(p.success=_e("success"),p.error=_e("error")),p}function p(a){f(arguments,function(a){o[a]=function(b,c){return o(l({},c||{},{method:a,url:b}))}})}function q(a){f(arguments,function(a){o[a]=function(b,c,d){return o(l({},d||{},{method:a,url:b,data:c}))}})}function r(d,e){function f(a,c,d,e){function f(){g(c,a,d,e)}n&&(Eb(a)?n.put(y,[a,c,Bb(d),e]):n.remove(y)),b?k.$applyAsync(f):(f(),k.$$phase||k.$apply())}function g(a,b,c,e){b=b>=-1?b:0,(Eb(b)?q.resolve:q.reject)({data:a,status:b,headers:Cb(c),config:d,statusText:e})}function j(a){g(a.data,a.status,Q(a.headers()),a.statusText)}function l(){var a=o.pendingRequests.indexOf(d);a!==-1&&o.pendingRequests.splice(a,1)}var n,p,q=m.defer(),r=q.promise,x=d.headers,y=s(d.url,d.paramSerializer(d.params));if(o.pendingRequests.push(d),r.then(l,l),!d.cache&&!a.cache||d.cache===!1||"GET"!==d.method&&"JSONP"!==d.method||(n=v(d.cache)?d.cache:v(a.cache)?a.cache:w),n&&(p=n.get(y),u(p)?I(p)?p.then(j,j):Td(p)?g(p[1],p[0],Q(p[2]),p[3]):g(p,200,{},"OK"):n.put(y,r)),t(p)){var z=Gc(d.url)?i()[d.xsrfCookieName||a.xsrfCookieName]:c;z&&(x[d.xsrfHeaderName||a.xsrfHeaderName]=z),h(d.method,y,e,f,x,d.timeout,d.withCredentials,d.responseType)}return r}function s(a,b){return b.length>0&&(a+=(a.indexOf("?")==-1?"?":"&")+b),a}var w=j("$http");a.paramSerializer=x(a.paramSerializer)?n.get(a.paramSerializer):a.paramSerializer;var y=[];return f(g,function(a){y.unshift(x(a)?n.get(a):n.invoke(a))}),o.pendingRequests=[],p("get","delete","head","jsonp"),q("post","put","patch"),o.defaults=a,o}]}function Gb(){this.$get=function(){return function(){return new a.XMLHttpRequest}}}function Hb(){this.$get=["$browser","$window","$document","$xhrFactory",function(a,b,c,d){return Ib(a,d,a.defer,b.angular.callbacks,c[0])}]}function Ib(a,b,c,d,e){function g(a,b,c){var f=e.createElement("script"),g=null;return f.type="text/javascript",f.src=a,f.async=!0,g=function(a){le(f,"load",g),le(f,"error",g),e.body.removeChild(f),f=null;var h=-1,i="unknown";a&&("load"!==a.type||d[b].called||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},ke(f,"load",g),ke(f,"error",g),e.body.appendChild(f),g}return function(e,h,i,j,k,l,m,n){function o(){s&&s(),v&&v.abort()}function q(b,d,e,f,g){u(y)&&c.cancel(y),s=v=null,b(d,e,f,g),a.$$completeOutstandingRequest(p)}if(a.$$incOutstandingRequestCount(),h=h||a.url(),"jsonp"==Dd(e)){var r="_"+(d.counter++).toString(36);d[r]=function(a){d[r].data=a,d[r].called=!0};var s=g(h.replace("JSON_CALLBACK","angular.callbacks."+r),r,function(a,b){q(j,a,d[r].data,"",b),d[r]=p})}else{var v=b(e,h);v.open(e,h,!0),f(k,function(a,b){u(a)&&v.setRequestHeader(b,a)}),v.onload=function(){var a=v.statusText||"",b="response"in v?v.response:v.responseText,c=1223===v.status?204:v.status;0===c&&(c=b?200:"file"==Fc(h).protocol?404:0),q(j,c,b,v.getAllResponseHeaders(),a)};var w=function(){q(j,-1,null,null,"")};if(v.onerror=w,v.onabort=w,m&&(v.withCredentials=!0),n)try{v.responseType=n}catch(x){if("json"!==n)throw x}v.send(t(i)?null:i)}if(l>0)var y=c(o,l);else I(l)&&l.then(o)}}function Jb(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(n,a).replace(o,b)}function h(a){if(null==a)return"";switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=W(a)}return a}function i(a,b,c,d){var e;return e=a.$watch(function(a){return e(),d(a)},b,c)}function j(f,j,n,o){function p(a){try{return a=G(a),o&&!u(a)?a:h(a)}catch(b){d(af.interr(f,b))}}if(!f.length||f.indexOf(a)===-1){var q;if(!j){var s=g(f);q=r(s),q.exp=f,q.expressions=[],q.$$watchDelegate=i}return q}o=!!o;for(var v,w,x,y=0,z=[],B=[],C=f.length,D=[],E=[];y<C;){if((v=f.indexOf(a,y))==-1||(w=f.indexOf(b,v+k))==-1){y!==C&&D.push(g(f.substring(y)));break}y!==v&&D.push(g(f.substring(y,v))),x=f.substring(v+k,w),z.push(x),B.push(c(x,p)),y=w+m,E.push(D.length),D.push("")}if(n&&D.length>1&&af.throwNoconcat(f),!j||z.length){var F=function(a){for(var b=0,c=z.length;b<c;b++){if(o&&t(a[b]))return;D[E[b]]=a[b]}return D.join("")},G=function(a){return n?e.getTrusted(n,a):e.valueOf(a)};return l(function(a){var b=0,c=z.length,e=new Array(c);try{for(;b<c;b++)e[b]=B[b](a);return F(e)}catch(g){d(af.interr(f,g))}},{exp:f,expressions:z,$$watchDelegate:function(a,b){var c;return a.$watchGroup(B,function(d,e){var f=F(d);A(b)&&b.call(this,f,d!==e?c:f,a),c=f})}})}}var k=a.length,m=b.length,n=new RegExp(a.replace(/./g,f),"g"),o=new RegExp(b.replace(/./g,f),"g");return j.startSymbol=function(){return a},j.endSymbol=function(){return b},j}]}function Kb(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(a,b,c,d,e){function f(f,h,i,j){function k(){l?f.apply(null,m):f(p)}var l=arguments.length>4,m=l?T(arguments,4):[],n=b.setInterval,o=b.clearInterval,p=0,q=u(j)&&!j,r=(q?d:c).defer(),s=r.promise;return i=u(i)?i:0,s.$$intervalId=n(function(){q?e.defer(k):a.$evalAsync(k),r.notify(p++),i>0&&p>=i&&(r.resolve(p),o(s.$$intervalId),delete g[s.$$intervalId]),q||a.$apply()},h),g[s.$$intervalId]=r,s}var g={};return f.cancel=function(a){return!!(a&&a.$$intervalId in g)&&(g[a.$$intervalId].reject("canceled"),
b.clearInterval(a.$$intervalId),delete g[a.$$intervalId],!0)},f}]}function Lb(a){for(var b=a.split("/"),c=b.length;c--;)b[c]=da(b[c]);return b.join("/")}function Mb(a,b){var c=Fc(a);b.$$protocol=c.protocol,b.$$host=c.hostname,b.$$port=n(c.port)||cf[c.protocol]||null}function Nb(a,b){var c="/"!==a.charAt(0);c&&(a="/"+a);var d=Fc(a);b.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname),b.$$search=ba(d.search),b.$$hash=decodeURIComponent(d.hash),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function Ob(a,b){if(0===b.indexOf(a))return b.substr(a.length)}function Pb(a){var b=a.indexOf("#");return b==-1?a:a.substr(0,b)}function Qb(a){return a.replace(/(#.+)|#$/,"$1")}function Rb(a){return a.substr(0,Pb(a).lastIndexOf("/")+1)}function Sb(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function Tb(a,b,c){this.$$html5=!0,c=c||"",Mb(a,this),this.$$parse=function(a){var c=Ob(b,a);if(!x(c))throw df("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',a,b);Nb(c,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=ca(this.$$search),c=this.$$hash?"#"+da(this.$$hash):"";this.$$url=Lb(this.$$path)+(a?"?"+a:"")+c,this.$$absUrl=b+this.$$url.substr(1)},this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g,h;return u(f=Ob(a,d))?(g=f,h=u(f=Ob(c,f))?b+(Ob("/",f)||f):a+g):u(f=Ob(b,d))?h=b+f:b==d+"/"&&(h=b),h&&this.$$parse(h),!!h}}function Ub(a,b,c){Mb(a,this),this.$$parse=function(d){function e(a,b,c){var d,e=/^\/[A-Z]:(\/.*)/;return 0===b.indexOf(c)&&(b=b.replace(c,"")),e.exec(b)?a:(d=e.exec(a),d?d[1]:a)}var f,g=Ob(a,d)||Ob(b,d);t(g)||"#"!==g.charAt(0)?this.$$html5?f=g:(f="",t(g)&&(a=d,this.replace())):(f=Ob(c,g),t(f)&&(f=g)),Nb(f,this),this.$$path=e(this.$$path,f,a),this.$$compose()},this.$$compose=function(){var b=ca(this.$$search),d=this.$$hash?"#"+da(this.$$hash):"";this.$$url=Lb(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+(this.$$url?c+this.$$url:"")},this.$$parseLinkUrl=function(b,c){return Pb(a)==Pb(b)&&(this.$$parse(b),!0)}}function Vb(a,b,c){this.$$html5=!0,Ub.apply(this,arguments),this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a==Pb(d)?f=d:(g=Ob(b,d))?f=a+c+g:b===d+"/"&&(f=b),f&&this.$$parse(f),!!f},this.$$compose=function(){var b=ca(this.$$search),d=this.$$hash?"#"+da(this.$$hash):"";this.$$url=Lb(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+c+this.$$url}}function Wb(a){return function(){return this[a]}}function Xb(a,b){return function(c){return t(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function Yb(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return u(b)?(a=b,this):a},this.html5Mode=function(a){return H(a)?(b.enabled=a,this):v(a)?(H(a.enabled)&&(b.enabled=a.enabled),H(a.requireBase)&&(b.requireBase=a.requireBase),H(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=j.url(),f=j.$$state;try{d.url(a,b,c),j.$$state=d.state()}catch(g){throw j.url(e),j.$$state=f,g}}function i(a,b){c.$broadcast("$locationChangeSuccess",j.absUrl(),a,j.$$state,b)}var j,k,l,m=d.baseHref(),n=d.url();if(b.enabled){if(!m&&b.requireBase)throw df("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=Sb(n)+(m||"/"),k=e.history?Tb:Vb}else l=Pb(n),k=Ub;var o=Rb(l);j=new k(l,o,"#"+a),j.$$parseLinkUrl(n,n),j.$$state=d.state();var p=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!=a.which&&2!=a.button){for(var e=Id(a.target);"a"!==N(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),i=e.attr("href")||e.attr("xlink:href");v(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=Fc(h.animVal).href),p.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||j.$$parseLinkUrl(h,i)&&(a.preventDefault(),j.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}),Qb(j.absUrl())!=Qb(n)&&d.url(j.absUrl(),!0);var q=!0;return d.onUrlChange(function(a,b){return t(Ob(o,a))?void(g.location.href=a):(c.$evalAsync(function(){var d,e=j.absUrl(),f=j.$$state;a=Qb(a),j.$$parse(a),j.$$state=b,d=c.$broadcast("$locationChangeStart",a,e,b,f).defaultPrevented,j.absUrl()===a&&(d?(j.$$parse(e),j.$$state=f,h(e,!1,f)):(q=!1,i(e,f)))}),void(c.$$phase||c.$digest()))}),c.$watch(function(){var a=Qb(d.url()),b=Qb(j.absUrl()),f=d.state(),g=j.$$replace,k=a!==b||j.$$html5&&e.history&&f!==j.$$state;(q||k)&&(q=!1,c.$evalAsync(function(){var b=j.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,j.$$state,f).defaultPrevented;j.absUrl()===b&&(d?(j.$$parse(a),j.$$state=f):(k&&h(b,g,f===j.$$state?null:j.$$state),i(a,f)))})),j.$$replace=!1}),j}]}function Zb(){var a=!0,b=this;this.debugEnabled=function(b){return u(b)?(a=b,this):a},this.$get=["$window",function(c){function d(a){return a instanceof Error&&(a.stack?a=a.message&&a.stack.indexOf(a.message)===-1?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||p,g=!1;try{g=!!e.apply}catch(h){}return g?function(){var a=[];return f(arguments,function(b){a.push(d(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function $b(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw ff("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",b);return a}function _b(a){return a+""}function ac(a,b){if(a){if(a.constructor===a)throw ff("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a.window===a)throw ff("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw ff("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b);if(a===Object)throw ff("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",b)}return a}function bc(a,b){if(a){if(a.constructor===a)throw ff("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a===gf||a===hf||a===jf)throw ff("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",b)}}function cc(a,b){if(a&&(a===(0).constructor||a===(!1).constructor||a==="".constructor||a==={}.constructor||a===[].constructor||a===Function.constructor))throw ff("isecaf","Assigning to a constructor is disallowed! Expression: {0}",b)}function dc(a,b){return"undefined"!=typeof a?a:b}function ec(a,b){return"undefined"==typeof a?b:"undefined"==typeof b?a:a+b}function fc(a,b){var c=a(b);return!c.$stateful}function gc(a,b){var c,d;switch(a.type){case nf.Program:c=!0,f(a.body,function(a){gc(a.expression,b),c=c&&a.expression.constant}),a.constant=c;break;case nf.Literal:a.constant=!0,a.toWatch=[];break;case nf.UnaryExpression:gc(a.argument,b),a.constant=a.argument.constant,a.toWatch=a.argument.toWatch;break;case nf.BinaryExpression:gc(a.left,b),gc(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case nf.LogicalExpression:gc(a.left,b),gc(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.constant?[]:[a];break;case nf.ConditionalExpression:gc(a.test,b),gc(a.alternate,b),gc(a.consequent,b),a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant,a.toWatch=a.constant?[]:[a];break;case nf.Identifier:a.constant=!1,a.toWatch=[a];break;case nf.MemberExpression:gc(a.object,b),a.computed&&gc(a.property,b),a.constant=a.object.constant&&(!a.computed||a.property.constant),a.toWatch=[a];break;case nf.CallExpression:c=!!a.filter&&fc(b,a.callee.name),d=[],f(a.arguments,function(a){gc(a,b),c=c&&a.constant,a.constant||d.push.apply(d,a.toWatch)}),a.constant=c,a.toWatch=a.filter&&fc(b,a.callee.name)?d:[a];break;case nf.AssignmentExpression:gc(a.left,b),gc(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=[a];break;case nf.ArrayExpression:c=!0,d=[],f(a.elements,function(a){gc(a,b),c=c&&a.constant,a.constant||d.push.apply(d,a.toWatch)}),a.constant=c,a.toWatch=d;break;case nf.ObjectExpression:c=!0,d=[],f(a.properties,function(a){gc(a.value,b),c=c&&a.value.constant,a.value.constant||d.push.apply(d,a.value.toWatch)}),a.constant=c,a.toWatch=d;break;case nf.ThisExpression:a.constant=!1,a.toWatch=[];break;case nf.LocalsExpression:a.constant=!1,a.toWatch=[]}}function hc(a){if(1==a.length){var b=a[0].expression,d=b.toWatch;return 1!==d.length?d:d[0]!==b?d:c}}function ic(a){return a.type===nf.Identifier||a.type===nf.MemberExpression}function jc(a){if(1===a.body.length&&ic(a.body[0].expression))return{type:nf.AssignmentExpression,left:a.body[0].expression,right:{type:nf.NGValueParameter},operator:"="}}function kc(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===nf.Literal||a.body[0].expression.type===nf.ArrayExpression||a.body[0].expression.type===nf.ObjectExpression)}function lc(a){return a.constant}function mc(a,b){this.astBuilder=a,this.$filter=b}function nc(a,b){this.astBuilder=a,this.$filter=b}function oc(a){return"constructor"==a}function pc(a){return A(a.valueOf)?a.valueOf():pf.call(a)}function qc(){var a=ra(),b=ra(),d={"true":!0,"false":!1,"null":null,undefined:c};this.addLiteral=function(a,b){d[a]=b},this.$get=["$filter",function(e){function g(c,d,f){var g,i,o;switch(f=f||s,typeof c){case"string":c=c.trim(),o=c;var t=f?b:a;if(g=t[o],!g){":"===c.charAt(0)&&":"===c.charAt(1)&&(i=!0,c=c.substring(2));var u=f?r:q,v=new mf(u),w=new of(v,e,u);g=w.parse(c),g.constant?g.$$watchDelegate=m:i?g.$$watchDelegate=g.literal?l:k:g.inputs&&(g.$$watchDelegate=j),f&&(g=h(g)),t[o]=g}return n(g,d);case"function":return n(c,d);default:return n(p,d)}}function h(a){function b(b,c,d,e){var f=s;s=!0;try{return a(b,c,d,e)}finally{s=f}}if(!a)return a;b.$$watchDelegate=a.$$watchDelegate,b.assign=h(a.assign),b.constant=a.constant,b.literal=a.literal;for(var c=0;a.inputs&&c<a.inputs.length;++c)a.inputs[c]=h(a.inputs[c]);return b.inputs=a.inputs,b}function i(a,b){return null==a||null==b?a===b:("object"!=typeof a||(a=pc(a),"object"!=typeof a))&&(a===b||a!==a&&b!==b)}function j(a,b,d,e,f){var g,h=e.inputs;if(1===h.length){var j=i;return h=h[0],a.$watch(function(a){var b=h(a);return i(b,j)||(g=e(a,c,c,[b]),j=b&&pc(b)),g},b,d,f)}for(var k=[],l=[],m=0,n=h.length;m<n;m++)k[m]=i,l[m]=null;return a.$watch(function(a){for(var b=!1,d=0,f=h.length;d<f;d++){var j=h[d](a);(b||(b=!i(j,k[d])))&&(l[d]=j,k[d]=j&&pc(j))}return b&&(g=e(a,c,c,l)),g},b,d,f)}function k(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,A(b)&&b.apply(this,arguments),u(a)&&d.$$postDigest(function(){u(f)&&e()})},c)}function l(a,b,c,d){function e(a){var b=!0;return f(a,function(a){u(a)||(b=!1)}),b}var g,h;return g=a.$watch(function(a){return d(a)},function(a,c,d){h=a,A(b)&&b.call(this,a,c,d),e(a)&&d.$$postDigest(function(){e(h)&&g()})},c)}function m(a,b,c,d){var e;return e=a.$watch(function(a){return e(),d(a)},b,c)}function n(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1,e=c!==l&&c!==k,f=e?function(c,e,f,g){var h=d&&g?g[0]:a(c,e,f,g);return b(h,c,e)}:function(c,d,e,f){var g=a(c,d,e,f),h=b(g,c,d);return u(g)?h:g};return a.$$watchDelegate&&a.$$watchDelegate!==j?f.$$watchDelegate=a.$$watchDelegate:b.$stateful||(f.$$watchDelegate=j,d=!a.inputs,f.inputs=a.inputs?a.inputs:[a]),f}var o=Xd().noUnsafeEval,q={csp:o,expensiveChecks:!1,literals:P(d)},r={csp:o,expensiveChecks:!0,literals:P(d)},s=!1;return g.$$runningExpensiveChecks=function(){return s},g}]}function rc(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return tc(function(b){a.$evalAsync(b)},b)}]}function sc(){this.$get=["$browser","$exceptionHandler",function(a,b){return tc(function(b){a.defer(b)},b)}]}function tc(a,b){function e(){this.$$state={status:0}}function g(a,b){return function(c){b.call(a,c)}}function h(a){var d,e,f;f=a.pending,a.processScheduled=!1,a.pending=c;for(var g=0,h=f.length;g<h;++g){e=f[g][0],d=f[g][a.status];try{A(d)?e.resolve(d(a.value)):1===a.status?e.resolve(a.value):e.reject(a.value)}catch(i){e.reject(i),b(i)}}}function i(b){!b.processScheduled&&b.pending&&(b.processScheduled=!0,a(function(){h(b)}))}function j(){this.promise=new e}function k(a){var b=new j,c=0,d=Td(a)?[]:{};return f(a,function(a,e){c++,r(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise}var m=d("$q",TypeError),n=function(){var a=new j;return a.resolve=g(a,a.resolve),a.reject=g(a,a.reject),a.notify=g(a,a.notify),a};l(e.prototype,{then:function(a,b,c){if(t(a)&&t(b)&&t(c))return this;var d=new j;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),this.$$state.status>0&&i(this.$$state),d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return q(b,!0,a)},function(b){return q(b,!1,a)},b)}}),l(j.prototype,{resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(m("qcycle","Expected promise to be resolved with value other than itself '{0}'",a)):this.$$resolve(a))},$$resolve:function(a){function c(a){h||(h=!0,f.$$resolve(a))}function d(a){h||(h=!0,f.$$reject(a))}var e,f=this,h=!1;try{(v(a)||A(a))&&(e=a&&a.then),A(e)?(this.promise.$$state.status=-1,e.call(a,c,d,g(this,this.notify))):(this.promise.$$state.value=a,this.promise.$$state.status=1,i(this.promise.$$state))}catch(j){d(j),b(j)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a,this.promise.$$state.status=2,i(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;this.promise.$$state.status<=0&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;f<g;f++){e=d[f][0],a=d[f][3];try{e.notify(A(a)?a(c):c)}catch(h){b(h)}}})}});var o=function(a){var b=new j;return b.reject(a),b.promise},p=function(a,b){var c=new j;return b?c.resolve(a):c.reject(a),c.promise},q=function(a,b,c){var d=null;try{A(c)&&(d=c())}catch(e){return p(e,!1)}return I(d)?d.then(function(){return p(a,b)},function(a){return p(a,!1)}):p(a,b)},r=function(a,b,c,d){var e=new j;return e.resolve(a),e.promise.then(b,c,d)},s=r,u=function(a){function b(a){d.resolve(a)}function c(a){d.reject(a)}if(!A(a))throw m("norslvr","Expected resolverFn, got '{0}'",a);var d=new j;return a(b,c),d.promise};return u.prototype=e.prototype,u.defer=n,u.reject=o,u.when=r,u.resolve=s,u.all=k,u}function uc(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function vc(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=i(),this.$$ChildScope=null}return b.prototype=a,b}var b=10,c=d("$rootScope"),g=null,h=null;this.digestTtl=function(a){return arguments.length&&(b=a),b},this.$get=["$exceptionHandler","$parse","$browser",function(d,j,k){function l(a){a.currentScope.$$destroyed=!0}function m(a){9===Hd&&(a.$$childHead&&m(a.$$childHead),a.$$nextSibling&&m(a.$$nextSibling)),a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function n(){this.$id=i(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function o(a){if(y.$$phase)throw c("inprog","{0} already in progress",y.$$phase);y.$$phase=a}function q(){y.$$phase=null}function r(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function s(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function u(){}function w(){for(;C.length;)try{C.shift()()}catch(a){d(a)}h=null}function x(){null===h&&(h=k.defer(function(){y.$apply(w)}))}n.prototype={constructor:n,$new:function(b,c){var d;return c=c||this,b?(d=new n,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(b||c!=this)&&d.$on("$destroy",l),d},$watch:function(a,b,c,d){var e=j(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,c,e,a);var f=this,h=f.$$watchers,i={fn:b,last:u,get:e,exp:d||a,eq:!!c};return g=null,A(b)||(i.fn=p),h||(h=f.$$watchers=[]),h.unshift(i),r(this,1),function(){O(h,i)>=0&&r(f,-1),g=null}},$watchGroup:function(a,b){function c(){i=!1,j?(j=!1,b(e,e,h)):b(e,d,h)}var d=new Array(a.length),e=new Array(a.length),g=[],h=this,i=!1,j=!0;if(!a.length){var k=!0;return h.$evalAsync(function(){k&&b(e,e,h)}),function(){k=!1}}return 1===a.length?this.$watch(a[0],function(a,c,f){e[0]=a,d[0]=c,b(e,a===c?e:d,f)}):(f(a,function(a,b){var f=h.$watch(a,function(a,f){e[b]=a,d[b]=f,i||(i=!0,h.$evalAsync(c))});g.push(f)}),function(){for(;g.length;)g.shift()()})},$watchCollection:function(a,b){function c(a){f=a;var b,c,d,h,i;if(!t(f)){if(v(f))if(e(f)){g!==n&&(g=n,q=g.length=0,l++),b=f.length,q!==b&&(l++,g.length=q=b);for(var j=0;j<b;j++)i=g[j],h=f[j],d=i!==i&&h!==h,d||i===h||(l++,g[j]=h)}else{g!==o&&(g=o={},q=0,l++),b=0;for(c in f)Cd.call(f,c)&&(b++,h=f[c],i=g[c],c in g?(d=i!==i&&h!==h,d||i===h||(l++,g[c]=h)):(q++,g[c]=h,l++));if(q>b){l++;for(c in g)Cd.call(f,c)||(q--,delete g[c])}}else g!==f&&(g=f,l++);return l}}function d(){if(p?(p=!1,b(f,f,i)):b(f,h,i),k)if(v(f))if(e(f)){h=new Array(f.length);for(var a=0;a<f.length;a++)h[a]=f[a]}else{h={};for(var c in f)Cd.call(f,c)&&(h[c]=f[c])}else h=f}c.$stateful=!0;var f,g,h,i=this,k=b.length>1,l=0,m=j(a,c),n=[],o={},p=!0,q=0;return this.$watch(m,d)},$digest:function(){var a,e,f,i,j,l,m,n,p,r,s,t,v=b,x=this,C=[];o("$digest"),k.$$checkUrlChange(),this===y&&null!==h&&(k.defer.cancel(h),w()),g=null;do{for(n=!1,r=x;z.length;){try{t=z.shift(),t.scope.$eval(t.expression,t.locals)}catch(D){d(D)}g=null}a:do{if(l=r.$$watchers)for(m=l.length;m--;)try{if(a=l[m])if(j=a.get,(e=j(r))===(f=a.last)||(a.eq?R(e,f):"number"==typeof e&&"number"==typeof f&&isNaN(e)&&isNaN(f))){if(a===g){n=!1;break a}}else n=!0,g=a,a.last=a.eq?P(e,null):e,i=a.fn,i(e,f===u?e:f,r),v<5&&(s=4-v,C[s]||(C[s]=[]),C[s].push({msg:A(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:e,oldVal:f}))}catch(D){d(D)}if(!(p=r.$$watchersCount&&r.$$childHead||r!==x&&r.$$nextSibling))for(;r!==x&&!(p=r.$$nextSibling);)r=r.$parent}while(r=p);if((n||z.length)&&!v--)throw q(),c("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",b,C)}while(n||z.length);for(q();B.length;)try{B.shift()()}catch(D){d(D)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===y&&k.$$applicationDestroyed(),r(this,-this.$$watchersCount);for(var b in this.$$listenerCount)s(this,this.$$listenerCount[b],b);a&&a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a&&a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$$nextSibling=null,m(this)}},$eval:function(a,b){return j(a)(this,b)},$evalAsync:function(a,b){y.$$phase||z.length||k.defer(function(){z.length&&y.$digest()}),z.push({scope:this,expression:j(a),locals:b})},$$postDigest:function(a){B.push(a)},$apply:function(a){try{o("$apply");try{return this.$eval(a)}finally{q()}}catch(b){d(b)}finally{try{y.$digest()}catch(b){throw d(b),b}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&C.push(b),a=j(a),x()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);d!==-1&&(c[d]=null,s(e,1,a))}},$emit:function(a,b){var c,e,f,g=[],h=this,i=!1,j={name:a,targetScope:h,stopPropagation:function(){i=!0},preventDefault:function(){j.defaultPrevented=!0},defaultPrevented:!1},k=S([j],arguments,1);do{for(c=h.$$listeners[a]||g,j.currentScope=h,e=0,f=c.length;e<f;e++)if(c[e])try{c[e].apply(null,k)}catch(l){d(l)}else c.splice(e,1),e--,f--;if(i)return j.currentScope=null,j;h=h.$parent}while(h);return j.currentScope=null,j},$broadcast:function(a,b){var c=this,e=c,f=c,g={name:a,targetScope:c,preventDefault:function(){g.defaultPrevented=!0},defaultPrevented:!1};if(!c.$$listenerCount[a])return g;for(var h,i,j,k=S([g],arguments,1);e=f;){for(g.currentScope=e,h=e.$$listeners[a]||[],i=0,j=h.length;i<j;i++)if(h[i])try{h[i].apply(null,k)}catch(l){d(l)}else h.splice(i,1),i--,j--;if(!(f=e.$$listenerCount[a]&&e.$$childHead||e!==c&&e.$$nextSibling))for(;e!==c&&!(f=e.$$nextSibling);)e=e.$parent}return g.currentScope=null,g}};var y=new n,z=y.$$asyncQueue=[],B=y.$$postDigestQueue=[],C=y.$$applyAsyncQueue=[];return y}]}function wc(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return u(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return u(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e,f=d?b:a;return e=Fc(c).href,""===e||e.match(f)?c:"unsafe:"+e}}}function xc(a){if("self"===a)return a;if(x(a)){if(a.indexOf("***")>-1)throw qf("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);return a=Wd(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(B(a))return new RegExp("^"+a.source+"$");throw qf("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function yc(a){var b=[];return u(a)&&f(a,function(a){b.push(xc(a))}),b}function zc(){this.SCE_CONTEXTS=rf;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=yc(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=yc(a)),b},this.$get=["$injector",function(c){function d(a,b){return"self"===a?Gc(b):!!a.exec(b.href)}function e(c){var e,f,g=Fc(c.toString()),h=!1;for(e=0,f=a.length;e<f;e++)if(d(a[e],g)){h=!0;break}if(h)for(e=0,f=b.length;e<f;e++)if(d(b[e],g)){h=!1;break}return h}function f(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}function g(a,b){var c=l.hasOwnProperty(a)?l[a]:null;if(!c)throw qf("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b);if(null===b||t(b)||""===b)return b;if("string"!=typeof b)throw qf("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new c(b)}function h(a){return a instanceof k?a.$$unwrapTrustedValue():a}function i(a,b){if(null===b||t(b)||""===b)return b;var c=l.hasOwnProperty(a)?l[a]:null;if(c&&b instanceof c)return b.$$unwrapTrustedValue();if(a===rf.RESOURCE_URL){if(e(b))return b;throw qf("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}if(a===rf.HTML)return j(b);throw qf("unsafe","Attempting to use an unsafe value in a safe context.")}var j=function(a){throw qf("unsafe","Attempting to use an unsafe value in a safe context.")};c.has("$sanitize")&&(j=c.get("$sanitize"));var k=f(),l={};return l[rf.HTML]=f(k),l[rf.CSS]=f(k),l[rf.URL]=f(k),l[rf.JS]=f(k),l[rf.RESOURCE_URL]=f(l[rf.URL]),{trustAs:g,getTrusted:i,valueOf:h}}]}function Ac(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,c){if(a&&Hd<8)throw qf("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var d=Q(rf);d.isEnabled=function(){return a},d.trustAs=c.trustAs,d.getTrusted=c.getTrusted,d.valueOf=c.valueOf,a||(d.trustAs=d.getTrusted=function(a,b){return b},d.valueOf=q),d.parseAs=function(a,c){var e=b(c);return e.literal&&e.constant?e:b(c,function(b){return d.getTrusted(a,b)})};var e=d.parseAs,g=d.getTrusted,h=d.trustAs;return f(rf,function(a,b){var c=Dd(b);d[xa("parse_as_"+c)]=function(b){return e(a,b)},d[xa("get_trusted_"+c)]=function(b){return g(a,b)},d[xa("trust_as_"+c)]=function(b){return h(a,b)}}),d}]}function Bc(){this.$get=["$window","$document",function(a,b){var c,d,e={},f=a.chrome&&a.chrome.app&&a.chrome.app.runtime,g=!f&&a.history&&a.history.pushState,h=n((/android (\d+)/.exec(Dd((a.navigator||{}).userAgent))||[])[1]),i=/Boxee/i.test((a.navigator||{}).userAgent),j=b[0]||{},k=/^(Moz|webkit|ms)(?=[A-Z])/,l=j.body&&j.body.style,m=!1,o=!1;if(l){for(var p in l)if(d=k.exec(p)){c=d[0],c=c.substr(0,1).toUpperCase()+c.substr(1);break}c||(c="WebkitOpacity"in l&&"webkit"),m=!!("transition"in l||c+"Transition"in l),o=!!("animation"in l||c+"Animation"in l),!h||m&&o||(m=x(l.webkitTransition),o=x(l.webkitAnimation))}return{history:!(!g||h<4||i),hasEvent:function(a){if("input"===a&&Hd<=11)return!1;if(t(e[a])){var b=j.createElement("div");e[a]="on"+a in b}return e[a]},csp:Xd(),vendorPrefix:c,transitions:m,animations:o,android:h}}]}function Cc(){var a;this.httpOptions=function(b){return b?(a=b,this):a},this.$get=["$templateCache","$http","$q","$sce",function(b,c,d,e){function f(g,h){function i(a){if(!h)throw sf("tpload","Failed to load template: {0} (HTTP status: {1} {2})",g,a.status,a.statusText);return d.reject(a)}f.totalPendingRequests++,x(g)&&b.get(g)||(g=e.getTrustedResourceUrl(g));var j=c.defaults&&c.defaults.transformResponse;return Td(j)?j=j.filter(function(a){return a!==zb}):j===zb&&(j=null),c.get(g,l({cache:b,transformResponse:j},a))["finally"](function(){f.totalPendingRequests--}).then(function(a){return b.put(g,a.data),a.data},i)}return f.totalPendingRequests=0,f}]}function Dc(){this.$get=["$rootScope","$browser","$location",function(a,b,c){var d={};return d.findBindings=function(a,b,c){var d=a.getElementsByClassName("ng-binding"),e=[];return f(d,function(a){var d=Rd.element(a).data("$binding");d&&f(d,function(d){if(c){var f=new RegExp("(^|\\s)"+Wd(b)+"(\\s|\\||$)");f.test(d)&&e.push(a)}else d.indexOf(b)!=-1&&e.push(a)})}),e},d.findModels=function(a,b,c){for(var d=["ng-","data-ng-","ng\\:"],e=0;e<d.length;++e){var f=c?"=":"*=",g="["+d[e]+"model"+f+'"'+b+'"]',h=a.querySelectorAll(g);if(h.length)return h}},d.getLocation=function(){return c.url()},d.setLocation=function(b){b!==c.url()&&(c.url(b),a.$digest())},d.whenStable=function(a){b.notifyWhenNoOutstandingRequests(a)},d}]}function Ec(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,c,d,e){function f(f,h,i){A(f)||(i=h,h=f,f=p);var j,k=T(arguments,3),l=u(i)&&!i,m=(l?d:c).defer(),n=m.promise;return j=b.defer(function(){try{m.resolve(f.apply(null,k))}catch(b){m.reject(b),e(b)}finally{delete g[n.$$timeoutId]}l||a.$apply()},h),n.$$timeoutId=j,g[j]=m,n}var g={};return f.cancel=function(a){return!!(a&&a.$$timeoutId in g)&&(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId))},f}]}function Fc(a){var b=a;return Hd&&(tf.setAttribute("href",b),b=tf.href),tf.setAttribute("href",b),{href:tf.href,protocol:tf.protocol?tf.protocol.replace(/:$/,""):"",host:tf.host,search:tf.search?tf.search.replace(/^\?/,""):"",hash:tf.hash?tf.hash.replace(/^#/,""):"",hostname:tf.hostname,port:tf.port,pathname:"/"===tf.pathname.charAt(0)?tf.pathname:"/"+tf.pathname}}function Gc(a){var b=x(a)?Fc(a):a;return b.protocol===uf.protocol&&b.host===uf.host}function Hc(){this.$get=r(a)}function Ic(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var c=a[0]||{},d={},e="";return function(){var a,f,g,h,i,j=c.cookie||"";if(j!==e)for(e=j,a=e.split("; "),d={},g=0;g<a.length;g++)f=a[g],h=f.indexOf("="),h>0&&(i=b(f.substring(0,h)),t(d[i])&&(d[i]=b(f.substring(h+1))));return d}}function Jc(){this.$get=Ic}function Kc(a){function b(d,e){if(v(d)){var g={};return f(d,function(a,c){g[c]=b(c,a)}),g}return a.factory(d+c,e)}var c="Filter";this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],b("currency",Pc),b("date",cd),b("filter",Lc),b("json",dd),b("limitTo",ed),b("lowercase",Bf),b("number",Qc),b("orderBy",fd),b("uppercase",Cf)}function Lc(){return function(a,b,c){if(!e(a)){if(null==a)return a;throw d("filter")("notarray","Expected array but received: {0}",a)}var f,g,h=Oc(b);switch(h){case"function":f=b;break;case"boolean":case"null":case"number":case"string":g=!0;case"object":f=Mc(b,c,g);break;default:return a}return Array.prototype.filter.call(a,f)}}function Mc(a,b,c){var d,e=v(a)&&"$"in a;return b===!0?b=R:A(b)||(b=function(a,b){return!t(a)&&(null===a||null===b?a===b:!(v(b)||v(a)&&!s(a))&&(a=Dd(""+a),b=Dd(""+b),a.indexOf(b)!==-1))}),d=function(d){return e&&!v(d)?Nc(d,a.$,b,!1):Nc(d,a,b,c)}}function Nc(a,b,c,d,e){var f=Oc(a),g=Oc(b);if("string"===g&&"!"===b.charAt(0))return!Nc(a,b.substring(1),c,d);if(Td(a))return a.some(function(a){return Nc(a,b,c,d)});switch(f){case"object":var h;if(d){for(h in a)if("$"!==h.charAt(0)&&Nc(a[h],b,c,!0))return!0;return!e&&Nc(a,b,c,!1)}if("object"===g){for(h in b){var i=b[h];if(!A(i)&&!t(i)){var j="$"===h,k=j?a:a[h];if(!Nc(k,i,c,j,j))return!1}}return!0}return c(a,b);case"function":return!1;default:return c(a,b)}}function Oc(a){return null===a?"null":typeof a}function Pc(a){var b=a.NUMBER_FORMATS;return function(a,c,d){return t(c)&&(c=b.CURRENCY_SYM),t(d)&&(d=b.PATTERNS[1].maxFrac),null==a?a:Tc(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,d).replace(/\u00A4/g,c)}}function Qc(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Tc(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Rc(a){var b,c,d,e,f,g=0;for((c=a.indexOf(wf))>-1&&(a=a.replace(wf,"")),(d=a.search(/e/i))>0?(c<0&&(c=d),c+=+a.slice(d+1),a=a.substring(0,d)):c<0&&(c=a.length),d=0;a.charAt(d)==xf;d++);if(d==(f=a.length))b=[0],c=1;else{for(f--;a.charAt(f)==xf;)f--;for(c-=d,b=[],e=0;d<=f;d++,e++)b[e]=+a.charAt(d)}return c>vf&&(b=b.splice(0,vf-1),g=c-1,c=1),{d:b,e:g,i:c}}function Sc(a,b,c,d){var e=a.d,f=e.length-a.i;b=t(b)?Math.min(Math.max(c,f),d):+b;var g=b+a.i,h=e[g];if(g>0){e.splice(Math.max(a.i,g));for(var i=g;i<e.length;i++)e[i]=0}else{f=Math.max(0,f),a.i=1,e.length=Math.max(1,g=b+1),e[0]=0;for(var j=1;j<g;j++)e[j]=0}if(h>=5)if(g-1<0){for(var k=0;k>g;k--)e.unshift(0),a.i++;e.unshift(1),a.i++}else e[g-1]++;for(;f<Math.max(0,b);f++)e.push(0);var l=e.reduceRight(function(a,b,c,d){return b+=a,d[c]=b%10,Math.floor(b/10)},0);l&&(e.unshift(l),a.i++)}function Tc(a,b,c,d,e){if(!x(a)&&!y(a)||isNaN(a))return"";var f,g=!isFinite(a),h=!1,i=Math.abs(a)+"",j="";if(g)j="∞";else{f=Rc(i),Sc(f,e,b.minFrac,b.maxFrac);var k=f.d,l=f.i,m=f.e,n=[];for(h=k.reduce(function(a,b){return a&&!b},!0);l<0;)k.unshift(0),l++;l>0?n=k.splice(l):(n=k,k=[0]);var o=[];for(k.length>=b.lgSize&&o.unshift(k.splice(-b.lgSize).join(""));k.length>b.gSize;)o.unshift(k.splice(-b.gSize).join(""));k.length&&o.unshift(k.join("")),j=o.join(c),n.length&&(j+=d+n.join("")),m&&(j+="e+"+m)}return a<0&&!h?b.negPre+j+b.negSuf:b.posPre+j+b.posSuf}function Uc(a,b,c,d){var e="";
for((a<0||d&&a<=0)&&(d?a=-a+1:(a=-a,e="-")),a=""+a;a.length<b;)a=xf+a;return c&&(a=a.substr(a.length-b)),e+a}function Vc(a,b,c,d,e){return c=c||0,function(f){var g=f["get"+a]();return(c>0||g>-c)&&(g+=c),0===g&&c==-12&&(g=12),Uc(g,b,d,e)}}function Wc(a,b,c){return function(d,e){var f=d["get"+a](),g=(c?"STANDALONE":"")+(b?"SHORT":""),h=Ed(g+a);return e[h][f]}}function Xc(a,b,c){var d=-1*c,e=d>=0?"+":"";return e+=Uc(Math[d>0?"floor":"ceil"](d/60),2)+Uc(Math.abs(d%60),2)}function Yc(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(b<=4?5:12)-b)}function Zc(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))}function $c(a){return function(b){var c=Yc(b.getFullYear()),d=Zc(b),e=+d-+c,f=1+Math.round(e/6048e5);return Uc(f,a)}}function _c(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function ad(a,b){return a.getFullYear()<=0?b.ERAS[0]:b.ERAS[1]}function bd(a,b){return a.getFullYear()<=0?b.ERANAMES[0]:b.ERANAMES[1]}function cd(a){function b(a){var b;if(b=a.match(c)){var d=new Date(0),e=0,f=0,g=b[8]?d.setUTCFullYear:d.setFullYear,h=b[8]?d.setUTCHours:d.setHours;b[9]&&(e=n(b[9]+b[10]),f=n(b[9]+b[11])),g.call(d,n(b[1]),n(b[2])-1,n(b[3]));var i=n(b[4]||0)-e,j=n(b[5]||0)-f,k=n(b[6]||0),l=Math.round(1e3*parseFloat("0."+(b[7]||0)));return h.call(d,i,j,k,l),d}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,e){var g,h,i="",j=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,x(c)&&(c=Af.test(c)?n(c):b(c)),y(c)&&(c=new Date(c)),!z(c)||!isFinite(c.getTime()))return c;for(;d;)h=zf.exec(d),h?(j=S(j,h,1),d=j.pop()):(j.push(d),d=null);var k=c.getTimezoneOffset();return e&&(k=Y(e,k),c=$(c,e,!0)),f(j,function(b){g=yf[b],i+=g?g(c,a.DATETIME_FORMATS,k):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i}}function dd(){return function(a,b){return t(b)&&(b=2),W(a,b)}}function ed(){return function(a,b,c){return b=Math.abs(Number(b))===1/0?Number(b):n(b),isNaN(b)?a:(y(a)&&(a=a.toString()),Td(a)||x(a)?(c=!c||isNaN(c)?0:n(c),c=c<0?Math.max(0,a.length+c):c,b>=0?a.slice(c,c+b):0===c?a.slice(b,a.length):a.slice(Math.max(0,c+b),c)):a)}}function fd(a){function b(b,c){return c=c?-1:1,b.map(function(b){var d=1,e=q;if(A(b))e=b;else if(x(b)&&("+"!=b.charAt(0)&&"-"!=b.charAt(0)||(d="-"==b.charAt(0)?-1:1,b=b.substring(1)),""!==b&&(e=a(b),e.constant))){var f=e();e=function(a){return a[f]}}return{get:e,descending:d*c}})}function c(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function f(a,b){return"function"==typeof a.valueOf&&(a=a.valueOf(),c(a))?a:s(a)&&(a=a.toString(),c(a))?a:b}function g(a,b){var c=typeof a;return null===a?(c="string",a="null"):"string"===c?a=a.toLowerCase():"object"===c&&(a=f(a,b)),{value:a,type:c}}function h(a,b){var c=0;return a.type===b.type?a.value!==b.value&&(c=a.value<b.value?-1:1):c=a.type<b.type?-1:1,c}return function(a,c,f){function i(a,b){return{value:a,predicateValues:k.map(function(c){return g(c.get(a),b)})}}function j(a,b){for(var c=0,d=0,e=k.length;d<e&&!(c=h(a.predicateValues[d],b.predicateValues[d])*k[d].descending);++d);return c}if(null==a)return a;if(!e(a))throw d("orderBy")("notarray","Expected array but received: {0}",a);Td(c)||(c=[c]),0===c.length&&(c=["+"]);var k=b(c,f);k.push({get:function(){return{}},descending:f?-1:1});var l=Array.prototype.map.call(a,i);return l.sort(j),a=l.map(function(a){return a.value})}}function gd(a){return A(a)&&(a={link:a}),a.restrict=a.restrict||"AC",r(a)}function hd(a,b){a.$name=b}function id(a,b,d,e,g){var h=this,i=[];h.$error={},h.$$success={},h.$pending=c,h.$name=g(b.name||b.ngForm||"")(d),h.$dirty=!1,h.$pristine=!0,h.$valid=!0,h.$invalid=!1,h.$submitted=!1,h.$$parentForm=Ff,h.$rollbackViewValue=function(){f(i,function(a){a.$rollbackViewValue()})},h.$commitViewValue=function(){f(i,function(a){a.$commitViewValue()})},h.$addControl=function(a){oa(a.$name,"input"),i.push(a),a.$name&&(h[a.$name]=a),a.$$parentForm=h},h.$$renameControl=function(a,b){var c=a.$name;h[c]===a&&delete h[c],h[b]=a,a.$name=b},h.$removeControl=function(a){a.$name&&h[a.$name]===a&&delete h[a.$name],f(h.$pending,function(b,c){h.$setValidity(c,null,a)}),f(h.$error,function(b,c){h.$setValidity(c,null,a)}),f(h.$$success,function(b,c){h.$setValidity(c,null,a)}),O(i,a),a.$$parentForm=Ff},xd({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];if(d){var e=d.indexOf(c);e===-1&&d.push(c)}else a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(O(d,c),0===d.length&&delete a[b])},$animate:e}),h.$setDirty=function(){e.removeClass(a,pg),e.addClass(a,qg),h.$dirty=!0,h.$pristine=!1,h.$$parentForm.$setDirty()},h.$setPristine=function(){e.setClass(a,pg,qg+" "+Gf),h.$dirty=!1,h.$pristine=!0,h.$submitted=!1,f(i,function(a){a.$setPristine()})},h.$setUntouched=function(){f(i,function(a){a.$setUntouched()})},h.$setSubmitted=function(){e.addClass(a,Gf),h.$submitted=!0,h.$$parentForm.$setSubmitted()}}function jd(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function kd(a,b,c,d,e,f){ld(a,b,c,d,e,f),jd(d)}function ld(a,b,c,d,e,f){var g=Dd(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(){h=!0}),b.on("compositionend",function(){h=!1,j()})}var i,j=function(a){if(i&&(f.defer.cancel(i),i=null),!h){var e=b.val(),j=a&&a.type;"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=Vd(e)),(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,j)}};if(e.hasEvent("input"))b.on("input",j);else{var k=function(a,b,c){i||(i=f.defer(function(){i=null,b&&b.value===c||j(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&b<19||37<=b&&b<=40||k(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",k)}b.on("change",j),Uf[g]&&d.$$hasNativeValidators&&g===c.type&&b.on(Tf,function(a){if(!i){var b=this[Bd],c=b.badInput,d=b.typeMismatch;i=f.defer(function(){i=null,b.badInput===c&&b.typeMismatch===d||j(a)})}}),d.$render=function(){var a=d.$isEmpty(d.$viewValue)?"":d.$viewValue;b.val()!==a&&b.val(a)}}function md(a,b){if(z(a))return a;if(x(a)){Qf.lastIndex=0;var c=Qf.exec(a);if(c){var d=+c[1],e=+c[2],f=0,g=0,h=0,i=0,j=Yc(d),k=7*(e-1);return b&&(f=b.getHours(),g=b.getMinutes(),h=b.getSeconds(),i=b.getMilliseconds()),new Date(d,0,j.getDate()+k,f,g,h,i)}}return NaN}function nd(a,b){return function(c,d){var e,g;if(z(c))return c;if(x(c)){if('"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1)),Kf.test(c))return new Date(c);if(a.lastIndex=0,e=a.exec(c))return e.shift(),g=d?{yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},f(e,function(a,c){c<b.length&&(g[b[c]]=+a)}),new Date(g.yyyy,g.MM-1,g.dd,g.HH,g.mm,g.ss||0,1e3*g.sss||0)}return NaN}}function od(a,b,d,e){return function(f,g,h,i,j,k,l){function m(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function n(a){return u(a)&&!z(a)?d(a)||c:a}pd(f,g,h,i),ld(f,g,h,i,j,k);var o,p=i&&i.$options&&i.$options.timezone;if(i.$$parserName=a,i.$parsers.push(function(a){if(i.$isEmpty(a))return null;if(b.test(a)){var e=d(a,o);return p&&(e=$(e,p)),e}return c}),i.$formatters.push(function(a){if(a&&!z(a))throw wg("datefmt","Expected `{0}` to be a date",a);return m(a)?(o=a,o&&p&&(o=$(o,p,!0)),l("date")(a,e,p)):(o=null,"")}),u(h.min)||h.ngMin){var q;i.$validators.min=function(a){return!m(a)||t(q)||d(a)>=q},h.$observe("min",function(a){q=n(a),i.$validate()})}if(u(h.max)||h.ngMax){var r;i.$validators.max=function(a){return!m(a)||t(r)||d(a)<=r},h.$observe("max",function(a){r=n(a),i.$validate()})}}}function pd(a,b,d,e){var f=b[0],g=e.$$hasNativeValidators=v(f.validity);g&&e.$parsers.push(function(a){var d=b.prop(Bd)||{};return d.badInput||d.typeMismatch?c:a})}function qd(a,b,d,e,f,g){if(pd(a,b,d,e),ld(a,b,d,e,f,g),e.$$parserName="number",e.$parsers.push(function(a){return e.$isEmpty(a)?null:Nf.test(a)?parseFloat(a):c}),e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!y(a))throw wg("numfmt","Expected `{0}` to be a number",a);a=a.toString()}return a}),u(d.min)||d.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||t(h)||a>=h},d.$observe("min",function(a){u(a)&&!y(a)&&(a=parseFloat(a,10)),h=y(a)&&!isNaN(a)?a:c,e.$validate()})}if(u(d.max)||d.ngMax){var i;e.$validators.max=function(a){return e.$isEmpty(a)||t(i)||a<=i},d.$observe("max",function(a){u(a)&&!y(a)&&(a=parseFloat(a,10)),i=y(a)&&!isNaN(a)?a:c,e.$validate()})}}function rd(a,b,c,d,e,f){ld(a,b,c,d,e,f),jd(d),d.$$parserName="url",d.$validators.url=function(a,b){var c=a||b;return d.$isEmpty(c)||Lf.test(c)}}function sd(a,b,c,d,e,f){ld(a,b,c,d,e,f),jd(d),d.$$parserName="email",d.$validators.email=function(a,b){var c=a||b;return d.$isEmpty(c)||Mf.test(c)}}function td(a,b,c,d){t(c.name)&&b.attr("name",i());var e=function(a){b[0].checked&&d.$setViewValue(c.value,a&&a.type)};b.on("click",e),d.$render=function(){var a=c.value;b[0].checked=a==d.$viewValue},c.$observe("value",d.$render)}function ud(a,b,c,d,e){var f;if(u(d)){if(f=a(d),!f.constant)throw wg("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",c,d);return f(b)}return e}function vd(a,b,c,d,e,f,g,h){var i=ud(h,a,"ngTrueValue",c.ngTrueValue,!0),j=ud(h,a,"ngFalseValue",c.ngFalseValue,!1),k=function(a){d.$setViewValue(b[0].checked,a&&a.type)};b.on("click",k),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return a===!1},d.$formatters.push(function(a){return R(a,i)}),d.$parsers.push(function(a){return a?i:j})}function wd(a,b){return a="ngClass"+a,["$animate",function(c){function d(a,b){var c=[];a:for(var d=0;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e==b[f])continue a;c.push(e)}return c}function e(a){var b=[];return Td(a)?(f(a,function(a){b=b.concat(e(a))}),b):x(a)?a.split(" "):v(a)?(f(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(g,h,i){function j(a){var b=l(a,1);i.$addClass(b)}function k(a){var b=l(a,-1);i.$removeClass(b)}function l(a,b){var c=h.data("$classCounts")||ra(),d=[];return f(a,function(a){(b>0||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(b>0)&&d.push(a))}),h.data("$classCounts",c),d.join(" ")}function m(a,b){var e=d(b,a),f=d(a,b);e=l(e,1),f=l(f,-1),e&&e.length&&c.addClass(h,e),f&&f.length&&c.removeClass(h,f)}function n(a){if(b===!0||g.$index%2===b){var c=e(a||[]);if(o){if(!R(a,o)){var d=e(o);m(d,c)}}else j(c)}o=Q(a)}var o;g.$watch(i[a],n,!0),i.$observe("class",function(b){n(g.$eval(i[a]))}),"ngClass"!==a&&g.$watch("$index",function(c,d){var f=1&c;if(f!==(1&d)){var h=e(g.$eval(i[a]));f===b?j(h):k(h)}})}}}]}function xd(a){function b(a,b,i){t(b)?d("$pending",a,i):e("$pending",a,i),H(b)?b?(l(h.$error,a,i),k(h.$$success,a,i)):(k(h.$error,a,i),l(h.$$success,a,i)):(l(h.$error,a,i),l(h.$$success,a,i)),h.$pending?(f(tg,!0),h.$valid=h.$invalid=c,g("",null)):(f(tg,!1),h.$valid=yd(h.$error),h.$invalid=!h.$valid,g("",h.$valid));var j;j=h.$pending&&h.$pending[a]?c:!h.$error[a]&&(!!h.$$success[a]||null),g(a,j),h.$$parentForm.$setValidity(a,j,h)}function d(a,b,c){h[a]||(h[a]={}),k(h[a],b,c)}function e(a,b,d){h[a]&&l(h[a],b,d),yd(h[a])&&(h[a]=c)}function f(a,b){b&&!j[a]?(m.addClass(i,a),j[a]=!0):!b&&j[a]&&(m.removeClass(i,a),j[a]=!1)}function g(a,b){a=a?"-"+ka(a,"-"):"",f(ng+a,b===!0),f(og+a,b===!1)}var h=a.ctrl,i=a.$element,j={},k=a.set,l=a.unset,m=a.$animate;j[og]=!(j[ng]=i.hasClass(ng)),h.$setValidity=b}function yd(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function zd(a){a[0].hasAttribute("selected")&&(a[0].selected=!0)}var Ad=/^\/(.+)\/([a-z]*)$/,Bd="validity",Cd=Object.prototype.hasOwnProperty,Dd=function(a){return x(a)?a.toLowerCase():a},Ed=function(a){return x(a)?a.toUpperCase():a},Fd=function(a){return x(a)?a.replace(/[A-Z]/g,function(a){return String.fromCharCode(32|a.charCodeAt(0))}):a},Gd=function(a){return x(a)?a.replace(/[a-z]/g,function(a){return String.fromCharCode(a.charCodeAt(0)&-33)}):a};"i"!=="I".toLowerCase()&&(Dd=Fd,Ed=Gd);var Hd,Id,Jd,Kd,Ld=[].slice,Md=[].splice,Nd=[].push,Od=Object.prototype.toString,Pd=Object.getPrototypeOf,Qd=d("ng"),Rd=a.angular||(a.angular={}),Sd=0;Hd=b.documentMode,p.$inject=[],q.$inject=[];var Td=Array.isArray,Ud=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Vd=function(a){return x(a)?a.trim():a},Wd=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Xd=function(){function a(){try{return new Function(""),!1}catch(a){return!0}}if(!u(Xd.rules)){var c=b.querySelector("[ng-csp]")||b.querySelector("[data-ng-csp]");if(c){var d=c.getAttribute("ng-csp")||c.getAttribute("data-ng-csp");Xd.rules={noUnsafeEval:!d||d.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!d||d.indexOf("no-inline-style")!==-1}}else Xd.rules={noUnsafeEval:a(),noInlineStyle:!1}}return Xd.rules},Yd=function(){if(u(Yd.name_))return Yd.name_;var a,c,d,e,f=$d.length;for(c=0;c<f;++c)if(d=$d[c],a=b.querySelector("["+d.replace(":","\\:")+"jq]")){e=a.getAttribute(d+"jq");break}return Yd.name_=e},Zd=/:/g,$d=["ng-","data-ng-","ng:","x-ng-"],_d=/[A-Z]/g,ae=!1,be=1,ce=2,de=3,ee=8,fe=9,ge=11,he={full:"1.5.3",major:1,minor:5,dot:3,codeName:"diplohaplontic-meiosis"};Fa.expando="ng339";var ie=Fa.cache={},je=1,ke=function(a,b,c){a.addEventListener(b,c,!1)},le=function(a,b,c){a.removeEventListener(b,c,!1)};Fa._data=function(a){return this.cache[a[this.expando]]||{}};var me=/([\:\-\_]+(.))/g,ne=/^moz([A-Z])/,oe={mouseleave:"mouseout",mouseenter:"mouseover"},pe=d("jqLite"),qe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,re=/<|&#?\w+;/,se=/<([\w:-]+)/,te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ue={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ue.optgroup=ue.option,ue.tbody=ue.tfoot=ue.colgroup=ue.caption=ue.thead,ue.th=ue.td;var ve=Node.prototype.contains||function(a){return!!(16&this.compareDocumentPosition(a))},we=Fa.prototype={ready:function(c){function d(){e||(e=!0,c())}var e=!1;"complete"===b.readyState?setTimeout(d):(this.on("DOMContentLoaded",d),Fa(a).on("load",d))},toString:function(){var a=[];return f(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return Id(a>=0?this[a]:this[this.length+a])},length:0,push:Nd,sort:[].sort,splice:[].splice},xe={};f("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){xe[Dd(a)]=a});var ye={};f("input,select,option,textarea,button,form,details".split(","),function(a){ye[a]=!0});var ze={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};f({data:La,removeData:Ja,hasData:Aa,cleanData:Ba},function(a,b){Fa[b]=a}),f({data:La,inheritedData:Ra,scope:function(a){return Id.data(a,"$scope")||Ra(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return Id.data(a,"$isolateScope")||Id.data(a,"$isolateScopeNoTemplate")},controller:Qa,injector:function(a){return Ra(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Ma,css:function(a,b,c){return b=xa(b),u(c)?void(a.style[b]=c):a.style[b]},attr:function(a,b,d){var e=a.nodeType;if(e!==de&&e!==ce&&e!==ee){var f=Dd(b);if(xe[f]){if(!u(d))return a[b]||(a.attributes.getNamedItem(b)||p).specified?f:c;d?(a[b]=!0,a.setAttribute(b,f)):(a[b]=!1,a.removeAttribute(f))}else if(u(d))a.setAttribute(b,d);else if(a.getAttribute){var g=a.getAttribute(b,2);return null===g?c:g}}},prop:function(a,b,c){return u(c)?void(a[b]=c):a[b]},text:function(){function a(a,b){if(t(b)){var c=a.nodeType;return c===be||c===de?a.textContent:""}a.textContent=b}return a.$dv="",a}(),val:function(a,b){if(t(b)){if(a.multiple&&"select"===N(a)){var c=[];return f(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b},html:function(a,b){return t(b)?a.innerHTML:(Ha(a,!0),void(a.innerHTML=b))},empty:Sa},function(a,b){Fa.prototype[b]=function(b,c){var d,e,f=this.length;if(a!==Sa&&t(2==a.length&&a!==Ma&&a!==Qa?b:c)){if(v(b)){for(d=0;d<f;d++)if(a===La)a(this[d],b);else for(e in b)a(this[d],e,b[e]);return this}for(var g=a.$dv,h=t(g)?Math.min(f,1):f,i=0;i<h;i++){var j=a(this[i],b,c);g=g?g+j:j}return g}for(d=0;d<f;d++)a(this[d],b,c);return this}}),f({removeData:Ja,on:function(a,b,d,e){if(u(e))throw pe("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(za(a)){var f=Ka(a,!0),g=f.events,h=f.handle;h||(h=f.handle=Xa(a,g));for(var i=b.indexOf(" ")>=0?b.split(" "):[b],j=i.length,k=function(b,c,e){var f=g[b];f||(f=g[b]=[],f.specialHandlerWrapper=c,"$destroy"===b||e||ke(a,b,h)),f.push(d)};j--;)b=i[j],oe[b]?(k(oe[b],Za),k(b,c,!0)):k(b)}},off:Ia,one:function(a,b,c){a=Id(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,d=a.parentNode;Ha(a),f(new Fa(b),function(b){c?d.insertBefore(b,c.nextSibling):d.replaceChild(b,a),c=b})},children:function(a){var b=[];return f(a.childNodes,function(a){a.nodeType===be&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var c=a.nodeType;if(c===be||c===ge){b=new Fa(b);for(var d=0,e=b.length;d<e;d++){var f=b[d];a.appendChild(f)}}},prepend:function(a,b){if(a.nodeType===be){var c=a.firstChild;f(new Fa(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){Ea(a,Id(b).eq(0).clone()[0])},remove:Ta,detach:function(a){Ta(a,!0)},after:function(a,b){var c=a,d=a.parentNode;b=new Fa(b);for(var e=0,f=b.length;e<f;e++){var g=b[e];d.insertBefore(g,c.nextSibling),c=g}},addClass:Oa,removeClass:Na,toggleClass:function(a,b,c){b&&f(b.split(" "),function(b){var d=c;t(d)&&(d=!Ma(a,b)),(d?Oa:Na)(a,b)})},parent:function(a){var b=a.parentNode;return b&&b.nodeType!==ge?b:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:Ga,triggerHandler:function(a,b,c){var d,e,g,h=b.type||b,i=Ka(a),j=i&&i.events,k=j&&j[h];k&&(d={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:p,type:h,target:a},b.type&&(d=l(d,b)),e=Q(k),g=c?[d].concat(c):[d],f(e,function(b){d.isImmediatePropagationStopped()||b.apply(a,g)}))}},function(a,b){Fa.prototype[b]=function(b,c,d){for(var e,f=0,g=this.length;f<g;f++)t(e)?(e=a(this[f],b,c,d),u(e)&&(e=Id(e))):Pa(e,a(this[f],b,c,d));return u(e)?e:this},Fa.prototype.bind=Fa.prototype.on,Fa.prototype.unbind=Fa.prototype.off}),ab.prototype={put:function(a,b){this[_a(a,this.nextUid)]=b},get:function(a){return this[_a(a,this.nextUid)]},remove:function(a){var b=this[a=_a(a,this.nextUid)];return delete this[a],b}};var Ae=[function(){this.$get=[function(){return ab}]}],Be=/^([^\(]+?)=>/,Ce=/^[^\(]*\(\s*([^\)]*)\)/m,De=/,/,Ee=/^\s*(_?)(\S+?)\1\s*$/,Fe=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ge=d("$injector");eb.$$annotate=db;var He=d("$animate"),Ie=1,Je="ng-animate",Ke=function(){this.$get=p},Le=function(){var a=new ab,b=[];this.$get=["$$AnimateRunner","$rootScope",function(c,d){function e(a,b,c){var d=!1;return b&&(b=x(b)?b.split(" "):Td(b)?b:[],f(b,function(b){b&&(d=!0,a[b]=c)})),d}function g(){f(b,function(b){var c=a.get(b);if(c){var d=ib(b.attr("class")),e="",g="";f(c,function(a,b){var c=!!d[b];a!==c&&(a?e+=(e.length?" ":"")+b:g+=(g.length?" ":"")+b)}),f(b,function(a){e&&Oa(a,e),g&&Na(a,g)}),a.remove(b)}}),b.length=0}function h(c,f,h){var i=a.get(c)||{},j=e(i,f,!0),k=e(i,h,!1);(j||k)&&(a.put(c,i),b.push(c),1===b.length&&d.$$postDigest(g))}return{enabled:p,on:p,off:p,pin:p,push:function(a,b,d,e){e&&e(),d=d||{},d.from&&a.css(d.from),d.to&&a.css(d.to),(d.addClass||d.removeClass)&&h(a,d.addClass,d.removeClass);var f=new c;return f.complete(),f}}}]},Me=["$provide",function(a){var b=this;this.$$registeredAnimations=Object.create(null),this.register=function(c,d){if(c&&"."!==c.charAt(0))throw He("notcsel","Expecting class selector starting with '.' got '{0}'.",c);var e=c+"-animation";b.$$registeredAnimations[c.substr(1)]=e,a.factory(e,d)},this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null,this.$$classNameFilter)){var b=new RegExp("(\\s+|\\/)"+Je+"(\\s+|\\/)");if(b.test(this.$$classNameFilter.toString()))throw He("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Je)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(a){function b(a,b,c){if(c){var d=hb(c);!d||d.parentNode||d.previousElementSibling||(c=null)}c?c.after(a):b.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(c,d,e,f){return d=d&&Id(d),e=e&&Id(e),d=d||e.parent(),b(c,d,e),a.push(c,"enter",jb(f))},move:function(c,d,e,f){return d=d&&Id(d),e=e&&Id(e),d=d||e.parent(),b(c,d,e),a.push(c,"move",jb(f))},leave:function(b,c){return a.push(b,"leave",jb(c),function(){b.remove()})},addClass:function(b,c,d){return d=jb(d),d.addClass=gb(d.addclass,c),a.push(b,"addClass",d)},removeClass:function(b,c,d){return d=jb(d),d.removeClass=gb(d.removeClass,c),a.push(b,"removeClass",d)},setClass:function(b,c,d,e){return e=jb(e),e.addClass=gb(e.addClass,c),e.removeClass=gb(e.removeClass,d),a.push(b,"setClass",e)},animate:function(b,c,d,e,f){return f=jb(f),f.from=f.from?l(f.from,c):c,f.to=f.to?l(f.to,d):d,e=e||"ng-inline-animate",f.tempClasses=gb(f.tempClasses,e),a.push(b,"animate",f)}}}]}],Ne=function(){this.$get=["$$rAF",function(a){function b(b){c.push(b),c.length>1||a(function(){for(var a=0;a<c.length;a++)c[a]();c=[]})}var c=[];return function(){var a=!1;return b(function(){a=!0}),function(c){a?c():b(c)}}}]},Oe=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(a,b,c,d,e){function g(a){this.setHost(a);var b=c(),f=function(a){e(a,0,!1)};this._doneCallbacks=[],this._tick=function(a){var c=d[0];c&&c.hidden?f(a):b(a)},this._state=0}var h=0,i=1,j=2;return g.chain=function(a,b){function c(){return d===a.length?void b(!0):void a[d](function(a){return a===!1?void b(!1):(d++,void c())})}var d=0;c()},g.all=function(a,b){function c(c){e=e&&c,++d===a.length&&b(e)}var d=0,e=!0;f(a,function(a){a.done(c)})},g.prototype={setHost:function(a){this.host=a||{}},done:function(a){this._state===j?a():this._doneCallbacks.push(a)},progress:p,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){b===!1?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(a){var b=this;b._state===h&&(b._state=i,b._tick(function(){b._resolve(a)}))},_resolve:function(a){this._state!==j&&(f(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=j)}},g}]},Pe=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,c){return function(b,d){function e(){return a(function(){f(),h||i.complete(),h=!0}),i}function f(){g.addClass&&(b.addClass(g.addClass),g.addClass=null),g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null),g.to&&(b.css(g.to),g.to=null)}var g=d||{};g.$$prepared||(g=P(g)),g.cleanupStyles&&(g.from=g.to=null),g.from&&(b.css(g.from),g.from=null);var h,i=new c;return{start:e,end:e}}}]},Qe=d("$compile");ob.$inject=["$provide","$$sanitizeUriProvider"];var Re=/^((?:x|data)[\:\-_])/i,Se=d("$controller"),Te=/^(\S+)(\s+as\s+([\w$]+))?$/,Ue=function(){this.$get=["$document",function(a){return function(b){return b?!b.nodeType&&b instanceof Id&&(b=b[0]):b=a[0].body,b.offsetWidth+1}}]},Ve="application/json",We={"Content-Type":Ve+";charset=utf-8"},Xe=/^\[|^\{(?!\{)/,Ye={"[":/]$/,"{":/}$/},Ze=/^\)\]\}',?\n/,$e=d("$http"),_e=function(a){return function(){throw $e("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",a)}},af=Rd.$interpolateMinErr=d("$interpolate");af.throwNoconcat=function(a){throw af("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",a)},af.interr=function(a,b){return af("interr","Can't interpolate: {0}\n{1}",a,b.toString())};var bf=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,cf={http:80,https:443,ftp:21},df=d("$location"),ef={$$html5:!1,$$replace:!1,absUrl:Wb("$$absUrl"),url:function(a){if(t(a))return this.$$url;var b=bf.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:Wb("$$protocol"),host:Wb("$$host"),port:Wb("$$port"),path:Xb("$$path",function(a){return a=null!==a?a.toString():"","/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(x(a)||y(a))a=a.toString(),this.$$search=ba(a);else{if(!v(a))throw df("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");a=P(a,{}),f(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:t(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:Xb("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};f([Vb,Ub,Tb],function(a){a.prototype=Object.create(ef),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==Tb||!this.$$html5)throw df("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=t(b)?null:b,this}});var ff=d("$parse"),gf=Function.prototype.call,hf=Function.prototype.apply,jf=Function.prototype.bind,kf=ra();f("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){kf[a]=!0});var lf={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},mf=function(a){this.options=a};mf.prototype={constructor:mf,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;){var b=this.text.charAt(this.index);if('"'===b||"'"===b)this.readString(b);else if(this.isNumber(b)||"."===b&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(b))this.readIdent();else if(this.is(b,"(){}[].,;:?"))this.tokens.push({index:this.index,text:b}),this.index++;else if(this.isWhitespace(b))this.index++;else{var c=b+this.peek(),d=c+this.peek(2),e=kf[b],f=kf[c],g=kf[d];if(e||f||g){var h=g?d:f?c:b;this.tokens.push({index:this.index,text:h,operator:!0}),this.index+=h.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(a,b){return b.indexOf(a)!==-1},peek:function(a){var b=a||1;return this.index+b<this.text.length&&this.text.charAt(this.index+b)},isNumber:function(a){return"0"<=a&&a<="9"&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\x0B"===a||" "===a},isIdent:function(a){return"a"<=a&&a<="z"||"A"<=a&&a<="Z"||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=u(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw ff("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=Dd(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var b=this.text.charAt(this.index);if(!this.isIdent(b)&&!this.isNumber(b))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);if(d+=f,e){if("u"===f){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else{var h=lf[f];c+=h||f}e=!1}else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,constant:!0,value:c});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var nf=function(a,b){this.lexer=a,this.options=b};nf.Program="Program",nf.ExpressionStatement="ExpressionStatement",nf.AssignmentExpression="AssignmentExpression",nf.ConditionalExpression="ConditionalExpression",nf.LogicalExpression="LogicalExpression",nf.BinaryExpression="BinaryExpression",nf.UnaryExpression="UnaryExpression",nf.CallExpression="CallExpression",nf.MemberExpression="MemberExpression",nf.Identifier="Identifier",nf.Literal="Literal",nf.ArrayExpression="ArrayExpression",nf.Property="Property",nf.ObjectExpression="ObjectExpression",nf.ThisExpression="ThisExpression",nf.LocalsExpression="LocalsExpression",nf.NGValueParameter="NGValueParameter",nf.prototype={ast:function(a){this.text=a,this.tokens=this.lexer.lex(a);var b=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),b},program:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:nf.Program,body:a}},expressionStatement:function(){return{type:nf.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a,b=this.expression();a=this.expect("|");)b=this.filter(b);return b},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();return this.expect("=")&&(a={type:nf.AssignmentExpression,left:a,right:this.assignment(),operator:"="}),a},ternary:function(){var a,b,c=this.logicalOR();return this.expect("?")&&(a=this.expression(),this.consume(":"))?(b=this.expression(),{type:nf.ConditionalExpression,test:c,alternate:a,consequent:b}):c},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:nf.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:nf.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a,b=this.relational();a=this.expect("==","!=","===","!==");)b={type:nf.BinaryExpression,operator:a.text,left:b,right:this.relational()};return b},relational:function(){for(var a,b=this.additive();a=this.expect("<",">","<=",">=");)b={type:nf.BinaryExpression,operator:a.text,left:b,right:this.additive()};return b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b={type:nf.BinaryExpression,operator:a.text,left:b,right:this.multiplicative()};return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b={type:nf.BinaryExpression,operator:a.text,left:b,right:this.unary()};return b},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:nf.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=P(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={
type:nf.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:nf.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:nf.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:nf.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){for(var b=[a],c={type:nf.CallExpression,callee:this.identifier(),arguments:b,filter:!0};this.expect(":");)b.push(this.expression());return c},parseArguments:function(){var a=[];if(")"!==this.peekToken().text)do a.push(this.expression());while(this.expect(","));return a},identifier:function(){var a=this.consume();return a.identifier||this.throwError("is not a valid identifier",a),{type:nf.Identifier,name:a.text}},constant:function(){return{type:nf.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:nf.ArrayExpression,elements:a}},object:function(){var a,b=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;a={type:nf.Property,kind:"init"},this.peek().constant?a.key=this.constant():this.peek().identifier?a.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),a.value=this.expression(),b.push(a)}while(this.expect(","));return this.consume("}"),{type:nf.ObjectExpression,properties:b}},throwError:function(a,b){throw ff("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},consume:function(a){if(0===this.tokens.length)throw ff("ueoe","Unexpected end of expression: {0}",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},peekToken:function(){if(0===this.tokens.length)throw ff("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){return this.peekAhead(0,a,b,c,d)},peekAhead:function(a,b,c,d,e){if(this.tokens.length>a){var f=this.tokens[a],g=f.text;if(g===b||g===c||g===d||g===e||!b&&!c&&!d&&!e)return f}return!1},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);return!!e&&(this.tokens.shift(),e)},selfReferential:{"this":{type:nf.ThisExpression},$locals:{type:nf.LocalsExpression}}},mc.prototype={compile:function(a,b){var d=this,e=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},gc(e,d.$filter);var g,h="";if(this.stage="assign",g=jc(e)){this.state.computing="assign";var i=this.nextId();this.recurse(g,i),this.return_(i),h="fn.assign="+this.generateFunction("assign","s,v,l")}var j=hc(e.body);d.stage="inputs",f(j,function(a,b){var c="fn"+b;d.state[c]={vars:[],body:[],own:{}},d.state.computing=c;var e=d.nextId();d.recurse(a,e),d.return_(e),d.state.inputs.push(c),a.watchId=b}),this.state.computing="fn",this.stage="main",this.recurse(e);var k='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+h+this.watchFns()+"return fn;",l=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",k)(this.$filter,$b,ac,bc,_b,cc,dc,ec,a);return this.state=this.stage=c,l.literal=kc(e),l.constant=lc(e),l},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,c=this;return f(b,function(b){a.push("var "+b+"="+c.generateFunction(b,"s"))}),b.length&&a.push("fn.inputs=["+b.join(",")+"];"),a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;return f(this.state.filters,function(c,d){a.push(c+"=$filter("+b.escape(d)+")")}),a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,e,g,h){var i,j,k,l,m=this;if(e=e||p,!h&&u(a.watchId))return b=b||this.nextId(),void this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,e,g,!0));switch(a.type){case nf.Program:f(a.body,function(b,d){m.recurse(b.expression,c,c,function(a){j=a}),d!==a.body.length-1?m.current().body.push(j,";"):m.return_(j)});break;case nf.Literal:l=this.escape(a.value),this.assign(b,l),e(l);break;case nf.UnaryExpression:this.recurse(a.argument,c,c,function(a){j=a}),l=a.operator+"("+this.ifDefined(j,0)+")",this.assign(b,l),e(l);break;case nf.BinaryExpression:this.recurse(a.left,c,c,function(a){i=a}),this.recurse(a.right,c,c,function(a){j=a}),l="+"===a.operator?this.plus(i,j):"-"===a.operator?this.ifDefined(i,0)+a.operator+this.ifDefined(j,0):"("+i+")"+a.operator+"("+j+")",this.assign(b,l),e(l);break;case nf.LogicalExpression:b=b||this.nextId(),m.recurse(a.left,b),m.if_("&&"===a.operator?b:m.not(b),m.lazyRecurse(a.right,b)),e(b);break;case nf.ConditionalExpression:b=b||this.nextId(),m.recurse(a.test,b),m.if_(b,m.lazyRecurse(a.alternate,b),m.lazyRecurse(a.consequent,b)),e(b);break;case nf.Identifier:b=b||this.nextId(),d&&(d.context="inputs"===m.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name),$b(a.name),m.if_("inputs"===m.stage||m.not(m.getHasOwnProperty("l",a.name)),function(){m.if_("inputs"===m.stage||"s",function(){g&&1!==g&&m.if_(m.not(m.nonComputedMember("s",a.name)),m.lazyAssign(m.nonComputedMember("s",a.name),"{}")),m.assign(b,m.nonComputedMember("s",a.name))})},b&&m.lazyAssign(b,m.nonComputedMember("l",a.name))),(m.state.expensiveChecks||oc(a.name))&&m.addEnsureSafeObject(b),e(b);break;case nf.MemberExpression:i=d&&(d.context=this.nextId())||this.nextId(),b=b||this.nextId(),m.recurse(a.object,i,c,function(){m.if_(m.notNull(i),function(){g&&1!==g&&m.addEnsureSafeAssignContext(i),a.computed?(j=m.nextId(),m.recurse(a.property,j),m.getStringValue(j),m.addEnsureSafeMemberName(j),g&&1!==g&&m.if_(m.not(m.computedMember(i,j)),m.lazyAssign(m.computedMember(i,j),"{}")),l=m.ensureSafeObject(m.computedMember(i,j)),m.assign(b,l),d&&(d.computed=!0,d.name=j)):($b(a.property.name),g&&1!==g&&m.if_(m.not(m.nonComputedMember(i,a.property.name)),m.lazyAssign(m.nonComputedMember(i,a.property.name),"{}")),l=m.nonComputedMember(i,a.property.name),(m.state.expensiveChecks||oc(a.property.name))&&(l=m.ensureSafeObject(l)),m.assign(b,l),d&&(d.computed=!1,d.name=a.property.name))},function(){m.assign(b,"undefined")}),e(b)},!!g);break;case nf.CallExpression:b=b||this.nextId(),a.filter?(j=m.filter(a.callee.name),k=[],f(a.arguments,function(a){var b=m.nextId();m.recurse(a,b),k.push(b)}),l=j+"("+k.join(",")+")",m.assign(b,l),e(b)):(j=m.nextId(),i={},k=[],m.recurse(a.callee,j,i,function(){m.if_(m.notNull(j),function(){m.addEnsureSafeFunction(j),f(a.arguments,function(a){m.recurse(a,m.nextId(),c,function(a){k.push(m.ensureSafeObject(a))})}),i.name?(m.state.expensiveChecks||m.addEnsureSafeObject(i.context),l=m.member(i.context,i.name,i.computed)+"("+k.join(",")+")"):l=j+"("+k.join(",")+")",l=m.ensureSafeObject(l),m.assign(b,l)},function(){m.assign(b,"undefined")}),e(b)}));break;case nf.AssignmentExpression:if(j=this.nextId(),i={},!ic(a.left))throw ff("lval","Trying to assign a value to a non l-value");this.recurse(a.left,c,i,function(){m.if_(m.notNull(i.context),function(){m.recurse(a.right,j),m.addEnsureSafeObject(m.member(i.context,i.name,i.computed)),m.addEnsureSafeAssignContext(i.context),l=m.member(i.context,i.name,i.computed)+a.operator+j,m.assign(b,l),e(b||l)})},1);break;case nf.ArrayExpression:k=[],f(a.elements,function(a){m.recurse(a,m.nextId(),c,function(a){k.push(a)})}),l="["+k.join(",")+"]",this.assign(b,l),e(l);break;case nf.ObjectExpression:k=[],f(a.properties,function(a){m.recurse(a.value,m.nextId(),c,function(b){k.push(m.escape(a.key.type===nf.Identifier?a.key.name:""+a.key.value)+":"+b)})}),l="{"+k.join(",")+"}",this.assign(b,l),e(l);break;case nf.ThisExpression:this.assign(b,"s"),e("s");break;case nf.LocalsExpression:this.assign(b,"l"),e("l");break;case nf.NGValueParameter:this.assign(b,"v"),e("v")}},getHasOwnProperty:function(a,b){var c=a+"."+b,d=this.current().own;return d.hasOwnProperty(c)||(d[c]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")")),d[c]},assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){return this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0)),this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,c){if(a===!0)b();else{var d=this.current().body;d.push("if(",a,"){"),b(),d.push("}"),c&&(d.push("else{"),c(),d.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){return a+"."+b},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,c){return c?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),";")},addEnsureSafeAssignContext:function(a){this.current().body.push(this.ensureSafeAssignContext(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},ensureSafeAssignContext:function(a){return"ensureSafeAssignContext("+a+",text)"},lazyRecurse:function(a,b,c,d,e,f){var g=this;return function(){g.recurse(a,b,c,d,e,f)}},lazyAssign:function(a,b){var c=this;return function(){c.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(x(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(y(a))return a.toString();if(a===!0)return"true";if(a===!1)return"false";if(null===a)return"null";if("undefined"==typeof a)return"undefined";throw ff("esc","IMPOSSIBLE")},nextId:function(a,b){var c="v"+this.state.nextId++;return a||this.current().vars.push(c+(b?"="+b:"")),c},current:function(){return this.state[this.state.computing]}},nc.prototype={compile:function(a,b){var c=this,d=this.astBuilder.ast(a);this.expression=a,this.expensiveChecks=b,gc(d,c.$filter);var e,g;(e=jc(d))&&(g=this.recurse(e));var h,i=hc(d.body);i&&(h=[],f(i,function(a,b){var d=c.recurse(a);a.input=d,h.push(d),a.watchId=b}));var j=[];f(d.body,function(a){j.push(c.recurse(a.expression))});var k=0===d.body.length?p:1===d.body.length?j[0]:function(a,b){var c;return f(j,function(d){c=d(a,b)}),c};return g&&(k.assign=function(a,b,c){return g(a,c,b)}),h&&(k.inputs=h),k.literal=kc(d),k.constant=lc(d),k},recurse:function(a,b,d){var e,g,h,i=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case nf.Literal:return this.value(a.value,b);case nf.UnaryExpression:return g=this.recurse(a.argument),this["unary"+a.operator](g,b);case nf.BinaryExpression:return e=this.recurse(a.left),g=this.recurse(a.right),this["binary"+a.operator](e,g,b);case nf.LogicalExpression:return e=this.recurse(a.left),g=this.recurse(a.right),this["binary"+a.operator](e,g,b);case nf.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case nf.Identifier:return $b(a.name,i.expression),i.identifier(a.name,i.expensiveChecks||oc(a.name),b,d,i.expression);case nf.MemberExpression:return e=this.recurse(a.object,!1,!!d),a.computed||($b(a.property.name,i.expression),g=a.property.name),a.computed&&(g=this.recurse(a.property)),a.computed?this.computedMember(e,g,b,d,i.expression):this.nonComputedMember(e,g,i.expensiveChecks,b,d,i.expression);case nf.CallExpression:return h=[],f(a.arguments,function(a){h.push(i.recurse(a))}),a.filter&&(g=this.$filter(a.callee.name)),a.filter||(g=this.recurse(a.callee,!0)),a.filter?function(a,d,e,f){for(var i=[],j=0;j<h.length;++j)i.push(h[j](a,d,e,f));var k=g.apply(c,i,f);return b?{context:c,name:c,value:k}:k}:function(a,c,d,e){var f,j=g(a,c,d,e);if(null!=j.value){ac(j.context,i.expression),bc(j.value,i.expression);for(var k=[],l=0;l<h.length;++l)k.push(ac(h[l](a,c,d,e),i.expression));f=ac(j.value.apply(j.context,k),i.expression)}return b?{value:f}:f};case nf.AssignmentExpression:return e=this.recurse(a.left,!0,1),g=this.recurse(a.right),function(a,c,d,f){var h=e(a,c,d,f),j=g(a,c,d,f);return ac(h.value,i.expression),cc(h.context),h.context[h.name]=j,b?{value:j}:j};case nf.ArrayExpression:return h=[],f(a.elements,function(a){h.push(i.recurse(a))}),function(a,c,d,e){for(var f=[],g=0;g<h.length;++g)f.push(h[g](a,c,d,e));return b?{value:f}:f};case nf.ObjectExpression:return h=[],f(a.properties,function(a){h.push({key:a.key.type===nf.Identifier?a.key.name:""+a.key.value,value:i.recurse(a.value)})}),function(a,c,d,e){for(var f={},g=0;g<h.length;++g)f[h[g].key]=h[g].value(a,c,d,e);return b?{value:f}:f};case nf.ThisExpression:return function(a){return b?{value:a}:a};case nf.LocalsExpression:return function(a,c){return b?{value:c}:c};case nf.NGValueParameter:return function(a,c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=u(g)?+g:0,b?{value:g}:g}},"unary-":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=u(g)?-g:0,b?{value:g}:g}},"unary!":function(a,b){return function(c,d,e,f){var g=!a(c,d,e,f);return b?{value:g}:g}},"binary+":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=ec(h,i);return c?{value:j}:j}},"binary-":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=(u(h)?h:0)-(u(i)?i:0);return c?{value:j}:j}},"binary*":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)*b(d,e,f,g);return c?{value:h}:h}},"binary/":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)/b(d,e,f,g);return c?{value:h}:h}},"binary%":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)%b(d,e,f,g);return c?{value:h}:h}},"binary===":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)===b(d,e,f,g);return c?{value:h}:h}},"binary!==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!==b(d,e,f,g);return c?{value:h}:h}},"binary==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)==b(d,e,f,g);return c?{value:h}:h}},"binary!=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!=b(d,e,f,g);return c?{value:h}:h}},"binary<":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<b(d,e,f,g);return c?{value:h}:h}},"binary>":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>b(d,e,f,g);return c?{value:h}:h}},"binary<=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<=b(d,e,f,g);return c?{value:h}:h}},"binary>=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>=b(d,e,f,g);return c?{value:h}:h}},"binary&&":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)&&b(d,e,f,g);return c?{value:h}:h}},"binary||":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)||b(d,e,f,g);return c?{value:h}:h}},"ternary?:":function(a,b,c,d){return function(e,f,g,h){var i=a(e,f,g,h)?b(e,f,g,h):c(e,f,g,h);return d?{value:i}:i}},value:function(a,b){return function(){return b?{context:c,name:c,value:a}:a}},identifier:function(a,b,d,e,f){return function(g,h,i,j){var k=h&&a in h?h:g;e&&1!==e&&k&&!k[a]&&(k[a]={});var l=k?k[a]:c;return b&&ac(l,f),d?{context:k,name:a,value:l}:l}},computedMember:function(a,b,c,d,e){return function(f,g,h,i){var j,k,l=a(f,g,h,i);return null!=l&&(j=b(f,g,h,i),j=_b(j),$b(j,e),d&&1!==d&&(cc(l),l&&!l[j]&&(l[j]={})),k=l[j],ac(k,e)),c?{context:l,name:j,value:k}:k}},nonComputedMember:function(a,b,d,e,f,g){return function(h,i,j,k){var l=a(h,i,j,k);f&&1!==f&&(cc(l),l&&!l[b]&&(l[b]={}));var m=null!=l?l[b]:c;return(d||oc(b))&&ac(m,g),e?{context:l,name:b,value:m}:m}},inputs:function(a,b){return function(c,d,e,f){return f?f[b]:a(c,d,e)}}};var of=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c,this.ast=new nf(a,c),this.astCompiler=c.csp?new nc(this.ast,b):new mc(this.ast,b)};of.prototype={constructor:of,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};var pf=Object.prototype.valueOf,qf=d("$sce"),rf={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},sf=d("$compile"),tf=b.createElement("a"),uf=Fc(a.location.href);Ic.$inject=["$document"],Kc.$inject=["$provide"];var vf=22,wf=".",xf="0";Pc.$inject=["$locale"],Qc.$inject=["$locale"];var yf={yyyy:Vc("FullYear",4,0,!1,!0),yy:Vc("FullYear",2,0,!0,!0),y:Vc("FullYear",1,0,!1,!0),MMMM:Wc("Month"),MMM:Wc("Month",!0),MM:Vc("Month",2,1),M:Vc("Month",1,1),LLLL:Wc("Month",!1,!0),dd:Vc("Date",2),d:Vc("Date",1),HH:Vc("Hours",2),H:Vc("Hours",1),hh:Vc("Hours",2,-12),h:Vc("Hours",1,-12),mm:Vc("Minutes",2),m:Vc("Minutes",1),ss:Vc("Seconds",2),s:Vc("Seconds",1),sss:Vc("Milliseconds",3),EEEE:Wc("Day"),EEE:Wc("Day",!0),a:_c,Z:Xc,ww:$c(2),w:$c(1),G:ad,GG:ad,GGG:ad,GGGG:bd},zf=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Af=/^\-?\d+$/;cd.$inject=["$locale"];var Bf=r(Dd),Cf=r(Ed);fd.$inject=["$parse"];var Df=r({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var c="[object SVGAnimatedString]"===Od.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}}),Ef={};f(xe,function(a,b){function c(a,c,e){a.$watch(e[d],function(a){e.$set(b,!!a)})}if("multiple"!=a){var d=pb("ng-"+b),e=c;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[d]&&c(a,b,e)}),Ef[d]=function(){return{restrict:"A",priority:100,link:e}}}}),f(ze,function(a,b){Ef[b]=function(){return{priority:100,link:function(a,c,d){if("ngPattern"===b&&"/"==d.ngPattern.charAt(0)){var e=d.ngPattern.match(Ad);if(e)return void d.$set("ngPattern",new RegExp(e[1],e[2]))}a.$watch(d[b],function(a){d.$set(b,a)})}}}}),f(["src","srcset","href"],function(a){var b=pb("ng-"+a);Ef[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===Od.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){return b?(e.$set(g,b),void(Hd&&f&&d.prop(f,e[g]))):void("href"===a&&e.$set(g,null))})}}}});var Ff={$addControl:p,$$renameControl:hd,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p},Gf="ng-submitted";id.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Hf=function(a){return["$timeout","$parse",function(b,d){function e(a){return""===a?d('this[""]').assign:d(a).assign||p}var f={name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:id,compile:function(d,f){d.addClass(pg).addClass(ng);var g=f.name?"name":!(!a||!f.ngForm)&&"ngForm";return{pre:function(a,d,f,h){var i=h[0];if(!("action"in f)){var j=function(b){a.$apply(function(){i.$commitViewValue(),i.$setSubmitted()}),b.preventDefault()};ke(d[0],"submit",j),d.on("$destroy",function(){b(function(){le(d[0],"submit",j)},0,!1)})}var k=h[1]||i.$$parentForm;k.$addControl(i);var m=g?e(i.$name):p;g&&(m(a,i),f.$observe(g,function(b){i.$name!==b&&(m(a,c),i.$$parentForm.$$renameControl(i,b),(m=e(i.$name))(a,i))})),d.on("$destroy",function(){i.$$parentForm.$removeControl(i),m(a,c),l(i,Ff)})}}}};return f}]},If=Hf(),Jf=Hf(!0),Kf=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Lf=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Mf=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Nf=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Of=/^(\d{4,})-(\d{2})-(\d{2})$/,Pf=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Qf=/^(\d{4,})-W(\d\d)$/,Rf=/^(\d{4,})-(\d\d)$/,Sf=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Tf="keydown wheel mousedown",Uf=ra();f("date,datetime-local,month,time,week".split(","),function(a){Uf[a]=!0});var Vf={text:kd,date:od("date",Of,nd(Of,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":od("datetimelocal",Pf,nd(Pf,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:od("time",Sf,nd(Sf,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:od("week",Qf,md,"yyyy-Www"),month:od("month",Rf,nd(Rf,["yyyy","MM"]),"yyyy-MM"),number:qd,url:rd,email:sd,radio:td,checkbox:vd,hidden:p,button:p,submit:p,reset:p,file:p},Wf=["$browser","$sniffer","$filter","$parse",function(a,b,c,d){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(Vf[Dd(g.type)]||Vf.text)(e,f,g,h[0],b,a,c,d)}}}}],Xf=/^(true|false|\d+)$/,Yf=function(){return{restrict:"A",priority:100,compile:function(a,b){return Xf.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},Zf=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,c,d){a.$$addBindingInfo(c,d.ngBind),c=c[0],b.$watch(d.ngBind,function(a){c.textContent=t(a)?"":a})}}}}],$f=["$interpolate","$compile",function(a,b){return{compile:function(c){return b.$$addBindingClass(c),function(c,d,e){var f=a(d.attr(e.$attr.ngBindTemplate));b.$$addBindingInfo(d,f.expressions),d=d[0],e.$observe("ngBindTemplate",function(a){d.textContent=t(a)?"":a})}}}}],_f=["$sce","$parse","$compile",function(a,b,c){return{restrict:"A",compile:function(d,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(a){return(a||"").toString()});return c.$$addBindingClass(d),function(b,d,e){c.$$addBindingInfo(d,e.ngBindHtml),b.$watch(g,function(){d.html(a.getTrustedHtml(f(b))||"")})}}}}],ag=r({restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),bg=wd("",!0),cg=wd("Odd",0),dg=wd("Even",1),eg=gd({compile:function(a,b){b.$set("ngCloak",c),a.removeClass("ng-cloak")}}),fg=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],gg={},hg={blur:!0,focus:!0};f("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=pb("ng-"+a);gg[b]=["$parse","$rootScope",function(c,d){return{restrict:"A",compile:function(e,f){var g=c(f[b],null,!0);return function(b,c){c.on(a,function(c){var e=function(){g(b,{$event:c})};hg[a]&&d.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var ig=["$animate","$compile",function(a,b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(c){c?i||g(function(c,f){i=f,c[c.length++]=b.$$createComment("end ngIf",e.ngIf),h={clone:c},a.enter(c,d.parent(),d)}):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=qa(h.clone),a.leave(j).then(function(){j=null}),h=null))})}}}],jg=["$templateRequest","$anchorScroll","$animate",function(a,b,c){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Rd.noop,compile:function(d,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(d,e,i,j,k){var l,m,n,o=0,p=function(){m&&(m.remove(),m=null),l&&(l.$destroy(),l=null),n&&(c.leave(n).then(function(){m=null}),m=n,n=null)};d.$watch(f,function(f){var i=function(){!u(h)||h&&!d.$eval(h)||b()},m=++o;f?(a(f,!0).then(function(a){if(!d.$$destroyed&&m===o){var b=d.$new();j.template=a;var h=k(b,function(a){p(),c.enter(a,null,e).then(i)});l=b,n=h,l.$emit("$includeContentLoaded",f),d.$eval(g)}},function(){d.$$destroyed||m===o&&(p(),d.$emit("$includeContentError",f))}),d.$emit("$includeContentRequested",f)):(p(),j.template=null)})}}}}],kg=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){return Od.call(d[0]).match(/SVG/)?(d.empty(),void a(Ca(f.template,b).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),void a(d.contents())(c))}}}],lg=gd({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),mg=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,e){var g=b.attr(d.$attr.ngList)||", ",h="false"!==d.ngTrim,i=h?Vd(g):g,j=function(a){if(!t(a)){var b=[];return a&&f(a.split(i),function(a){a&&b.push(h?Vd(a):a)}),b}};e.$parsers.push(j),e.$formatters.push(function(a){return Td(a)?a.join(g):c}),e.$isEmpty=function(a){return!a||!a.length}}}},ng="ng-valid",og="ng-invalid",pg="ng-pristine",qg="ng-dirty",rg="ng-untouched",sg="ng-touched",tg="ng-pending",ug="ng-empty",vg="ng-not-empty",wg=d("ngModel"),xg=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,d,e,g,h,i,j,k,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=c,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=c,this.$name=l(d.name||"",!1)(a),this.$$parentForm=Ff;var m,n=g(d.ngModel),o=n.assign,q=n,r=o,s=null,v=this;this.$$setOptions=function(a){if(v.$options=a,a&&a.getterSetter){var b=g(d.ngModel+"()"),c=g(d.ngModel+"($$$p)");q=function(a){var c=n(a);return A(c)&&(c=b(a)),c},r=function(a,b){A(n(a))?c(a,{$$$p:b}):o(a,b)}}else if(!n.assign)throw wg("nonassign","Expression '{0}' is non-assignable. Element: {1}",d.ngModel,_(e))},this.$render=p,this.$isEmpty=function(a){return t(a)||""===a||null===a||a!==a},this.$$updateEmptyClasses=function(a){v.$isEmpty(a)?(h.removeClass(e,vg),h.addClass(e,ug)):(h.removeClass(e,ug),h.addClass(e,vg))};var w=0;xd({ctrl:this,$element:e,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},$animate:h}),this.$setPristine=function(){v.$dirty=!1,v.$pristine=!0,h.removeClass(e,qg),h.addClass(e,pg)},this.$setDirty=function(){v.$dirty=!0,v.$pristine=!1,h.removeClass(e,pg),h.addClass(e,qg),v.$$parentForm.$setDirty()},this.$setUntouched=function(){v.$touched=!1,v.$untouched=!0,h.setClass(e,rg,sg)},this.$setTouched=function(){v.$touched=!0,v.$untouched=!1,h.setClass(e,sg,rg)},this.$rollbackViewValue=function(){i.cancel(s),v.$viewValue=v.$$lastCommittedViewValue,v.$render()},this.$validate=function(){if(!y(v.$modelValue)||!isNaN(v.$modelValue)){var a=v.$$lastCommittedViewValue,b=v.$$rawModelValue,d=v.$valid,e=v.$modelValue,f=v.$options&&v.$options.allowInvalid;v.$$runValidators(b,a,function(a){f||d===a||(v.$modelValue=a?b:c,v.$modelValue!==e&&v.$$writeModelToScope())})}},this.$$runValidators=function(a,b,d){function e(){var a=v.$$parserName||"parse";return t(m)?(i(a,null),!0):(m||(f(v.$validators,function(a,b){i(b,null)}),f(v.$asyncValidators,function(a,b){i(b,null)})),i(a,m),m)}function g(){var c=!0;return f(v.$validators,function(d,e){var f=d(a,b);c=c&&f,i(e,f)}),!!c||(f(v.$asyncValidators,function(a,b){i(b,null)}),!1)}function h(){var d=[],e=!0;f(v.$asyncValidators,function(f,g){var h=f(a,b);if(!I(h))throw wg("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",h);i(g,c),d.push(h.then(function(){i(g,!0)},function(){e=!1,i(g,!1)}))}),d.length?k.all(d).then(function(){j(e)},p):j(!0)}function i(a,b){l===w&&v.$setValidity(a,b)}function j(a){l===w&&d(a)}w++;var l=w;return e()&&g()?void h():void j(!1)},this.$commitViewValue=function(){var a=v.$viewValue;i.cancel(s),(v.$$lastCommittedViewValue!==a||""===a&&v.$$hasNativeValidators)&&(v.$$updateEmptyClasses(a),v.$$lastCommittedViewValue=a,v.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function b(){v.$modelValue!==g&&v.$$writeModelToScope()}var d=v.$$lastCommittedViewValue,e=d;if(m=!t(e)||c)for(var f=0;f<v.$parsers.length;f++)if(e=v.$parsers[f](e),t(e)){m=!1;break}y(v.$modelValue)&&isNaN(v.$modelValue)&&(v.$modelValue=q(a));var g=v.$modelValue,h=v.$options&&v.$options.allowInvalid;v.$$rawModelValue=e,h&&(v.$modelValue=e,b()),v.$$runValidators(e,v.$$lastCommittedViewValue,function(a){h||(v.$modelValue=a?e:c,b())})},this.$$writeModelToScope=function(){r(a,v.$modelValue),f(v.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})},this.$setViewValue=function(a,b){v.$viewValue=a,v.$options&&!v.$options.updateOnDefault||v.$$debounceViewValueCommit(b)},this.$$debounceViewValueCommit=function(b){var c,d=0,e=v.$options;e&&u(e.debounce)&&(c=e.debounce,y(c)?d=c:y(c[b])?d=c[b]:y(c["default"])&&(d=c["default"])),i.cancel(s),d?s=i(function(){v.$commitViewValue()},d):j.$$phase?v.$commitViewValue():a.$apply(function(){v.$commitViewValue()})},a.$watch(function(){var b=q(a);if(b!==v.$modelValue&&(v.$modelValue===v.$modelValue||b===b)){v.$modelValue=v.$$rawModelValue=b,m=c;for(var d=v.$formatters,e=d.length,f=b;e--;)f=d[e](f);v.$viewValue!==f&&(v.$$updateEmptyClasses(f),v.$viewValue=v.$$lastCommittedViewValue=f,v.$render(),v.$$runValidators(b,f,p))}return b})}],yg=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:xg,priority:1,compile:function(b){return b.addClass(pg).addClass(rg).addClass(ng),{pre:function(a,b,c,d){var e=d[0],f=d[1]||e.$$parentForm;e.$$setOptions(d[2]&&d[2].$options),f.$addControl(e),c.$observe("name",function(a){e.$name!==a&&e.$$parentForm.$$renameControl(e,a)}),a.$on("$destroy",function(){e.$$parentForm.$removeControl(e)})},post:function(b,c,d,e){var f=e[0];f.$options&&f.$options.updateOn&&c.on(f.$options.updateOn,function(a){f.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(){f.$touched||(a.$$phase?b.$evalAsync(f.$setTouched):b.$apply(f.$setTouched))})}}}}}],zg=/(\s+|^)default(\s+|$)/,Ag=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var c=this;this.$options=P(a.$eval(b.ngModelOptions)),u(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Vd(this.$options.updateOn.replace(zg,function(){return c.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Bg=gd({terminal:!0,priority:1e3}),Cg=d("ngOptions"),Dg=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Eg=["$compile","$parse",function(a,c){function d(a,b,d){function f(a,b,c,d,e){this.selectValue=a,this.viewValue=b,this.label=c,this.group=d,this.disabled=e}function g(a){var b;if(!j&&e(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c)}return b}var h=a.match(Dg);if(!h)throw Cg("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",a,_(b));var i=h[5]||h[7],j=h[6],k=/ as /.test(h[0])&&h[1],l=h[9],m=c(h[2]?h[1]:i),n=k&&c(k),o=n||m,p=l&&c(l),q=l?function(a,b){return p(d,b)}:function(a){return _a(a)},r=function(a,b){return q(a,x(a,b))},s=c(h[2]||h[1]),t=c(h[3]||""),u=c(h[4]||""),v=c(h[8]),w={},x=j?function(a,b){return w[j]=b,w[i]=a,w}:function(a){return w[i]=a,w};return{trackBy:l,getTrackByValue:r,getWatchables:c(v,function(a){var b=[];a=a||[];for(var c=g(a),e=c.length,f=0;f<e;f++){var i=a===c?f:c[f],j=a[i],k=x(j,i),l=q(j,k);if(b.push(l),h[2]||h[1]){var m=s(d,k);b.push(m)}if(h[4]){var n=u(d,k);b.push(n)}}return b}),getOptions:function(){for(var a=[],b={},c=v(d)||[],e=g(c),h=e.length,i=0;i<h;i++){var j=c===e?i:e[i],k=c[j],m=x(k,j),n=o(d,m),p=q(n,m),w=s(d,m),y=t(d,m),z=u(d,m),A=new f(p,n,w,y,z);
a.push(A),b[p]=A}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[r(a)]},getViewValueFromOption:function(a){return l?Rd.copy(a.viewValue):a.viewValue}}}}}function g(b,c,e,g){function j(a,b){a.element=b,b.disabled=a.disabled,a.label!==b.label&&(b.label=a.label,b.textContent=a.label),a.value!==b.value&&(b.value=a.selectValue)}function k(a,b,c,d){var e;return b&&Dd(b.nodeName)===c?e=b:(e=d.cloneNode(!1),b?a.insertBefore(e,b):a.appendChild(e)),e}function l(a){for(var b;a;)b=a.nextSibling,Ta(a),a=b}function m(a){var b=o&&o[0],c=x&&x[0];if(b||c)for(;a&&(a===b||a===c||a.nodeType===ee||"option"===N(a)&&""===a.value);)a=a.nextSibling;return a}function n(){var a=y&&p.readValue();y=z.getOptions();var b={},d=c[0].firstChild;if(w&&c.prepend(o),d=m(d),y.items.forEach(function(a){var e,f,g;u(a.group)?(e=b[a.group],e||(f=k(c[0],d,"optgroup",i),d=f.nextSibling,f.label=a.group,e=b[a.group]={groupElement:f,currentOptionElement:f.firstChild}),g=k(e.groupElement,e.currentOptionElement,"option",h),j(a,g),e.currentOptionElement=g.nextSibling):(g=k(c[0],d,"option",h),j(a,g),d=g.nextSibling)}),Object.keys(b).forEach(function(a){l(b[a].currentOptionElement)}),l(d),q.$render(),!q.$isEmpty(a)){var e=p.readValue(),f=z.trackBy||r;(f?R(a,e):a===e)||(q.$setViewValue(e),q.$render())}}for(var o,p=g[0],q=g[1],r=e.multiple,s=0,t=c.children(),v=t.length;s<v;s++)if(""===t[s].value){o=t.eq(s);break}var w=!!o,x=Id(h.cloneNode(!1));x.val("?");var y,z=d(e.ngOptions,c,b),A=function(){w||c.prepend(o),c.val(""),o.prop("selected",!0),o.attr("selected",!0)},B=function(){w||o.remove()},C=function(){c.prepend(x),c.val("?"),x.prop("selected",!0),x.attr("selected",!0)},D=function(){x.remove()};r?(q.$isEmpty=function(a){return!a||0===a.length},p.writeValue=function(a){y.items.forEach(function(a){a.element.selected=!1}),a&&a.forEach(function(a){var b=y.getOptionFromViewValue(a);b&&!b.disabled&&(b.element.selected=!0)})},p.readValue=function(){var a=c.val()||[],b=[];return f(a,function(a){var c=y.selectValueMap[a];c&&!c.disabled&&b.push(y.getViewValueFromOption(c))}),b},z.trackBy&&b.$watchCollection(function(){if(Td(q.$viewValue))return q.$viewValue.map(function(a){return z.getTrackByValue(a)})},function(){q.$render()})):(p.writeValue=function(a){var b=y.getOptionFromViewValue(a);b&&!b.disabled?(c[0].value!==b.selectValue&&(D(),B(),c[0].value=b.selectValue,b.element.selected=!0),b.element.setAttribute("selected","selected")):null===a||w?(D(),A()):(B(),C())},p.readValue=function(){var a=y.selectValueMap[c.val()];return a&&!a.disabled?(B(),D(),y.getViewValueFromOption(a)):null},z.trackBy&&b.$watch(function(){return z.getTrackByValue(q.$viewValue)},function(){q.$render()})),w?(o.remove(),a(o)(b),o.removeClass("ng-scope")):o=Id(h.cloneNode(!1)),n(),b.$watchCollection(z.getWatchables,n)}var h=b.createElement("option"),i=b.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=p},post:g}}}],Fg=["$locale","$interpolate","$log",function(a,b,c){var d=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(g,h,i){function j(a){h.text(a||"")}var k,l=i.count,m=i.$attr.when&&h.attr(i.$attr.when),n=i.offset||0,o=g.$eval(m)||{},q={},r=b.startSymbol(),s=b.endSymbol(),u=r+l+"-"+n+s,v=Rd.noop;f(i,function(a,b){var c=e.exec(b);if(c){var d=(c[1]?"-":"")+Dd(c[2]);o[d]=h.attr(i.$attr[b])}}),f(o,function(a,c){q[c]=b(a.replace(d,u))}),g.$watch(l,function(b){var d=parseFloat(b),e=isNaN(d);if(e||d in o||(d=a.pluralCat(d-n)),d!==k&&!(e&&y(k)&&isNaN(k))){v();var f=q[d];t(f)?(null!=b&&c.debug("ngPluralize: no rule defined for '"+d+"' in "+m),v=p,j()):v=g.$watch(f,j),k=d}})}}}],Gg=["$parse","$animate","$compile",function(a,b,g){var h="$$NG_REMOVED",i=d("ngRepeat"),j=function(a,b,c,d,e,f,g){a[c]=d,e&&(a[e]=f),a.$index=b,a.$first=0===b,a.$last=b===g-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0===(1&b))},k=function(a){return a.clone[0]},l=function(a){return a.clone[a.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(d,m){var n=m.ngRepeat,o=g.$$createComment("end ngRepeat",n),p=n.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw i("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);var q=p[1],r=p[2],s=p[3],t=p[4];if(p=q.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!p)throw i("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",q);var u=p[3]||p[1],v=p[2];if(s&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(s)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(s)))throw i("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",s);var w,x,y,z,A={$id:_a};return t?w=a(t):(y=function(a,b){return _a(b)},z=function(a){return a}),function(a,d,g,m,p){w&&(x=function(b,c,d){return v&&(A[v]=b),A[u]=c,A.$index=d,w(a,A)});var q=ra();a.$watchCollection(r,function(g){var m,r,t,w,A,B,C,D,E,F,G,H,I=d[0],J=ra();if(s&&(a[s]=g),e(g))E=g,D=x||y;else{D=x||z,E=[];for(var K in g)Cd.call(g,K)&&"$"!==K.charAt(0)&&E.push(K)}for(w=E.length,G=new Array(w),m=0;m<w;m++)if(A=g===E?m:E[m],B=g[A],C=D(A,B,m),q[C])F=q[C],delete q[C],J[C]=F,G[m]=F;else{if(J[C])throw f(G,function(a){a&&a.scope&&(q[a.id]=a)}),i("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",n,C,B);G[m]={id:C,scope:c,clone:c},J[C]=!0}for(var L in q){if(F=q[L],H=qa(F.clone),b.leave(H),H[0].parentNode)for(m=0,r=H.length;m<r;m++)H[m][h]=!0;F.scope.$destroy()}for(m=0;m<w;m++)if(A=g===E?m:E[m],B=g[A],F=G[m],F.scope){t=I;do t=t.nextSibling;while(t&&t[h]);k(F)!=t&&b.move(qa(F.clone),null,I),I=l(F),j(F.scope,m,u,B,v,A,w)}else p(function(a,c){F.scope=c;var d=o.cloneNode(!1);a[a.length++]=d,b.enter(a,null,I),I=d,F.clone=a,J[F.id]=F,j(F.scope,m,u,B,v,A,w)});q=J})}}}}],Hg="ng-hide",Ig="ng-hide-animate",Jg=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngShow,function(b){a[b?"removeClass":"addClass"](c,Hg,{tempClasses:Ig})})}}}],Kg=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngHide,function(b){a[b?"addClass":"removeClass"](c,Hg,{tempClasses:Ig})})}}}],Lg=gd(function(a,b,c){a.$watch(c.ngStyle,function(a,c){c&&a!==c&&f(c,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),Mg=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,g){var h=e.ngSwitch||e.on,i=[],j=[],k=[],l=[],m=function(a,b){return function(){a.splice(b,1)}};c.$watch(h,function(c){var d,e;for(d=0,e=k.length;d<e;++d)a.cancel(k[d]);for(k.length=0,d=0,e=l.length;d<e;++d){var h=qa(j[d].clone);l[d].$destroy();var n=k[d]=a.leave(h);n.then(m(k,d))}j.length=0,l.length=0,(i=g.cases["!"+c]||g.cases["?"])&&f(i,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen");var g={clone:d};j.push(g),a.enter(d,f.parent(),f)})})})}}}],Ng=gd({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[],d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}}),Og=gd({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),Pg=d("ngTransclude"),Qg=gd({restrict:"EAC",link:function(a,b,c,d,e){function f(a){a.length&&(b.empty(),b.append(a))}if(c.ngTransclude===c.$attr.ngTransclude&&(c.ngTransclude=""),!e)throw Pg("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",_(b));var g=c.ngTransclude||c.ngTranscludeSlot;e(f,null,g)}}),Rg=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){if("text/ng-template"==c.type){var d=c.id,e=b[0].text;a.put(d,e)}}}}],Sg={$setViewValue:p,$render:p},Tg=["$element","$scope",function(a,d){var e=this,f=new ab;e.ngModelCtrl=Sg,e.unknownOption=Id(b.createElement("option")),e.renderUnknownOption=function(b){var c="? "+_a(b)+" ?";e.unknownOption.val(c),a.prepend(e.unknownOption),a.val(c)},d.$on("$destroy",function(){e.renderUnknownOption=p}),e.removeUnknownOption=function(){e.unknownOption.parent()&&e.unknownOption.remove()},e.readValue=function(){return e.removeUnknownOption(),a.val()},e.writeValue=function(b){e.hasOption(b)?(e.removeUnknownOption(),a.val(b),""===b&&e.emptyOption.prop("selected",!0)):null==b&&e.emptyOption?(e.removeUnknownOption(),a.val("")):e.renderUnknownOption(b)},e.addOption=function(a,b){if(b[0].nodeType!==ee){oa(a,'"option value"'),""===a&&(e.emptyOption=b);var c=f.get(a)||0;f.put(a,c+1),e.ngModelCtrl.$render(),zd(b)}},e.removeOption=function(a){var b=f.get(a);b&&(1===b?(f.remove(a),""===a&&(e.emptyOption=c)):f.put(a,b-1))},e.hasOption=function(a){return!!f.get(a)},e.registerOption=function(a,b,c,d,f){if(d){var g;c.$observe("value",function(a){u(g)&&e.removeOption(g),g=a,e.addOption(a,b)})}else f?a.$watch(f,function(a,d){c.$set("value",a),d!==a&&e.removeOption(d),e.addOption(a,b)}):e.addOption(c.value,b);b.on("$destroy",function(){e.removeOption(c.value),e.ngModelCtrl.$render()})}}],Ug=function(){function a(a,b,c,d){var e=d[1];if(e){var g=d[0];if(g.ngModelCtrl=e,b.on("change",function(){a.$apply(function(){e.$setViewValue(g.readValue())})}),c.multiple){g.readValue=function(){var a=[];return f(b.find("option"),function(b){b.selected&&a.push(b.value)}),a},g.writeValue=function(a){var c=new ab(a);f(b.find("option"),function(a){a.selected=u(c.get(a.value))})};var h,i=NaN;a.$watch(function(){i!==e.$viewValue||R(h,e.$viewValue)||(h=Q(e.$viewValue),e.$render()),i=e.$viewValue}),e.$isEmpty=function(a){return!a||0===a.length}}}}function b(a,b,c,d){var e=d[1];if(e){var f=d[0];e.$render=function(){f.writeValue(e.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Tg,priority:1,link:{pre:a,post:b}}},Vg=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,c){if(u(c.value))var d=a(c.value,!0);else{var e=a(b.text(),!0);e||c.$set("value",b.text())}return function(a,b,c){var f="$selectController",g=b.parent(),h=g.data(f)||g.parent().data(f);h&&h.registerOption(a,b,c,d,e)}}}}],Wg=r({restrict:"E",terminal:!1}),Xg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){d&&(c.required=!0,d.$validators.required=function(a,b){return!c.required||!d.$isEmpty(b)},c.$observe("required",function(){d.$validate()}))}}},Yg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,e,f){if(f){var g,h=e.ngPattern||e.pattern;e.$observe("pattern",function(a){if(x(a)&&a.length>0&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw d("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",h,a,_(b));g=a||c,f.$validate()}),f.$validators.pattern=function(a,b){return f.$isEmpty(b)||t(g)||g.test(b)}}}}},Zg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=-1;c.$observe("maxlength",function(a){var b=n(a);e=isNaN(b)?-1:b,d.$validate()}),d.$validators.maxlength=function(a,b){return e<0||d.$isEmpty(b)||b.length<=e}}}}},$g=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=0;c.$observe("minlength",function(a){e=n(a)||0,d.$validate()}),d.$validators.minlength=function(a,b){return d.$isEmpty(b)||b.length>=e}}}}};return a.angular.bootstrap?void(a.console&&console.log("WARNING: Tried to load angular more than once.")):(la(),va(Rd),Rd.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return b==-1?0:a.length-b-1}function d(a,d){var e=d;c===e&&(e=Math.min(b(a),3));var f=Math.pow(10,e),g=(a*f|0)%f;return{v:e,f:g}}var e={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,b){var c=0|a,f=d(a,b);return 1==c&&0==f.v?e.ONE:e.OTHER}})}]),void Id(b).ready(function(){ga(b,ha)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')}(this),d()}),System.register("app/core/core_module.js",["angular"],function(a){var b;return{setters:[function(a){b=a}],execute:function(){a("default",b["default"].module("grafana.core",["ngRoute"]))}}}),System.registerDynamic("eventemitter3",[],!0,function(a,b,c){"use strict";function d(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function e(){}var f=Object.prototype.hasOwnProperty,g="function"!=typeof Object.create&&"~";return e.prototype._events=void 0,e.prototype.eventNames=function(){var a,b=this._events,c=[];if(!b)return c;for(a in b)f.call(b,a)&&c.push(g?a.slice(1):a);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(b)):c},e.prototype.listeners=function(a,b){var c=g?g+a:a,d=this._events&&this._events[c];if(b)return!!d;if(!d)return[];if(d.fn)return[d.fn];for(var e=0,f=d.length,h=new Array(f);e<f;e++)h[e]=d[e].fn;return h},e.prototype.emit=function(a,b,c,d,e,f){var h=g?g+a:a;if(!this._events||!this._events[h])return!1;var i,j,k=this._events[h],l=arguments.length;if("function"==typeof k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,c),!0;case 4:return k.fn.call(k.context,b,c,d),!0;case 5:return k.fn.call(k.context,b,c,d,e),!0;case 6:return k.fn.call(k.context,b,c,d,e,f),!0}for(j=1,i=new Array(l-1);j<l;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;j<n;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,c);break;default:if(!i)for(m=1,i=new Array(l-1);m<l;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},e.prototype.on=function(a,b,c){var e=new d(b,c||this),f=g?g+a:a;return this._events||(this._events=g?{}:Object.create(null)),this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],e]:this._events[f].push(e):this._events[f]=e,this},e.prototype.once=function(a,b,c){var e=new d(b,c||this,(!0)),f=g?g+a:a;return this._events||(this._events=g?{}:Object.create(null)),this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],e]:this._events[f].push(e):this._events[f]=e,this},e.prototype.removeListener=function(a,b,c,d){var e=g?g+a:a;if(!this._events||!this._events[e])return this;var f=this._events[e],h=[];if(b)if(f.fn)(f.fn!==b||d&&!f.once||c&&f.context!==c)&&h.push(f);else for(var i=0,j=f.length;i<j;i++)(f[i].fn!==b||d&&!f[i].once||c&&f[i].context!==c)&&h.push(f[i]);return h.length?this._events[e]=1===h.length?h[0]:h:delete this._events[e],this},e.prototype.removeAllListeners=function(a){return this._events?(a?delete this._events[g?g+a:a]:this._events=g?{}:Object.create(null),this):this},e.prototype.off=e.prototype.removeListener,e.prototype.addListener=e.prototype.on,e.prototype.setMaxListeners=function(){return this},e.prefixed=g,"undefined"!=typeof c&&(c.exports=e),c.exports}),System.register("app/core/utils/emitter.js",["eventemitter3"],function(a){var b,c,d;return{setters:[function(a){b=a}],execute:function(){c={}.hasOwnProperty,d=function(){function a(){this.emitter=new b["default"]}return a.prototype.emit=function(a,b){this.emitter.emit(a,b)},a.prototype.on=function(a,b,c){var d=this;this.emitter.on(a,b),c&&c.$on("$destroy",function(){d.emitter.off(a,b)})},a.prototype.off=function(a,b){this.emitter.off(a,b)},a}(),a("Emitter",d)}}}),System.register("app/core/app_events.js",["./utils/emitter"],function(a){var b,c;return{setters:[function(a){b=a}],execute:function(){c=new b.Emitter,a("default",c)}}}),System.register("app/core/core.js",["./directives/annotation_tooltip","./directives/dash_class","./directives/confirm_click","./directives/dash_edit_link","./directives/dropdown_typeahead","./directives/grafana_version_check","./directives/metric_segment","./directives/misc","./directives/ng_model_on_blur","./directives/password_strenght","./directives/spectrum_picker","./directives/tags","./directives/value_select_dropdown","./directives/plugin_component","./directives/rebuild_on_change","./directives/give_focus","./jquery_extended","./partials","./components/grafana_app","./components/sidemenu/sidemenu","./components/search/search","./components/info_popover","./components/colorpicker","./components/navbar/navbar","./directives/array_join","./live/live_srv","./utils/emitter","./components/layout_selector/layout_selector","./components/switch","./components/dashboard_selector","./components/query_part/query_part_editor","./components/wizard/wizard","app/core/controllers/all","app/core/services/all","app/core/routes/routes","./filters/filters","./core_module","./app_events"],function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;return{setters:[function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){},function(a){b=a},function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a},function(a){i=a},function(a){j=a},function(a){k=a},function(a){l=a},function(a){m=a},function(a){n=a},function(a){o=a},function(a){},function(a){},function(a){},function(a){},function(a){p=a},function(a){q=a}],execute:function(){a("arrayJoin",h.arrayJoin),a("coreModule",p["default"]),a("grafanaAppDirective",b.grafanaAppDirective),a("sideMenuDirective",c.sideMenuDirective),a("navbarDirective",g.navbarDirective),a("searchDirective",d.searchDirective),a("colorPicker",f.colorPicker),a("liveSrv",i.liveSrv),a("layoutSelector",k.layoutSelector),a("switchDirective",l.switchDirective),a("infoPopover",e.infoPopover),a("Emitter",j.Emitter),a("appEvents",q["default"]),a("dashboardSelector",m.dashboardSelector),a("queryPartEditorDirective",n.queryPartEditorDirective),a("WizardFlow",o.WizardFlow)}}}),System.register("app/features/panel/panel_ctrl.js",["app/core/config","lodash","angular","jquery","app/core/profiler","app/core/core"],function(a){var b,c,d,e,f,g,h,i,j,k,l;return{setters:[function(a){b=a},function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a}],execute:function(){h=25,i=9,j=5,k=2,l=function(){function a(a,c){var d=this;this.$injector=c,this.$scope=a,this.$timeout=c.get("$timeout"),this.editorTabIndex=0,this.events=new g.Emitter,this.timing={};var e=b["default"].panels[this.panel.type];e&&(this.pluginId=e.id,this.pluginName=e.name),a.$on("refresh",function(){return d.refresh()}),a.$on("render",function(){return d.render()}),a.$on("$destroy",function(){return d.events.emit("panel-teardown")})}return a.prototype.init=function(){this.calculatePanelHeight(),this.publishAppEvent("panel-initialized",{scope:this.$scope}),this.events.emit("panel-initialized")},a.prototype.renderingCompleted=function(){f.profiler.renderingCompleted(this.panel.id,this.timing)},a.prototype.refresh=function(){this.events.emit("refresh",null)},a.prototype.publishAppEvent=function(a,b){this.$scope.$root.appEvent(a,b)},a.prototype.changeView=function(a,b){this.publishAppEvent("panel-change-view",{fullscreen:a,edit:b,panelId:this.panel.id})},a.prototype.viewPanel=function(){this.changeView(!0,!1)},a.prototype.editPanel=function(){this.changeView(!0,!0)},a.prototype.exitFullscreen=function(){this.changeView(!1,!1)},a.prototype.initEditMode=function(){var a=this;this.editorTabs=[],this.addEditorTab("General","public/app/partials/panelgeneral.html"),this.editModeInitiated=!0,this.events.emit("init-edit-mode",null);var b=this.$injector.get("$routeParams");b.editorTab&&this.editorTabs.forEach(function(c,d){c.title===b.editorTab&&(a.editorTabIndex=d)})},a.prototype.changeTab=function(a){this.editorTabIndex=a;var b=this.$injector.get("$route");b.current.params.editorTab=this.editorTabs[a].title,b.updateParams()},a.prototype.addEditorTab=function(a,b,d){var e={title:a,directiveFn:b};c["default"].isString(b)&&(e.directiveFn=function(){return{templateUrl:b}}),d?this.editorTabs.splice(d,0,e):this.editorTabs.push(e)},a.prototype.getMenu=function(){var a=[];return a.push({text:"View",click:"ctrl.viewPanel(); dismiss();"}),a.push({text:"Edit",click:"ctrl.editPanel(); dismiss();",role:"Editor"}),this.fullscreen||a.push({text:"Duplicate",click:"ctrl.duplicate()",role:"Editor"}),a.push({text:"Share",click:"ctrl.sharePanel(); dismiss();"}),a},a.prototype.getExtendedMenu=function(){var a=[{text:"Panel JSON",click:"ctrl.editPanelJson(); dismiss();"}];return this.events.emit("init-panel-actions",a),a},a.prototype.otherPanelInFullscreenMode=function(){return this.dashboard.meta.fullscreen&&!this.fullscreen},a.prototype.calculatePanelHeight=function(){if(this.fullscreen){var a=e["default"](window).height(),b=Math.floor(.3*a),d=Math.floor(.7*a);this.containerHeight=this.editMode?b:d}else this.containerHeight=this.panel.height||this.row.height,c["default"].isString(this.containerHeight)&&(this.containerHeight=parseInt(this.containerHeight.replace("px",""),10));this.height=this.containerHeight-(k+j+(this.panel.title?h:i))},a.prototype.render=function(a){this.otherPanelInFullscreenMode()||(this.calculatePanelHeight(),this.timing.renderStart=(new Date).getTime(),this.events.emit("render",a))},a.prototype.toggleEditorHelp=function(a){return this.editorHelpIndex===a?void(this.editorHelpIndex=null):void(this.editorHelpIndex=a)},a.prototype.duplicate=function(){this.dashboard.duplicatePanel(this.panel,this.row)},a.prototype.updateColumnSpan=function(a){var b=this;this.panel.span=Math.min(Math.max(Math.floor(this.panel.span+a),1),12),this.$timeout(function(){b.render()})},a.prototype.removePanel=function(){var a=this;this.publishAppEvent("confirm-modal",{title:"Remove Panel",text:"Are you sure you want to remove this panel?",icon:"fa-trash",yesText:"Remove",onConfirm:function(){a.row.panels=c["default"].without(a.row.panels,a.panel)}})},a.prototype.editPanelJson=function(){this.publishAppEvent("show-json-editor",{object:this.panel,updateHandler:this.replacePanel.bind(this)})},a.prototype.replacePanel=function(a,b){var d=this,e=(this.row,c["default"].indexOf(this.row.panels,b));this.row.panels.splice(e,1),this.$timeout(function(){a.id=b.id,a.span=b.span,d.row.panels.splice(e,0,a)})},a.prototype.sharePanel=function(){var a=this.$scope.$new();a.panel=this.panel,a.dashboard=this.dashboard,this.publishAppEvent("show-modal",{src:"public/app/features/dashboard/partials/shareModal.html",scope:a})},a.prototype.openInspector=function(){var a=this.$scope.$new();a.panel=this.panel,a.dashboard=this.dashboard,a.inspector=d["default"].copy(this.inspector),this.publishAppEvent("show-modal",{src:"public/app/partials/inspector.html",scope:a})},a}(),a("PanelCtrl",l)}}}),System.register("app/core/utils/rangeutil.js",["lodash","moment","./datemath"],function(a){function b(a,b){var c=f["default"].groupBy(j,function(a){return a.active=a.display===b,a.section});return c}function c(a){return a.format(k)}function d(a){a.indexOf("now")===-1&&(a="now-"+a);var b=l[a+" to now"];if(b)return b;b={from:a,to:"now"};var c=/^now-(\d+)(\w)/.exec(a);if(c){var d=c[2],e=parseInt(c[1]),f=i[d];f&&(b.display="Last "+e+" "+f.display,b.section=f.section,e>1&&(b.display+="s"))}else b.display=b.from+" to "+b.to,b.invalid=!0;return b}function e(a){var b=l[a.from.toString()+" to "+a.to.toString()];if(b)return b.display;if(g["default"].isMoment(a.from)&&g["default"].isMoment(a.to))return c(a.from)+" to "+c(a.to);if(g["default"].isMoment(a.from)){var e=h.parse(a.to,!0);return c(a.from)+" to "+e.fromNow()}if(g["default"].isMoment(a.to)){var f=h.parse(a.from,!1);return f.fromNow()+" to "+c(a.to)}if("now"===a.to.toString()){var i=d(a.from);return i.display}return a.from.toString()+" to "+a.to.toString()}var f,g,h,i,j,k,l;return a("getRelativeTimesList",b),a("describeTextRange",d),a("describeTimeRange",e),{setters:[function(a){f=a},function(a){g=a},function(a){h=a}],execute:function(){i={s:{display:"second"},m:{display:"minute"},h:{display:"hour"},d:{display:"day"},w:{display:"week"},M:{display:"month"},y:{display:"year"}},j=[{from:"now/d",to:"now/d",display:"Today",section:2},{from:"now/d",to:"now",display:"Today so far",section:2},{from:"now/w",to:"now/w",display:"This week",section:2},{from:"now/w",to:"now",display:"This week so far",section:2},{from:"now/M",to:"now/M",display:"This month",section:2},{from:"now/y",to:"now/y",display:"This year",section:2},{from:"now-1d/d",to:"now-1d/d",display:"Yesterday",section:1},{from:"now-2d/d",to:"now-2d/d",display:"Day before yesterday",section:1},{from:"now-7d/d",to:"now-7d/d",display:"This day last week",section:1},{from:"now-1w/w",to:"now-1w/w",display:"Previous week",section:1},{from:"now-1M/M",to:"now-1M/M",display:"Previous month",section:1},{from:"now-1y/y",to:"now-1y/y",display:"Previous year",section:1},{from:"now-5m",to:"now",display:"Last 5 minutes",section:3},{from:"now-15m",to:"now",display:"Last 15 minutes",section:3},{from:"now-30m",to:"now",display:"Last 30 minutes",section:3},{from:"now-1h",to:"now",display:"Last 1 hour",section:3},{from:"now-3h",to:"now",display:"Last 3 hours",section:3},{from:"now-6h",to:"now",display:"Last 6 hours",section:3},{from:"now-12h",to:"now",display:"Last 12 hours",section:3},{from:"now-24h",to:"now",display:"Last 24 hours",section:3},{from:"now-7d",to:"now",display:"Last 7 days",section:0},{from:"now-30d",to:"now",display:"Last 30 days",section:0},{from:"now-60d",to:"now",display:"Last 60 days",section:0},{from:"now-90d",to:"now",display:"Last 90 days",section:0},{from:"now-6M",to:"now",display:"Last 6 months",section:0},{from:"now-1y",to:"now",display:"Last 1 year",section:0},{from:"now-2y",to:"now",display:"Last 2 years",section:0},{from:"now-5y",to:"now",display:"Last 5 years",section:0}],k="MMM D, YYYY HH:mm:ss",l={},f["default"].each(j,function(a){l[a.from+" to "+a.to]=a})}}}),function(){var a=System.amdDefine;!function(b,c){"object"==typeof exports&&"undefined"!=typeof module?module.exports=c():"function"==typeof a&&a.amd?a("moment",[],c):b.moment=c()}(this,function(){"use strict";function a(){return Zc.apply(null,arguments)}function b(a){Zc=a}function c(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return Ia(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!(isNaN(a._d.getTime())||!(b.overflow<0)||b.empty||b.invalidMonth||b.invalidWeekday||b.nullInput||b.invalidFormat||b.userInvalidated),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(NaN);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a){return void 0===a}function n(a,b){var c,d,e;if(m(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),m(b._i)||(a._i=b._i),m(b._f)||(a._f=b._f),m(b._l)||(a._l=b._l),m(b._strict)||(a._strict=b._strict),m(b._tzm)||(a._tzm=b._tzm),m(b._isUTC)||(a._isUTC=b._isUTC),m(b._offset)||(a._offset=b._offset),m(b._pf)||(a._pf=j(b)),m(b._locale)||(a._locale=b._locale),$c.length>0)for(c in $c)d=$c[c],e=b[d],m(e)||(a[d]=e);return a}function o(b){n(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),_c===!1&&(_c=!0,a.updateOffset(this),_c=!1)}function p(a){return a instanceof o||null!=a&&null!=a._isAMomentObject}function q(a){return a<0?Math.ceil(a):Math.floor(a)}function r(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=q(b)),c}function s(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;d<e;d++)(c&&a[d]!==b[d]||!c&&r(a[d])!==r(b[d]))&&g++;return g+f}function t(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function u(a,b){var c=!0;return g(function(){return c&&(t(a+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),c=!1),b.apply(this,arguments)},b)}function v(a,b){ad[a]||(t(b),ad[a]=!0)}function w(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function x(a){return"[object Object]"===Object.prototype.toString.call(a)}function y(a){var b,c;for(c in a)b=a[c],w(b)?this[c]=b:this["_"+c]=b;this._config=a,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function z(a,b){var c,d=g({},a);for(c in b)f(b,c)&&(x(a[c])&&x(b[c])?(d[c]={},g(d[c],a[c]),g(d[c],b[c])):null!=b[c]?d[c]=b[c]:delete d[c]);return d}function A(a){null!=a&&this.set(a)}function B(a){return a?a.toLowerCase().replace("_","-"):a}function C(a){for(var b,c,d,e,f=0;f<a.length;){for(e=B(a[f]).split("-"),b=e.length,c=B(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=D(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&s(e,c,!0)>=b-1)break;b--}f++}return null}function D(a){var b=null;if(!cd[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=bd._abbr,require("./locale/"+a),E(b)}catch(c){}return cd[a]}function E(a,b){var c;return a&&(c=m(b)?H(a):F(a,b),c&&(bd=c)),bd._abbr}function F(a,b){return null!==b?(b.abbr=a,null!=cd[a]?(v("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),b=z(cd[a]._config,b)):null!=b.parentLocale&&(null!=cd[b.parentLocale]?b=z(cd[b.parentLocale]._config,b):v("parentLocaleUndefined","specified parentLocale is not defined yet")),cd[a]=new A(b),E(a),cd[a]):(delete cd[a],null)}function G(a,b){if(null!=b){var c;null!=cd[a]&&(b=z(cd[a]._config,b)),c=new A(b),c.parentLocale=cd[a],cd[a]=c,E(a)}else null!=cd[a]&&(null!=cd[a].parentLocale?cd[a]=cd[a].parentLocale:null!=cd[a]&&delete cd[a]);return cd[a]}function H(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return bd;if(!c(a)){
if(b=D(a))return b;a=[a]}return C(a)}function I(){return Object.keys(cd)}function J(a,b){var c=a.toLowerCase();dd[c]=dd[c+"s"]=dd[b]=a}function K(a){return"string"==typeof a?dd[a]||dd[a.toLowerCase()]:void 0}function L(a){var b,c,d={};for(c in a)f(a,c)&&(b=K(c),b&&(d[b]=a[c]));return d}function M(b,c){return function(d){return null!=d?(O(this,b,d),a.updateOffset(this,c),this):N(this,b)}}function N(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function O(a,b,c){a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+b](c)}function P(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else if(a=K(a),w(this[a]))return this[a](b);return this}function Q(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function R(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(hd[a]=e),b&&(hd[b[0]]=function(){return Q(e.apply(this,arguments),b[1],b[2])}),c&&(hd[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function S(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function T(a){var b,c,d=a.match(ed);for(b=0,c=d.length;b<c;b++)hd[d[b]]?d[b]=hd[d[b]]:d[b]=S(d[b]);return function(e){var f="";for(b=0;b<c;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function U(a,b){return a.isValid()?(b=V(b,a.localeData()),gd[b]=gd[b]||T(b),gd[b](a)):a.localeData().invalidDate()}function V(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(fd.lastIndex=0;d>=0&&fd.test(a);)a=a.replace(fd,c),fd.lastIndex=0,d-=1;return a}function W(a,b,c){zd[a]=w(b)?b:function(a,d){return a&&c?c:b}}function X(a,b){return f(zd,a)?zd[a](b._strict,b._locale):new RegExp(Y(a))}function Y(a){return Z(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function Z(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function $(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=r(a)}),c=0;c<a.length;c++)Ad[a[c]]=d}function _(a,b){$(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function aa(a,b,c){null!=b&&f(Ad,a)&&Ad[a](b,c._a,c,a)}function ba(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function ca(a,b){return c(this._months)?this._months[a.month()]:this._months[Kd.test(b)?"format":"standalone"][a.month()]}function da(a,b){return c(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[Kd.test(b)?"format":"standalone"][a.month()]}function ea(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(e=h([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function fa(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=r(b);else if(b=a.localeData().monthsParse(b),"number"!=typeof b)return a;return c=Math.min(a.date(),ba(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function ga(b){return null!=b?(fa(this,b),a.updateOffset(this,!0),this):N(this,"Month")}function ha(){return ba(this.year(),this.month())}function ia(a){return this._monthsParseExact?(f(this,"_monthsRegex")||ka.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex}function ja(a){return this._monthsParseExact?(f(this,"_monthsRegex")||ka.call(this),a?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex}function ka(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;b<12;b++)c=h([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;b<12;b++)d[b]=Z(d[b]),e[b]=Z(e[b]),f[b]=Z(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")$","i")}function la(a){var b,c=a._a;return c&&j(a).overflow===-2&&(b=c[Cd]<0||c[Cd]>11?Cd:c[Dd]<1||c[Dd]>ba(c[Bd],c[Cd])?Dd:c[Ed]<0||c[Ed]>24||24===c[Ed]&&(0!==c[Fd]||0!==c[Gd]||0!==c[Hd])?Ed:c[Fd]<0||c[Fd]>59?Fd:c[Gd]<0||c[Gd]>59?Gd:c[Hd]<0||c[Hd]>999?Hd:-1,j(a)._overflowDayOfYear&&(b<Bd||b>Dd)&&(b=Dd),j(a)._overflowWeeks&&b===-1&&(b=Id),j(a)._overflowWeekday&&b===-1&&(b=Jd),j(a).overflow=b),a}function ma(a){var b,c,d,e,f,g,h=a._i,i=Pd.exec(h)||Qd.exec(h);if(i){for(j(a).iso=!0,b=0,c=Sd.length;b<c;b++)if(Sd[b][1].exec(i[1])){e=Sd[b][0],d=Sd[b][2]!==!1;break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=Td.length;b<c;b++)if(Td[b][1].exec(i[3])){f=(i[2]||" ")+Td[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!Rd.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),Ba(a)}else a._isValid=!1}function na(b){var c=Ud.exec(b._i);return null!==c?void(b._d=new Date((+c[1]))):(ma(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function oa(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return a<100&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function pa(a){var b=new Date(Date.UTC.apply(null,arguments));return a<100&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function qa(a){return ra(a)?366:365}function ra(a){return a%4===0&&a%100!==0||a%400===0}function sa(){return ra(this.year())}function ta(a,b,c){var d=7+b-c,e=(7+pa(a,0,d).getUTCDay()-b)%7;return-e+d-1}function ua(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=ta(a,d,e),j=1+7*(b-1)+h+i;return j<=0?(f=a-1,g=qa(f)+j):j>qa(a)?(f=a+1,g=j-qa(a)):(f=a,g=j),{year:f,dayOfYear:g}}function va(a,b,c){var d,e,f=ta(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return g<1?(e=a.year()-1,d=g+wa(e,b,c)):g>wa(a.year(),b,c)?(d=g-wa(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function wa(a,b,c){var d=ta(a,b,c),e=ta(a+1,b,c);return(qa(a)-d+e)/7}function xa(a,b,c){return null!=a?a:null!=b?b:c}function ya(b){var c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function za(a){var b,c,d,e,f=[];if(!a._d){for(d=ya(a),a._w&&null==a._a[Dd]&&null==a._a[Cd]&&Aa(a),a._dayOfYear&&(e=xa(a._a[Bd],d[Bd]),a._dayOfYear>qa(e)&&(j(a)._overflowDayOfYear=!0),c=pa(e,0,a._dayOfYear),a._a[Cd]=c.getUTCMonth(),a._a[Dd]=c.getUTCDate()),b=0;b<3&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;b<7;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[Ed]&&0===a._a[Fd]&&0===a._a[Gd]&&0===a._a[Hd]&&(a._nextDay=!0,a._a[Ed]=0),a._d=(a._useUTC?pa:oa).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[Ed]=24)}}function Aa(a){var b,c,d,e,f,g,h,i;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=xa(b.GG,a._a[Bd],va(Ja(),1,4).year),d=xa(b.W,1),e=xa(b.E,1),(e<1||e>7)&&(i=!0)):(f=a._locale._week.dow,g=a._locale._week.doy,c=xa(b.gg,a._a[Bd],va(Ja(),f,g).year),d=xa(b.w,1),null!=b.d?(e=b.d,(e<0||e>6)&&(i=!0)):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f),d<1||d>wa(c,f,g)?j(a)._overflowWeeks=!0:null!=i?j(a)._overflowWeekday=!0:(h=ua(c,d,e,f,g),a._a[Bd]=h.year,a._dayOfYear=h.dayOfYear)}function Ba(b){if(b._f===a.ISO_8601)return void ma(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=V(b._f,b._locale).match(ed)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(X(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),hd[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),aa(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[Ed]<=12&&b._a[Ed]>0&&(j(b).bigHour=void 0),b._a[Ed]=Ca(b._locale,b._a[Ed],b._meridiem),za(b),la(b)}function Ca(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&b<12&&(b+=12),d||12!==b||(b=0),b):b}function Da(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=n({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],Ba(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||f<d)&&(d=f,c=b));g(a,c||b)}function Ea(a){if(!a._d){var b=L(a._i);a._a=e([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),za(a)}}function Fa(a){var b=new o(la(Ga(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function Ga(a){var b=a._i,e=a._f;return a._locale=a._locale||H(a._l),null===b||void 0===e&&""===b?l({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),p(b)?new o(la(b)):(c(e)?Da(a):e?Ba(a):d(b)?a._d=b:Ha(a),k(a)||(a._d=null),a))}function Ha(b){var f=b._i;void 0===f?b._d=new Date(a.now()):d(f)?b._d=new Date((+f)):"string"==typeof f?na(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),za(b)):"object"==typeof f?Ea(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}function Ia(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,Fa(f)}function Ja(a,b,c,d){return Ia(a,b,c,d,!1)}function Ka(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Ja();for(d=b[0],e=1;e<b.length;++e)b[e].isValid()&&!b[e][a](d)||(d=b[e]);return d}function La(){var a=[].slice.call(arguments,0);return Ka("isBefore",a)}function Ma(){var a=[].slice.call(arguments,0);return Ka("isAfter",a)}function Na(a){var b=L(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=H(),this._bubble()}function Oa(a){return a instanceof Na}function Pa(a,b){R(a,0,0,function(){var a=this.utcOffset(),c="+";return a<0&&(a=-a,c="-"),c+Q(~~(a/60),2)+b+Q(~~a%60,2)})}function Qa(a,b){var c=(b||"").match(a)||[],d=c[c.length-1]||[],e=(d+"").match(Zd)||["-",0,0],f=+(60*e[1])+r(e[2]);return"+"===e[0]?f:-f}function Ra(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(p(b)||d(b)?+b:+Ja(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Ja(b).local()}function Sa(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Ta(b,c){var d,e=this._offset||0;return this.isValid()?null!=b?("string"==typeof b?b=Qa(wd,b):Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Sa(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?ib(this,cb(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Sa(this):null!=b?this:NaN}function Ua(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Va(a){return this.utcOffset(0,a)}function Wa(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Sa(this),"m")),this}function Xa(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Qa(vd,this._i)),this}function Ya(a){return!!this.isValid()&&(a=a?Ja(a).utcOffset():0,(this.utcOffset()-a)%60===0)}function Za(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function $a(){if(!m(this._isDSTShifted))return this._isDSTShifted;var a={};if(n(a,this),a=Ga(a),a._a){var b=a._isUTC?h(a._a):Ja(a._a);this._isDSTShifted=this.isValid()&&s(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function _a(){return!!this.isValid()&&!this._isUTC}function ab(){return!!this.isValid()&&this._isUTC}function bb(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function cb(a,b){var c,d,e,g=a,h=null;return Oa(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=$d.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:r(h[Dd])*c,h:r(h[Ed])*c,m:r(h[Fd])*c,s:r(h[Gd])*c,ms:r(h[Hd])*c}):(h=_d.exec(a))?(c="-"===h[1]?-1:1,g={y:db(h[2],c),M:db(h[3],c),w:db(h[4],c),d:db(h[5],c),h:db(h[6],c),m:db(h[7],c),s:db(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=fb(Ja(g.from),Ja(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Na(g),Oa(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function db(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function eb(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function fb(a,b){var c;return a.isValid()&&b.isValid()?(b=Ra(b,a),a.isBefore(b)?c=eb(a,b):(c=eb(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function gb(a){return a<0?Math.round(-1*a)*-1:Math.round(a)}function hb(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(v(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=cb(c,d),ib(this,e,a),this}}function ib(b,c,d,e){var f=c._milliseconds,g=gb(c._days),h=gb(c._months);b.isValid()&&(e=null==e||e,f&&b._d.setTime(+b._d+f*d),g&&O(b,"Date",N(b,"Date")+g*d),h&&fa(b,N(b,"Month")+h*d),e&&a.updateOffset(b,g||h))}function jb(a,b){var c=a||Ja(),d=Ra(c,this).startOf("day"),e=this.diff(d,"days",!0),f=e<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse",g=b&&(w(b[f])?b[f]():b[f]);return this.format(g||this.localeData().calendar(f,this,Ja(c)))}function kb(){return new o(this)}function lb(a,b){var c=p(a)?a:Ja(a);return!(!this.isValid()||!c.isValid())&&(b=K(m(b)?"millisecond":b),"millisecond"===b?+this>+c:+c<+this.clone().startOf(b))}function mb(a,b){var c=p(a)?a:Ja(a);return!(!this.isValid()||!c.isValid())&&(b=K(m(b)?"millisecond":b),"millisecond"===b?+this<+c:+this.clone().endOf(b)<+c)}function nb(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)}function ob(a,b){var c,d=p(a)?a:Ja(a);return!(!this.isValid()||!d.isValid())&&(b=K(b||"millisecond"),"millisecond"===b?+this===+d:(c=+d,+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b)))}function pb(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function qb(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function rb(a,b,c){var d,e,f,g;return this.isValid()?(d=Ra(a,this),d.isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),b=K(b),"year"===b||"month"===b||"quarter"===b?(g=sb(this,d),"quarter"===b?g/=3:"year"===b&&(g/=12)):(f=this-d,g="second"===b?f/1e3:"minute"===b?f/6e4:"hour"===b?f/36e5:"day"===b?(f-e)/864e5:"week"===b?(f-e)/6048e5:f),c?g:q(g)):NaN):NaN}function sb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return b-f<0?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function tb(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ub(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?w(Date.prototype.toISOString)?this.toDate().toISOString():U(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):U(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function vb(b){var c=U(this,b||a.defaultFormat);return this.localeData().postformat(c)}function wb(a,b){return this.isValid()&&(p(a)&&a.isValid()||Ja(a).isValid())?cb({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function xb(a){return this.from(Ja(),a)}function yb(a,b){return this.isValid()&&(p(a)&&a.isValid()||Ja(a).isValid())?cb({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function zb(a){return this.to(Ja(),a)}function Ab(a){var b;return void 0===a?this._locale._abbr:(b=H(a),null!=b&&(this._locale=b),this)}function Bb(){return this._locale}function Cb(a){switch(a=K(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function Db(a){return a=K(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function Eb(){return+this._d-6e4*(this._offset||0)}function Fb(){return Math.floor(+this/1e3)}function Gb(){return this._offset?new Date((+this)):this._d}function Hb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function Ib(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Jb(){return this.isValid()?this.toISOString():null}function Kb(){return k(this)}function Lb(){return g({},j(this))}function Mb(){return j(this).overflow}function Nb(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ob(a,b){R(0,[a,a.length],0,b)}function Pb(a){return Tb.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Qb(a){return Tb.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Rb(){return wa(this.year(),1,4)}function Sb(){var a=this.localeData()._week;return wa(this.year(),a.dow,a.doy)}function Tb(a,b,c,d,e){var f;return null==a?va(this,d,e).year:(f=wa(a,d,e),b>f&&(b=f),Ub.call(this,a,b,c,d,e))}function Ub(a,b,c,d,e){var f=ua(a,b,c,d,e),g=pa(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Vb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Wb(a){return va(a,this._week.dow,this._week.doy).week}function Xb(){return this._week.dow}function Yb(){return this._week.doy}function Zb(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function $b(a){var b=va(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function _b(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function ac(a,b){return c(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]}function bc(a){return this._weekdaysShort[a.day()]}function cc(a){return this._weekdaysMin[a.day()]}function dc(a,b,c){var d,e,f;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(e=Ja([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function ec(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=_b(a,this.localeData()),this.add(a-b,"d")):b}function fc(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function gc(a){return this.isValid()?null==a?this.day()||7:this.day(this.day()%7?a:a-7):null!=a?this:NaN}function hc(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function ic(){return this.hours()%12||12}function jc(a,b){R(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function kc(a,b){return b._meridiemParse}function lc(a){return"p"===(a+"").toLowerCase().charAt(0)}function mc(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function nc(a,b){b[Hd]=r(1e3*("0."+a))}function oc(){return this._isUTC?"UTC":""}function pc(){return this._isUTC?"Coordinated Universal Time":""}function qc(a){return Ja(1e3*a)}function rc(){return Ja.apply(null,arguments).parseZone()}function sc(a,b,c){var d=this._calendar[a];return w(d)?d.call(b,c):d}function tc(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function uc(){return this._invalidDate}function vc(a){return this._ordinal.replace("%d",a)}function wc(a){return a}function xc(a,b,c,d){var e=this._relativeTime[c];return w(e)?e(a,b,c,d):e.replace(/%d/i,a)}function yc(a,b){var c=this._relativeTime[a>0?"future":"past"];return w(c)?c(b):c.replace(/%s/i,b)}function zc(a,b,c,d){var e=H(),f=h().set(d,b);return e[c](f,a)}function Ac(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return zc(a,b,c,e);var f,g=[];for(f=0;f<d;f++)g[f]=zc(a,f,c,e);return g}function Bc(a,b){return Ac(a,b,"months",12,"month")}function Cc(a,b){return Ac(a,b,"monthsShort",12,"month")}function Dc(a,b){return Ac(a,b,"weekdays",7,"day")}function Ec(a,b){return Ac(a,b,"weekdaysShort",7,"day")}function Fc(a,b){return Ac(a,b,"weekdaysMin",7,"day")}function Gc(){var a=this._data;return this._milliseconds=xe(this._milliseconds),this._days=xe(this._days),this._months=xe(this._months),a.milliseconds=xe(a.milliseconds),a.seconds=xe(a.seconds),a.minutes=xe(a.minutes),a.hours=xe(a.hours),a.months=xe(a.months),a.years=xe(a.years),this}function Hc(a,b,c,d){var e=cb(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function Ic(a,b){return Hc(this,a,b,1)}function Jc(a,b){return Hc(this,a,b,-1)}function Kc(a){return a<0?Math.floor(a):Math.ceil(a)}function Lc(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||f<=0&&g<=0&&h<=0||(f+=864e5*Kc(Nc(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=q(f/1e3),i.seconds=a%60,b=q(a/60),i.minutes=b%60,c=q(b/60),i.hours=c%24,g+=q(c/24),e=q(Mc(g)),h+=e,g-=Kc(Nc(e)),d=q(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function Mc(a){return 4800*a/146097}function Nc(a){return 146097*a/4800}function Oc(a){var b,c,d=this._milliseconds;if(a=K(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+Mc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(Nc(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function Pc(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*r(this._months/12)}function Qc(a){return function(){return this.as(a)}}function Rc(a){return a=K(a),this[a+"s"]()}function Sc(a){return function(){return this._data[a]}}function Tc(){return q(this.days()/7)}function Uc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Vc(a,b,c){var d=cb(a).abs(),e=Ne(d.as("s")),f=Ne(d.as("m")),g=Ne(d.as("h")),h=Ne(d.as("d")),i=Ne(d.as("M")),j=Ne(d.as("y")),k=e<Oe.s&&["s",e]||f<=1&&["m"]||f<Oe.m&&["mm",f]||g<=1&&["h"]||g<Oe.h&&["hh",g]||h<=1&&["d"]||h<Oe.d&&["dd",h]||i<=1&&["M"]||i<Oe.M&&["MM",i]||j<=1&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,Uc.apply(null,k)}function Wc(a,b){return void 0!==Oe[a]&&(void 0===b?Oe[a]:(Oe[a]=b,!0))}function Xc(a){var b=this.localeData(),c=Vc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Yc(){var a,b,c,d=Pe(this._milliseconds)/1e3,e=Pe(this._days),f=Pe(this._months);a=q(d/60),b=q(a/60),d%=60,a%=60,c=q(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(m<0?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var Zc,$c=a.momentProperties=[],_c=!1,ad={};a.suppressDeprecationWarnings=!1;var bd,cd={},dd={},ed=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,fd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,gd={},hd={},id=/\d/,jd=/\d\d/,kd=/\d{3}/,ld=/\d{4}/,md=/[+-]?\d{6}/,nd=/\d\d?/,od=/\d\d\d\d?/,pd=/\d\d\d\d\d\d?/,qd=/\d{1,3}/,rd=/\d{1,4}/,sd=/[+-]?\d{1,6}/,td=/\d+/,ud=/[+-]?\d+/,vd=/Z|[+-]\d\d:?\d\d/gi,wd=/Z|[+-]\d\d(?::?\d\d)?/gi,xd=/[+-]?\d+(\.\d{1,3})?/,yd=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,zd={},Ad={},Bd=0,Cd=1,Dd=2,Ed=3,Fd=4,Gd=5,Hd=6,Id=7,Jd=8;R("M",["MM",2],"Mo",function(){return this.month()+1}),R("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),R("MMMM",0,0,function(a){return this.localeData().months(this,a)}),J("month","M"),W("M",nd),W("MM",nd,jd),W("MMM",function(a,b){return b.monthsShortRegex(a)}),W("MMMM",function(a,b){return b.monthsRegex(a)}),$(["M","MM"],function(a,b){b[Cd]=r(a)-1}),$(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[Cd]=e:j(c).invalidMonth=a});var Kd=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Ld="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Md="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Nd=yd,Od=yd,Pd=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Qd=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Rd=/Z|[+-]\d\d(?::?\d\d)?/,Sd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Td=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ud=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=u("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),R("Y",0,0,function(){var a=this.year();return a<=9999?""+a:"+"+a}),R(0,["YY",2],0,function(){return this.year()%100}),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),J("year","y"),W("Y",ud),W("YY",nd,jd),W("YYYY",rd,ld),W("YYYYY",sd,md),W("YYYYYY",sd,md),$(["YYYYY","YYYYYY"],Bd),$("YYYY",function(b,c){c[Bd]=2===b.length?a.parseTwoDigitYear(b):r(b)}),$("YY",function(b,c){c[Bd]=a.parseTwoDigitYear(b)}),$("Y",function(a,b){b[Bd]=parseInt(a,10)}),a.parseTwoDigitYear=function(a){return r(a)+(r(a)>68?1900:2e3)};var Vd=M("FullYear",!1);a.ISO_8601=function(){};var Wd=u("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Ja.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:l()}),Xd=u("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Ja.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:l()}),Yd=function(){return Date.now?Date.now():+new Date};Pa("Z",":"),Pa("ZZ",""),W("Z",wd),W("ZZ",wd),$(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Qa(wd,a)});var Zd=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var $d=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,_d=/^(-)?P(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)W)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?$/;cb.fn=Na.prototype;var ae=hb(1,"add"),be=hb(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var ce=u("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});R(0,["gg",2],0,function(){return this.weekYear()%100}),R(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ob("gggg","weekYear"),Ob("ggggg","weekYear"),Ob("GGGG","isoWeekYear"),Ob("GGGGG","isoWeekYear"),J("weekYear","gg"),J("isoWeekYear","GG"),W("G",ud),W("g",ud),W("GG",nd,jd),W("gg",nd,jd),W("GGGG",rd,ld),W("gggg",rd,ld),W("GGGGG",sd,md),W("ggggg",sd,md),_(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=r(a)}),_(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),R("Q",0,"Qo","quarter"),J("quarter","Q"),W("Q",id),$("Q",function(a,b){b[Cd]=3*(r(a)-1)}),R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),J("week","w"),J("isoWeek","W"),W("w",nd),W("ww",nd,jd),W("W",nd),W("WW",nd,jd),_(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=r(a)});var de={dow:0,doy:6};R("D",["DD",2],"Do","date"),J("date","D"),W("D",nd),W("DD",nd,jd),W("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),$(["D","DD"],Dd),$("Do",function(a,b){b[Dd]=r(a.match(nd)[0],10)});var ee=M("Date",!0);R("d",0,"do","day"),R("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),R("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),R("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),J("day","d"),J("weekday","e"),J("isoWeekday","E"),W("d",nd),W("e",nd),W("E",nd),W("dd",yd),W("ddd",yd),W("dddd",yd),_(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:j(c).invalidWeekday=a}),_(["d","e","E"],function(a,b,c,d){b[d]=r(a)});var fe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ge="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),he="Su_Mo_Tu_We_Th_Fr_Sa".split("_");R("DDD",["DDDD",3],"DDDo","dayOfYear"),J("dayOfYear","DDD"),W("DDD",qd),W("DDDD",kd),$(["DDD","DDDD"],function(a,b,c){c._dayOfYear=r(a)}),R("H",["HH",2],0,"hour"),R("h",["hh",2],0,ic),R("hmm",0,0,function(){return""+ic.apply(this)+Q(this.minutes(),2)}),R("hmmss",0,0,function(){return""+ic.apply(this)+Q(this.minutes(),2)+Q(this.seconds(),2)}),R("Hmm",0,0,function(){return""+this.hours()+Q(this.minutes(),2)}),R("Hmmss",0,0,function(){return""+this.hours()+Q(this.minutes(),2)+Q(this.seconds(),2)}),jc("a",!0),jc("A",!1),J("hour","h"),W("a",kc),W("A",kc),W("H",nd),W("h",nd),W("HH",nd,jd),W("hh",nd,jd),W("hmm",od),W("hmmss",pd),W("Hmm",od),W("Hmmss",pd),$(["H","HH"],Ed),$(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),$(["h","hh"],function(a,b,c){b[Ed]=r(a),j(c).bigHour=!0}),$("hmm",function(a,b,c){var d=a.length-2;b[Ed]=r(a.substr(0,d)),b[Fd]=r(a.substr(d)),j(c).bigHour=!0}),$("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[Ed]=r(a.substr(0,d)),b[Fd]=r(a.substr(d,2)),b[Gd]=r(a.substr(e)),j(c).bigHour=!0}),$("Hmm",function(a,b,c){var d=a.length-2;b[Ed]=r(a.substr(0,d)),b[Fd]=r(a.substr(d))}),$("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[Ed]=r(a.substr(0,d)),b[Fd]=r(a.substr(d,2)),b[Gd]=r(a.substr(e))});var ie=/[ap]\.?m?\.?/i,je=M("Hours",!0);R("m",["mm",2],0,"minute"),J("minute","m"),
W("m",nd),W("mm",nd,jd),$(["m","mm"],Fd);var ke=M("Minutes",!1);R("s",["ss",2],0,"second"),J("second","s"),W("s",nd),W("ss",nd,jd),$(["s","ss"],Gd);var le=M("Seconds",!1);R("S",0,0,function(){return~~(this.millisecond()/100)}),R(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),R(0,["SSS",3],0,"millisecond"),R(0,["SSSS",4],0,function(){return 10*this.millisecond()}),R(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),R(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),R(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),R(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),R(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),J("millisecond","ms"),W("S",qd,id),W("SS",qd,jd),W("SSS",qd,kd);var me;for(me="SSSS";me.length<=9;me+="S")W(me,td);for(me="S";me.length<=9;me+="S")$(me,nc);var ne=M("Milliseconds",!1);R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");var oe=o.prototype;oe.add=ae,oe.calendar=jb,oe.clone=kb,oe.diff=rb,oe.endOf=Db,oe.format=vb,oe.from=wb,oe.fromNow=xb,oe.to=yb,oe.toNow=zb,oe.get=P,oe.invalidAt=Mb,oe.isAfter=lb,oe.isBefore=mb,oe.isBetween=nb,oe.isSame=ob,oe.isSameOrAfter=pb,oe.isSameOrBefore=qb,oe.isValid=Kb,oe.lang=ce,oe.locale=Ab,oe.localeData=Bb,oe.max=Xd,oe.min=Wd,oe.parsingFlags=Lb,oe.set=P,oe.startOf=Cb,oe.subtract=be,oe.toArray=Hb,oe.toObject=Ib,oe.toDate=Gb,oe.toISOString=ub,oe.toJSON=Jb,oe.toString=tb,oe.unix=Fb,oe.valueOf=Eb,oe.creationData=Nb,oe.year=Vd,oe.isLeapYear=sa,oe.weekYear=Pb,oe.isoWeekYear=Qb,oe.quarter=oe.quarters=Vb,oe.month=ga,oe.daysInMonth=ha,oe.week=oe.weeks=Zb,oe.isoWeek=oe.isoWeeks=$b,oe.weeksInYear=Sb,oe.isoWeeksInYear=Rb,oe.date=ee,oe.day=oe.days=ec,oe.weekday=fc,oe.isoWeekday=gc,oe.dayOfYear=hc,oe.hour=oe.hours=je,oe.minute=oe.minutes=ke,oe.second=oe.seconds=le,oe.millisecond=oe.milliseconds=ne,oe.utcOffset=Ta,oe.utc=Va,oe.local=Wa,oe.parseZone=Xa,oe.hasAlignedHourOffset=Ya,oe.isDST=Za,oe.isDSTShifted=$a,oe.isLocal=_a,oe.isUtcOffset=ab,oe.isUtc=bb,oe.isUTC=bb,oe.zoneAbbr=oc,oe.zoneName=pc,oe.dates=u("dates accessor is deprecated. Use date instead.",ee),oe.months=u("months accessor is deprecated. Use month instead",ga),oe.years=u("years accessor is deprecated. Use year instead",Vd),oe.zone=u("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ua);var pe=oe,qe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},re={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},se="Invalid date",te="%d",ue=/\d{1,2}/,ve={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},we=A.prototype;we._calendar=qe,we.calendar=sc,we._longDateFormat=re,we.longDateFormat=tc,we._invalidDate=se,we.invalidDate=uc,we._ordinal=te,we.ordinal=vc,we._ordinalParse=ue,we.preparse=wc,we.postformat=wc,we._relativeTime=ve,we.relativeTime=xc,we.pastFuture=yc,we.set=y,we.months=ca,we._months=Ld,we.monthsShort=da,we._monthsShort=Md,we.monthsParse=ea,we._monthsRegex=Od,we.monthsRegex=ja,we._monthsShortRegex=Nd,we.monthsShortRegex=ia,we.week=Wb,we._week=de,we.firstDayOfYear=Yb,we.firstDayOfWeek=Xb,we.weekdays=ac,we._weekdays=fe,we.weekdaysMin=cc,we._weekdaysMin=he,we.weekdaysShort=bc,we._weekdaysShort=ge,we.weekdaysParse=dc,we.isPM=lc,we._meridiemParse=ie,we.meridiem=mc,E("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===r(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=u("moment.lang is deprecated. Use moment.locale instead.",E),a.langData=u("moment.langData is deprecated. Use moment.localeData instead.",H);var xe=Math.abs,ye=Qc("ms"),ze=Qc("s"),Ae=Qc("m"),Be=Qc("h"),Ce=Qc("d"),De=Qc("w"),Ee=Qc("M"),Fe=Qc("y"),Ge=Sc("milliseconds"),He=Sc("seconds"),Ie=Sc("minutes"),Je=Sc("hours"),Ke=Sc("days"),Le=Sc("months"),Me=Sc("years"),Ne=Math.round,Oe={s:45,m:45,h:22,d:26,M:11},Pe=Math.abs,Qe=Na.prototype;Qe.abs=Gc,Qe.add=Ic,Qe.subtract=Jc,Qe.as=Oc,Qe.asMilliseconds=ye,Qe.asSeconds=ze,Qe.asMinutes=Ae,Qe.asHours=Be,Qe.asDays=Ce,Qe.asWeeks=De,Qe.asMonths=Ee,Qe.asYears=Fe,Qe.valueOf=Pc,Qe._bubble=Lc,Qe.get=Rc,Qe.milliseconds=Ge,Qe.seconds=He,Qe.minutes=Ie,Qe.hours=Je,Qe.days=Ke,Qe.weeks=Tc,Qe.months=Le,Qe.years=Me,Qe.humanize=Xc,Qe.toISOString=Yc,Qe.toString=Yc,Qe.toJSON=Yc,Qe.locale=Ab,Qe.localeData=Bb,Qe.toIsoString=u("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yc),Qe.lang=ce,R("X",0,0,"unix"),R("x",0,0,"valueOf"),W("x",ud),W("X",xd),$("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),$("x",function(a,b,c){c._d=new Date(r(a))}),a.version="2.12.0",b(Ja),a.fn=pe,a.min=La,a.max=Ma,a.now=Yd,a.utc=h,a.unix=qc,a.months=Bc,a.isDate=d,a.locale=E,a.invalid=l,a.duration=cb,a.isMoment=p,a.weekdays=Dc,a.parseZone=rc,a.localeData=H,a.isDuration=Oa,a.monthsShort=Cc,a.weekdaysMin=Fc,a.defineLocale=F,a.updateLocale=G,a.locales=I,a.weekdaysShort=Ec,a.normalizeUnits=K,a.relativeTimeThreshold=Wc,a.prototype=pe;var Re=a;return Re})}(),System.register("app/core/utils/datemath.js",["lodash","moment"],function(a){function b(a,b){if(a){if(f["default"].isMoment(a))return a;if(e["default"].isDate(a))return f["default"](a);var c,g,h,i="";return"now"===a.substring(0,3)?(c=f["default"](),i=a.substring("now".length)):(g=a.indexOf("||"),g===-1?(h=a,i=""):(h=a.substring(0,g),i=a.substring(g+2)),c=f["default"](h,f["default"].ISO_8601)),i.length?d(i,c,b):c}}function c(a){var c=b(a);return!!c&&(!!f["default"].isMoment(c)&&c.isValid())}function d(a,b,c){for(var d=b,f=0,h=a.length;f<h;){var i,j,k,l=a.charAt(f++);if("/"===l)i=0;else if("+"===l)i=1;else{if("-"!==l)return;i=2}if(isNaN(a.charAt(f)))j=1;else if(2===a.length)j=a.charAt(f);else{for(var m=f;!isNaN(a.charAt(f));)if(f++,f>10)return;j=parseInt(a.substring(m,f),10)}if(0===i&&1!==j)return;if(k=a.charAt(f++),!e["default"].contains(g,k))return;0===i?c?d.endOf(k):d.startOf(k):1===i?d.add(j,k):2===i&&d.subtract(j,k)}return d}var e,f,g;return a("parse",b),a("isValid",c),a("parseDateMath",d),{setters:[function(a){e=a},function(a){f=a}],execute:function(){g=["y","M","w","d","h","m","s"]}}}),System.register("app/features/panel/metrics_panel_ctrl.js",["app/core/config","jquery","lodash","app/core/utils/kbn","./panel_ctrl","app/core/utils/rangeutil","app/core/utils/datemath"],function(a){var b,c,d,e,f,g,h,i,j=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};return{setters:[function(a){b=a},function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a}],execute:function(){i=function(a){function f(b,c){a.call(this,b,c),this.editorTabIndex=1,this.$q=c.get("$q"),this.datasourceSrv=c.get("datasourceSrv"),this.timeSrv=c.get("timeSrv"),this.templateSrv=c.get("templateSrv"),this.panel.targets||(this.panel.targets=[{}]),this.events.on("refresh",this.onMetricsPanelRefresh.bind(this)),this.events.on("init-edit-mode",this.onInitMetricsPanelEditMode.bind(this))}return j(f,a),f.prototype.onInitMetricsPanelEditMode=function(){this.addEditorTab("Metrics","public/app/partials/metrics.html"),this.addEditorTab("Time range","public/app/features/panel/partials/panelTime.html")},f.prototype.onMetricsPanelRefresh=function(){var a=this;if(!this.otherPanelInFullscreenMode()){if(this.panel.snapshotData){this.updateTimeRange();var b=this.panel.snapshotData;return d["default"].isArray(b)||(b=b.data),void this.events.emit("data-snapshot-load",b)}this.dataStream||(delete this.error,this.loading=!0,this.setTimeQueryStart(),this.datasourceSrv.get(this.panel.datasource).then(this.issueQueries.bind(this)).then(this.handleQueryResult.bind(this))["catch"](function(b){return b.cancelled?void console.log("Panel request cancelled",b):(a.loading=!1,a.error=b.message||"Request Error",a.inspector={error:b},a.events.emit("data-error",b),void console.log("Panel data error:",b))}))}},f.prototype.setTimeQueryStart=function(){this.timing.queryStart=(new Date).getTime()},f.prototype.setTimeQueryEnd=function(){this.timing.queryEnd=(new Date).getTime()},f.prototype.updateTimeRange=function(){this.range=this.timeSrv.timeRange(),this.rangeRaw=this.timeSrv.timeRange(!1),this.applyPanelTimeOverrides(),this.panel.maxDataPoints?this.resolution=this.panel.maxDataPoints:this.resolution=Math.ceil(c["default"](window).width()*(this.panel.span/12));var a=this.panel.interval,b=(this.datasource||{}).interval;this.interval=e["default"].calculateInterval(this.range,this.resolution,a||b)},f.prototype.applyPanelTimeOverrides=function(){if(this.timeInfo="",this.panel.timeFrom){var a=this.templateSrv.replace(this.panel.timeFrom,this.panel.scopedVars),b=g.describeTextRange(a);if(b.invalid)return void(this.timeInfo="invalid time override");if(d["default"].isString(this.rangeRaw.from)){var c=h.parse(b.from);this.timeInfo=b.display,this.rangeRaw.from=b.from,this.rangeRaw.to=b.to,this.range.from=c,this.range.to=h.parse(b.to)}}if(this.panel.timeShift){var e=this.templateSrv.replace(this.panel.timeShift,this.panel.scopedVars),f=g.describeTextRange(e);if(f.invalid)return void(this.timeInfo="invalid timeshift");var i="-"+e;this.timeInfo+=" timeshift "+i,this.range.from=h.parseDateMath(i,this.range.from,!1),this.range.to=h.parseDateMath(i,this.range.to,!0),this.rangeRaw=this.range}this.panel.hideTimeOverride&&(this.timeInfo="")},f.prototype.issueQueries=function(a){if(this.updateTimeRange(),this.datasource=a,!this.panel.targets||0===this.panel.targets.length)return this.$q.when([]);var b={panelId:this.panel.id,range:this.range,rangeRaw:this.rangeRaw,interval:this.interval,targets:this.panel.targets,format:"png"===this.panel.renderer?"png":"json",maxDataPoints:this.resolution,scopedVars:this.panel.scopedVars,cacheTimeout:this.panel.cacheTimeout};return a.query(b)},f.prototype.handleQueryResult=function(a){return this.setTimeQueryEnd(),this.loading=!1,a&&a.subscribe?void this.handleDataStream(a):(this.dashboard.snapshot&&(this.panel.snapshotData=a.data),a&&a.data||(console.log("Data source query result invalid, missing data field:",a),a={data:[]}),this.events.emit("data-received",a.data))},f.prototype.handleDataStream=function(a){var b=this;return this.dataStream?void console.log("two stream observables!"):(this.dataStream=a,void(this.dataSubscription=a.subscribe({next:function(a){console.log("dataSubject next!"),a.range&&(b.range=a.range),b.events.emit("data-received",a.data)},error:function(a){b.events.emit("data-error",a),console.log("panel: observer got error")},complete:function(){console.log("panel: observer got complete")}})))},f.prototype.setDatasource=function(a){var c=this;a.meta.mixed?d["default"].each(this.panel.targets,function(a){a.datasource=c.panel.datasource,null===a.datasource&&(a.datasource=b["default"].defaultDatasource)}):this.datasource&&this.datasource.meta.mixed&&d["default"].each(this.panel.targets,function(a){delete a.datasource}),this.panel.datasource=a.value,this.datasourceName=a.name,this.datasource=null,this.refresh()},f}(f.PanelCtrl),a("MetricsPanelCtrl",i)}}}),System.register("app/features/panel/query_ctrl.js",[],function(a){var b;return{setters:[],execute:function(){b=function(){function a(a,b){this.$scope=a,this.$injector=b,this.panel=this.panelCtrl.panel}return a.prototype.refresh=function(){this.panelCtrl.refresh()},a}(),a("QueryCtrl",b)}}}),function(){var a=System.amdDefine;(function(){function b(a,b,c){for(var d=(c||0)-1,e=a?a.length:0;++d<e;)if(a[d]===b)return d;return-1}function c(a,c){var d=typeof c;if(a=a.cache,"boolean"==d||null==c)return a[c]?0:-1;"number"!=d&&"string"!=d&&(d="object");var e="number"==d?c:s+c;return a=(a=a[d])&&a[e],"object"==d?a&&b(a,c)>-1?0:-1:a?0:-1}function d(a){var b=this.cache,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var d="number"==c?a:s+a,e=b[c]||(b[c]={});"object"==c?(e[d]||(e[d]=[])).push(a):e[d]=!0}}function e(a){return a.charCodeAt(0)}function f(a,b){for(var c=a.criteria,d=b.criteria,e=-1,f=c.length;++e<f;){var g=c[e],h=d[e];if(g!==h){if(g>h||"undefined"==typeof g)return 1;if(g<h||"undefined"==typeof h)return-1}}return a.index-b.index}function g(a){var b=-1,c=a.length,e=a[0],f=a[c/2|0],g=a[c-1];if(e&&"object"==typeof e&&f&&"object"==typeof f&&g&&"object"==typeof g)return!1;var h=j();h["false"]=h["null"]=h["true"]=h.undefined=!1;var i=j();for(i.array=a,i.cache=h,i.push=d;++b<c;)i.push(a[b]);return i}function h(a){return"\\"+W[a]}function i(){return p.pop()||[]}function j(){return q.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function k(a){a.length=0,p.length<u&&p.push(a)}function l(a){var b=a.cache;b&&l(b),a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null,q.length<u&&q.push(a)}function m(a,b,c){b||(b=0),"undefined"==typeof c&&(c=a?a.length:0);for(var d=-1,e=c-b||0,f=Array(e<0?0:e);++d<e;)f[d]=a[b+d];return f}function n(a){function d(a){return a&&"object"==typeof a&&!Zc(a)&&Hc.call(a,"__wrapped__")?a:new p(a)}function p(a,b){this.__chain__=!!b,this.__wrapped__=a}function q(a){function b(){if(d){var a=m(d);Ic.apply(a,arguments)}if(this instanceof b){var f=W(c.prototype),g=c.apply(f,a||arguments);return Ea(g)?g:f}return c.apply(e,a||arguments)}var c=a[0],d=a[2],e=a[4];return Yc(b,a),b}function u(a,b,c,d,e){if(c){var f=c(a);if("undefined"!=typeof f)return f}var g=Ea(a);if(!g)return a;var h=Ac.call(a);if(!S[h])return a;var j=Wc[h];switch(h){case L:case M:return new j((+a));case O:case R:return new j(a);case Q:return f=j(a.source,A.exec(a)),f.lastIndex=a.lastIndex,f}var l=Zc(a);if(b){var n=!d;d||(d=i()),e||(e=i());for(var o=d.length;o--;)if(d[o]==a)return e[o];f=l?j(a.length):{}}else f=l?m(a):ed({},a);return l&&(Hc.call(a,"index")&&(f.index=a.index),Hc.call(a,"input")&&(f.input=a.input)),b?(d.push(a),e.push(f),(l?Ya:hd)(a,function(a,g){f[g]=u(a,b,c,d,e)}),n&&(k(d),k(e)),f):f}function W(a,b){return Ea(a)?Nc(a):{}}function Y(a,b,c){if("function"!=typeof a)return Zb;if("undefined"==typeof b||!("prototype"in a))return a;var d=a.__bindData__;if("undefined"==typeof d&&(Xc.funcNames&&(d=!a.name),d=d||!Xc.funcDecomp,!d)){var e=Fc.call(a);Xc.funcNames||(d=!B.test(e)),d||(d=F.test(e),Yc(a,d))}if(d===!1||d!==!0&&1&d[1])return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return Ib(a,b)}function Z(a){function b(){var a=i?g:this;if(e){var o=m(e);Ic.apply(o,arguments)}if((f||k)&&(o||(o=m(arguments)),f&&Ic.apply(o,f),k&&o.length<h))return d|=16,Z([c,l?d:d&-4,o,null,g,h]);if(o||(o=arguments),j&&(c=a[n]),this instanceof b){a=W(c.prototype);var p=c.apply(a,o);return Ea(p)?p:a}return c.apply(a,o)}var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=1&d,j=2&d,k=4&d,l=8&d,n=c;return Yc(b,a),b}function $(a,d){var e=-1,f=ia(),h=a?a.length:0,i=h>=t&&f===b,j=[];if(i){var k=g(d);k?(f=c,d=k):i=!1}for(;++e<h;){var m=a[e];f(d,m)<0&&j.push(m)}return i&&l(d),j}function _(a,b,c,d){for(var e=(d||0)-1,f=a?a.length:0,g=[];++e<f;){var h=a[e];if(h&&"object"==typeof h&&"number"==typeof h.length&&(Zc(h)||ma(h))){b||(h=_(h,b,c));var i=-1,j=h.length,k=g.length;for(g.length+=j;++i<j;)g[k++]=h[i]}else c||g.push(h)}return g}function ba(a,b,c,d,e,f){if(c){var g=c(a,b);if("undefined"!=typeof g)return!!g}if(a===b)return 0!==a||1/a==1/b;var h=typeof a,j=typeof b;if(!(a!==a||a&&V[h]||b&&V[j]))return!1;if(null==a||null==b)return a===b;var l=Ac.call(a),m=Ac.call(b);if(l==J&&(l=P),m==J&&(m=P),l!=m)return!1;switch(l){case L:case M:return+a==+b;case O:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case Q:case R:return a==vc(b)}var n=l==K;if(!n){var o=Hc.call(a,"__wrapped__"),p=Hc.call(b,"__wrapped__");if(o||p)return ba(o?a.__wrapped__:a,p?b.__wrapped__:b,c,d,e,f);if(l!=P)return!1;var q=a.constructor,r=b.constructor;if(q!=r&&!(Da(q)&&q instanceof q&&Da(r)&&r instanceof r)&&"constructor"in a&&"constructor"in b)return!1}var s=!e;e||(e=i()),f||(f=i());for(var t=e.length;t--;)if(e[t]==a)return f[t]==b;var u=0;if(g=!0,e.push(a),f.push(b),n){if(t=a.length,u=b.length,g=u==t,g||d)for(;u--;){var v=t,w=b[u];if(d)for(;v--&&!(g=ba(a[v],w,c,d,e,f)););else if(!(g=ba(a[u],w,c,d,e,f)))break}}else gd(b,function(b,h,i){if(Hc.call(i,h))return u++,g=Hc.call(a,h)&&ba(a[h],b,c,d,e,f)}),g&&!d&&gd(a,function(a,b,c){if(Hc.call(c,b))return g=--u>-1});return e.pop(),f.pop(),s&&(k(e),k(f)),g}function ca(a,b,c,d,e){(Zc(b)?Ya:hd)(b,function(b,f){var g,h,i=b,j=a[f];if(b&&((h=Zc(b))||id(b))){for(var k=d.length;k--;)if(g=d[k]==b){j=e[k];break}if(!g){var l;c&&(i=c(j,b),(l="undefined"!=typeof i)&&(j=i)),l||(j=h?Zc(j)?j:[]:id(j)?j:{}),d.push(b),e.push(j),l||ca(j,b,c,d,e)}}else c&&(i=c(j,b),"undefined"==typeof i&&(i=b)),"undefined"!=typeof i&&(j=i);a[f]=j})}function da(a,b){return a+Ec(Vc()*(b-a+1))}function ea(a,d,e){var f=-1,h=ia(),j=a?a.length:0,m=[],n=!d&&j>=t&&h===b,o=e||n?i():m;if(n){var p=g(o);h=c,o=p}for(;++f<j;){var q=a[f],r=e?e(q,f,a):q;(d?!f||o[o.length-1]!==r:h(o,r)<0)&&((e||n)&&o.push(r),m.push(q))}return n?(k(o.array),l(o)):e&&k(o),m}function fa(a){return function(b,c,e){var f={};c=d.createCallback(c,e,3);var g=-1,h=b?b.length:0;if("number"==typeof h)for(;++g<h;){var i=b[g];a(f,i,c(i,g,b),b)}else hd(b,function(b,d,e){a(f,b,c(b,d,e),e)});return f}}function ga(a,b,c,d,e,f){var g=1&b,h=2&b,i=4&b,j=16&b,k=32&b;if(!h&&!Da(a))throw new wc;j&&!c.length&&(b&=-17,j=c=!1),k&&!d.length&&(b&=-33,k=d=!1);var l=a&&a.__bindData__;if(l&&l!==!0)return l=m(l),l[2]&&(l[2]=m(l[2])),l[3]&&(l[3]=m(l[3])),!g||1&l[1]||(l[4]=e),!g&&1&l[1]&&(b|=8),!i||4&l[1]||(l[5]=f),j&&Ic.apply(l[2]||(l[2]=[]),c),k&&Lc.apply(l[3]||(l[3]=[]),d),l[1]|=b,ga.apply(null,l);var n=1==b||17===b?q:Z;return n([a,b,c,d,e,f])}function ha(a){return ad[a]}function ia(){var a=(a=d.indexOf)===rb?b:a;return a}function ja(a){return"function"==typeof a&&Bc.test(a)}function ka(a){var b,c;return!!(a&&Ac.call(a)==P&&(b=a.constructor,!Da(b)||b instanceof b))&&(gd(a,function(a,b){c=b}),"undefined"==typeof c||Hc.call(a,c))}function la(a){return bd[a]}function ma(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Ac.call(a)==J||!1}function na(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c=b,b=!1),u(a,b,"function"==typeof c&&Y(c,d,1))}function oa(a,b,c){return u(a,!0,"function"==typeof b&&Y(b,c,1))}function pa(a,b){var c=W(a);return b?ed(c,b):c}function qa(a,b,c){var e;return b=d.createCallback(b,c,3),hd(a,function(a,c,d){if(b(a,c,d))return e=c,!1}),e}function ra(a,b,c){var e;return b=d.createCallback(b,c,3),ta(a,function(a,c,d){if(b(a,c,d))return e=c,!1}),e}function sa(a,b,c){var d=[];gd(a,function(a,b){d.push(b,a)});var e=d.length;for(b=Y(b,c,3);e--&&b(d[e--],d[e],a)!==!1;);return a}function ta(a,b,c){var d=_c(a),e=d.length;for(b=Y(b,c,3);e--;){var f=d[e];if(b(a[f],f,a)===!1)break}return a}function ua(a){var b=[];return gd(a,function(a,c){Da(a)&&b.push(c)}),b.sort()}function va(a,b){return!!a&&Hc.call(a,b)}function wa(a){for(var b=-1,c=_c(a),d=c.length,e={};++b<d;){var f=c[b];e[a[f]]=f}return e}function xa(a){return a===!0||a===!1||a&&"object"==typeof a&&Ac.call(a)==L||!1}function ya(a){return a&&"object"==typeof a&&Ac.call(a)==M||!1}function za(a){return a&&1===a.nodeType||!1}function Aa(a){var b=!0;if(!a)return b;var c=Ac.call(a),d=a.length;return c==K||c==R||c==J||c==P&&"number"==typeof d&&Da(a.splice)?!d:(hd(a,function(){return b=!1}),b)}function Ba(a,b,c,d){return ba(a,b,"function"==typeof c&&Y(c,d,2))}function Ca(a){return Pc(a)&&!Qc(parseFloat(a))}function Da(a){return"function"==typeof a}function Ea(a){return!(!a||!V[typeof a])}function Fa(a){return Ha(a)&&a!=+a}function Ga(a){return null===a}function Ha(a){return"number"==typeof a||a&&"object"==typeof a&&Ac.call(a)==O||!1}function Ia(a){return a&&"object"==typeof a&&Ac.call(a)==Q||!1}function Ja(a){return"string"==typeof a||a&&"object"==typeof a&&Ac.call(a)==R||!1}function Ka(a){return"undefined"==typeof a}function La(a,b,c){var e={};return b=d.createCallback(b,c,3),hd(a,function(a,c,d){e[c]=b(a,c,d)}),e}function Ma(a){var b=arguments,c=2;if(!Ea(a))return a;if("number"!=typeof b[2]&&(c=b.length),c>3&&"function"==typeof b[c-2])var d=Y(b[--c-1],b[c--],2);else c>2&&"function"==typeof b[c-1]&&(d=b[--c]);for(var e=m(arguments,1,c),f=-1,g=i(),h=i();++f<c;)ca(a,e[f],d,g,h);return k(g),k(h),a}function Na(a,b,c){var e={};if("function"!=typeof b){var f=[];gd(a,function(a,b){f.push(b)}),f=$(f,_(arguments,!0,!1,1));for(var g=-1,h=f.length;++g<h;){var i=f[g];e[i]=a[i]}}else b=d.createCallback(b,c,3),gd(a,function(a,c,d){b(a,c,d)||(e[c]=a)});return e}function Oa(a){for(var b=-1,c=_c(a),d=c.length,e=nc(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function Pa(a,b,c){var e={};if("function"!=typeof b)for(var f=-1,g=_(arguments,!0,!1,1),h=Ea(a)?g.length:0;++f<h;){var i=g[f];i in a&&(e[i]=a[i])}else b=d.createCallback(b,c,3),gd(a,function(a,c,d){b(a,c,d)&&(e[c]=a)});return e}function Qa(a,b,c,e){var f=Zc(a);if(null==c)if(f)c=[];else{var g=a&&a.constructor,h=g&&g.prototype;c=W(h)}return b&&(b=d.createCallback(b,e,4),(f?Ya:hd)(a,function(a,d,e){return b(c,a,d,e)})),c}function Ra(a){for(var b=-1,c=_c(a),d=c.length,e=nc(d);++b<d;)e[b]=a[c[b]];return e}function Sa(a){for(var b=arguments,c=-1,d=_(b,!0,!1,1),e=b[2]&&b[2][b[1]]===a?1:d.length,f=nc(e);++c<e;)f[c]=a[d[c]];return f}function Ta(a,b,c){var d=-1,e=ia(),f=a?a.length:0,g=!1;return c=(c<0?Sc(0,f+c):c)||0,Zc(a)?g=e(a,b,c)>-1:"number"==typeof f?g=(Ja(a)?a.indexOf(b,c):e(a,b,c))>-1:hd(a,function(a){if(++d>=c)return!(g=a===b)}),g}function Ua(a,b,c){var e=!0;b=d.createCallback(b,c,3);var f=-1,g=a?a.length:0;if("number"==typeof g)for(;++f<g&&(e=!!b(a[f],f,a)););else hd(a,function(a,c,d){return e=!!b(a,c,d)});return e}function Va(a,b,c){var e=[];b=d.createCallback(b,c,3);var f=-1,g=a?a.length:0;if("number"==typeof g)for(;++f<g;){var h=a[f];b(h,f,a)&&e.push(h)}else hd(a,function(a,c,d){b(a,c,d)&&e.push(a)});return e}function Wa(a,b,c){b=d.createCallback(b,c,3);var e=-1,f=a?a.length:0;if("number"!=typeof f){var g;return hd(a,function(a,c,d){if(b(a,c,d))return g=a,!1}),g}for(;++e<f;){var h=a[e];if(b(h,e,a))return h}}function Xa(a,b,c){var e;return b=d.createCallback(b,c,3),Za(a,function(a,c,d){if(b(a,c,d))return e=a,!1}),e}function Ya(a,b,c){var d=-1,e=a?a.length:0;if(b=b&&"undefined"==typeof c?b:Y(b,c,3),"number"==typeof e)for(;++d<e&&b(a[d],d,a)!==!1;);else hd(a,b);return a}function Za(a,b,c){var d=a?a.length:0;if(b=b&&"undefined"==typeof c?b:Y(b,c,3),"number"==typeof d)for(;d--&&b(a[d],d,a)!==!1;);else{var e=_c(a);d=e.length,hd(a,function(a,c,f){return c=e?e[--d]:--d,b(f[c],c,f)})}return a}function $a(a,b){var c=m(arguments,2),d=-1,e="function"==typeof b,f=a?a.length:0,g=nc("number"==typeof f?f:0);return Ya(a,function(a){g[++d]=(e?b:a[b]).apply(a,c)}),g}function _a(a,b,c){var e=-1,f=a?a.length:0;if(b=d.createCallback(b,c,3),"number"==typeof f)for(var g=nc(f);++e<f;)g[e]=b(a[e],e,a);else g=[],hd(a,function(a,c,d){g[++e]=b(a,c,d)});return g}function ab(a,b,c){var f=-(1/0),g=f;if("function"!=typeof b&&c&&c[b]===a&&(b=null),null==b&&Zc(a))for(var h=-1,i=a.length;++h<i;){var j=a[h];j>g&&(g=j)}else b=null==b&&Ja(a)?e:d.createCallback(b,c,3),Ya(a,function(a,c,d){var e=b(a,c,d);e>f&&(f=e,g=a)});return g}function bb(a,b,c){var f=1/0,g=f;if("function"!=typeof b&&c&&c[b]===a&&(b=null),null==b&&Zc(a))for(var h=-1,i=a.length;++h<i;){var j=a[h];j<g&&(g=j)}else b=null==b&&Ja(a)?e:d.createCallback(b,c,3),Ya(a,function(a,c,d){var e=b(a,c,d);e<f&&(f=e,g=a)});return g}function cb(a,b,c,e){if(!a)return c;var f=arguments.length<3;b=d.createCallback(b,e,4);var g=-1,h=a.length;if("number"==typeof h)for(f&&(c=a[++g]);++g<h;)c=b(c,a[g],g,a);else hd(a,function(a,d,e){c=f?(f=!1,a):b(c,a,d,e)});return c}function db(a,b,c,e){var f=arguments.length<3;return b=d.createCallback(b,e,4),Za(a,function(a,d,e){c=f?(f=!1,a):b(c,a,d,e)}),c}function eb(a,b,c){return b=d.createCallback(b,c,3),Va(a,function(a,c,d){return!b(a,c,d)})}function fb(a,b,c){if(a&&"number"!=typeof a.length&&(a=Ra(a)),null==b||c)return a?a[da(0,a.length-1)]:o;var d=gb(a);return d.length=Tc(Sc(0,b),d.length),d}function gb(a){var b=-1,c=a?a.length:0,d=nc("number"==typeof c?c:0);return Ya(a,function(a){var c=da(0,++b);d[b]=d[c],d[c]=a}),d}function hb(a){var b=a?a.length:0;return"number"==typeof b?b:_c(a).length}function ib(a,b,c){var e;b=d.createCallback(b,c,3);var f=-1,g=a?a.length:0;if("number"==typeof g)for(;++f<g&&!(e=b(a[f],f,a)););else hd(a,function(a,c,d){return!(e=b(a,c,d))});return!!e}function jb(a,b,c){var e=-1,g=Zc(b),h=a?a.length:0,m=nc("number"==typeof h?h:0);for(g||(b=d.createCallback(b,c,3)),Ya(a,function(a,c,d){var f=m[++e]=j();g?f.criteria=_a(b,function(b){return a[b]}):(f.criteria=i())[0]=b(a,c,d),f.index=e,f.value=a}),h=m.length,m.sort(f);h--;){var n=m[h];m[h]=n.value,g||k(n.criteria),l(n)}return m}function kb(a){return a&&"number"==typeof a.length?m(a):Ra(a)}function lb(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function mb(a){return $(a,_(arguments,!0,!0,1))}function nb(a,b,c){var e=-1,f=a?a.length:0;for(b=d.createCallback(b,c,3);++e<f;)if(b(a[e],e,a))return e;return-1}function ob(a,b,c){var e=a?a.length:0;for(b=d.createCallback(b,c,3);e--;)if(b(a[e],e,a))return e;return-1}function pb(a,b,c){var e=0,f=a?a.length:0;if("number"!=typeof b&&null!=b){var g=-1;for(b=d.createCallback(b,c,3);++g<f&&b(a[g],g,a);)e++}else if(e=b,null==e||c)return a?a[0]:o;return m(a,0,Tc(Sc(0,e),f))}function qb(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c="function"!=typeof b&&d&&d[b]===a?null:b,b=!1),null!=c&&(a=_a(a,c,d)),_(a,b)}function rb(a,c,d){if("number"==typeof d){var e=a?a.length:0;d=d<0?Sc(0,e+d):d||0}else if(d){var f=Ab(a,c);return a[f]===c?f:-1}return b(a,c,d)}function sb(a,b,c){var e=0,f=a?a.length:0;if("number"!=typeof b&&null!=b){var g=f;for(b=d.createCallback(b,c,3);g--&&b(a[g],g,a);)e++}else e=null==b||c?1:b||e;return m(a,0,Tc(Sc(0,f-e),f))}function tb(){for(var a=[],d=-1,e=arguments.length,f=i(),h=ia(),j=h===b,m=i();++d<e;){var n=arguments[d];(Zc(n)||ma(n))&&(a.push(n),f.push(j&&n.length>=t&&g(d?a[d]:m)))}var o=a[0],p=-1,q=o?o.length:0,r=[];a:for(;++p<q;){var s=f[0];if(n=o[p],(s?c(s,n):h(m,n))<0){for(d=e,(s||m).push(n);--d;)if(s=f[d],(s?c(s,n):h(a[d],n))<0)continue a;r.push(n)}}for(;e--;)s=f[e],s&&l(s);return k(f),k(m),r}function ub(a,b,c){var e=0,f=a?a.length:0;if("number"!=typeof b&&null!=b){var g=f;for(b=d.createCallback(b,c,3);g--&&b(a[g],g,a);)e++}else if(e=b,null==e||c)return a?a[f-1]:o;return m(a,Sc(0,f-e))}function vb(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(c<0?Sc(0,d+c):Tc(c,d-1))+1);d--;)if(a[d]===b)return d;return-1}function wb(a){for(var b=arguments,c=0,d=b.length,e=a?a.length:0;++c<d;)for(var f=-1,g=b[c];++f<e;)a[f]===g&&(Kc.call(a,f--,1),e--);return a}function xb(a,b,c){a=+a||0,c="number"==typeof c?c:+c||1,null==b&&(b=a,a=0);for(var d=-1,e=Sc(0,Cc((b-a)/(c||1))),f=nc(e);++d<e;)f[d]=a,a+=c;return f}function yb(a,b,c){var e=-1,f=a?a.length:0,g=[];for(b=d.createCallback(b,c,3);++e<f;){var h=a[e];b(h,e,a)&&(g.push(h),Kc.call(a,e--,1),f--)}return g}function zb(a,b,c){if("number"!=typeof b&&null!=b){var e=0,f=-1,g=a?a.length:0;for(b=d.createCallback(b,c,3);++f<g&&b(a[f],f,a);)e++}else e=null==b||c?1:Sc(0,b);return m(a,e)}function Ab(a,b,c,e){var f=0,g=a?a.length:f;for(c=c?d.createCallback(c,e,1):Zb,b=c(b);f<g;){var h=f+g>>>1;c(a[h])<b?f=h+1:g=h}return f}function Bb(){return ea(_(arguments,!0,!0))}function Cb(a,b,c,e){return"boolean"!=typeof b&&null!=b&&(e=c,c="function"!=typeof b&&e&&e[b]===a?null:b,b=!1),null!=c&&(c=d.createCallback(c,e,3)),ea(a,b,c)}function Db(a){return $(a,m(arguments,1))}function Eb(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Zc(c)||ma(c))var d=d?ea($(d,c).concat($(c,d))):c}return d||[]}function Fb(){for(var a=arguments.length>1?arguments:arguments[0],b=-1,c=a?ab(md(a,"length")):0,d=nc(c<0?0:c);++b<c;)d[b]=md(a,b);return d}function Gb(a,b){var c=-1,d=a?a.length:0,e={};for(b||!d||Zc(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Hb(a,b){if(!Da(b))throw new wc;return function(){if(--a<1)return b.apply(this,arguments)}}function Ib(a,b){return arguments.length>2?ga(a,17,m(arguments,2),null,b):ga(a,1,null,null,b)}function Jb(a){for(var b=arguments.length>1?_(arguments,!0,!1,1):ua(a),c=-1,d=b.length;++c<d;){var e=b[c];a[e]=ga(a[e],1,null,null,a)}return a}function Kb(a,b){return arguments.length>2?ga(b,19,m(arguments,2),null,a):ga(b,3,null,null,a)}function Lb(){for(var a=arguments,b=a.length;b--;)if(!Da(a[b]))throw new wc;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}}function Mb(a,b){return b="number"==typeof b?b:+b||a.length,ga(a,4,null,null,null,b)}function Nb(a,b,c){var d,e,f,g,h,i,j,k=0,l=!1,m=!0;if(!Da(a))throw new wc;if(b=Sc(0,b)||0,c===!0){var n=!0;m=!1}else Ea(c)&&(n=c.leading,l="maxWait"in c&&(Sc(b,c.maxWait)||0),m="trailing"in c?c.trailing:m);var p=function(){var c=b-(od()-g);if(c<=0){e&&Dc(e);var l=j;e=i=j=o,l&&(k=od(),f=a.apply(h,d),i||e||(d=h=null))}else i=Jc(p,c)},q=function(){i&&Dc(i),e=i=j=o,(m||l!==b)&&(k=od(),f=a.apply(h,d),i||e||(d=h=null))};return function(){if(d=arguments,g=od(),h=this,j=m&&(i||!n),l===!1)var c=n&&!i;else{e||n||(k=g);var o=l-(g-k),r=o<=0;r?(e&&(e=Dc(e)),k=g,f=a.apply(h,d)):e||(e=Jc(q,o))}return r&&i?i=Dc(i):i||b===l||(i=Jc(p,b)),c&&(r=!0,f=a.apply(h,d)),!r||i||e||(d=h=null),f}}function Ob(a){if(!Da(a))throw new wc;var b=m(arguments,1);return Jc(function(){a.apply(o,b)},1)}function Pb(a,b){if(!Da(a))throw new wc;var c=m(arguments,2);return Jc(function(){a.apply(o,c)},b)}function Qb(a,b){if(!Da(a))throw new wc;var c=function(){var d=c.cache,e=b?b.apply(this,arguments):s+arguments[0];return Hc.call(d,e)?d[e]:d[e]=a.apply(this,arguments)};return c.cache={},c}function Rb(a){var b,c;if(!Da(a))throw new wc;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}}function Sb(a){return ga(a,16,m(arguments,1))}function Tb(a){return ga(a,32,null,m(arguments,1))}function Ub(a,b,c){var d=!0,e=!0;if(!Da(a))throw new wc;return c===!1?d=!1:Ea(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e),T.leading=d,T.maxWait=b,T.trailing=e,Nb(a,b,T)}function Vb(a,b){return ga(b,16,[a])}function Wb(a){return function(){return a}}function Xb(a,b,c){var d=typeof a;if(null==a||"function"==d)return Y(a,b,c);if("object"!=d)return bc(a);var e=_c(a),f=e[0],g=a[f];return 1!=e.length||g!==g||Ea(g)?function(b){for(var c=e.length,d=!1;c--&&(d=ba(b[e[c]],a[e[c]],null,!0)););return d}:function(a){var b=a[f];return g===b&&(0!==g||1/g==1/b)}}function Yb(a){return null==a?"":vc(a).replace(dd,ha)}function Zb(a){return a}function $b(a,b,c){var e=!0,f=b&&ua(b);b&&(c||f.length)||(null==c&&(c=b),g=p,b=a,a=d,f=ua(b)),c===!1?e=!1:Ea(c)&&"chain"in c&&(e=c.chain);var g=a,h=Da(g);Ya(f,function(c){var d=a[c]=b[c];h&&(g.prototype[c]=function(){var b=this.__chain__,c=this.__wrapped__,f=[c];Ic.apply(f,arguments);var h=d.apply(a,f);if(e||b){if(c===h&&Ea(h))return this;h=new g(h),h.__chain__=b}return h})})}function _b(){return a._=zc,this}function ac(){}function bc(a){return function(b){return b[a]}}function cc(a,b,c){var d=null==a,e=null==b;if(null==c&&("boolean"==typeof a&&e?(c=a,a=1):e||"boolean"!=typeof b||(c=b,e=!0)),d&&e&&(b=1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=Vc();return Tc(a+f*(b-a+parseFloat("1e-"+((f+"").length-1))),b)}return da(a,b)}function dc(a,b){if(a){var c=a[b];return Da(c)?a[b]():c}}function ec(a,b,c){var e=d.templateSettings;a=vc(a||""),c=fd({},c,e);var f,g=fd({},c.imports,e.imports),i=_c(g),j=Ra(g),k=0,l=c.interpolate||E,m="__p += '",n=uc((c.escape||E).source+"|"+l.source+"|"+(l===C?z:E).source+"|"+(c.evaluate||E).source+"|$","g");a.replace(n,function(b,c,d,e,g,i){return d||(d=e),m+=a.slice(k,i).replace(G,h),
c&&(m+="' +\n__e("+c+") +\n'"),g&&(f=!0,m+="';\n"+g+";\n__p += '"),d&&(m+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),k=i+b.length,b}),m+="';\n";var p=c.variable,q=p;q||(p="obj",m="with ("+p+") {\n"+m+"\n}\n"),m=(f?m.replace(w,""):m).replace(x,"$1").replace(y,"$1;"),m="function("+p+") {\n"+(q?"":p+" || ("+p+" = {});\n")+"var __t, __p = '', __e = _.escape"+(f?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var r="\n/*\n//# sourceURL="+(c.sourceURL||"/lodash/template/source["+I++ +"]")+"\n*/";try{var s=qc(i,"return "+m+r).apply(o,j)}catch(t){throw t.source=m,t}return b?s(b):(s.source=m,s)}function fc(a,b,c){a=(a=+a)>-1?a:0;var d=-1,e=nc(a);for(b=Y(b,c,1);++d<a;)e[d]=b(d);return e}function gc(a){return null==a?"":vc(a).replace(cd,la)}function hc(a){var b=++r;return vc(null==a?"":a)+b}function ic(a){return a=new p(a),a.__chain__=!0,a}function jc(a,b){return b(a),a}function kc(){return this.__chain__=!0,this}function lc(){return vc(this.__wrapped__)}function mc(){return this.__wrapped__}a=a?aa.defaults(X.Object(),a,aa.pick(X,H)):X;var nc=a.Array,oc=a.Boolean,pc=a.Date,qc=a.Function,rc=a.Math,sc=a.Number,tc=a.Object,uc=a.RegExp,vc=a.String,wc=a.TypeError,xc=[],yc=tc.prototype,zc=a._,Ac=yc.toString,Bc=uc("^"+vc(Ac).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Cc=rc.ceil,Dc=a.clearTimeout,Ec=rc.floor,Fc=qc.prototype.toString,Gc=ja(Gc=tc.getPrototypeOf)&&Gc,Hc=yc.hasOwnProperty,Ic=xc.push,Jc=a.setTimeout,Kc=xc.splice,Lc=xc.unshift,Mc=function(){try{var a={},b=ja(b=tc.defineProperty)&&b,c=b(a,a,a)&&b}catch(d){}return c}(),Nc=ja(Nc=tc.create)&&Nc,Oc=ja(Oc=nc.isArray)&&Oc,Pc=a.isFinite,Qc=a.isNaN,Rc=ja(Rc=tc.keys)&&Rc,Sc=rc.max,Tc=rc.min,Uc=a.parseInt,Vc=rc.random,Wc={};Wc[K]=nc,Wc[L]=oc,Wc[M]=pc,Wc[N]=qc,Wc[P]=tc,Wc[O]=sc,Wc[Q]=uc,Wc[R]=vc,p.prototype=d.prototype;var Xc=d.support={};Xc.funcDecomp=!ja(a.WinRTError)&&F.test(n),Xc.funcNames="string"==typeof qc.name,d.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:C,variable:"",imports:{_:d}},Nc||(W=function(){function b(){}return function(c){if(Ea(c)){b.prototype=c;var d=new b;b.prototype=null}return d||a.Object()}}());var Yc=Mc?function(a,b){U.value=b,Mc(a,"__bindData__",U)}:ac,Zc=Oc||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Ac.call(a)==K||!1},$c=function(a){var b,c=a,d=[];if(!c)return d;if(!V[typeof a])return d;for(b in c)Hc.call(c,b)&&d.push(b);return d},_c=Rc?function(a){return Ea(a)?Rc(a):[]}:$c,ad={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bd=wa(ad),cd=uc("("+_c(bd).join("|")+")","g"),dd=uc("["+_c(ad).join("")+"]","g"),ed=function(a,b,c){var d,e=a,f=e;if(!e)return f;var g=arguments,h=0,i="number"==typeof c?2:g.length;if(i>3&&"function"==typeof g[i-2])var j=Y(g[--i-1],g[i--],2);else i>2&&"function"==typeof g[i-1]&&(j=g[--i]);for(;++h<i;)if(e=g[h],e&&V[typeof e])for(var k=-1,l=V[typeof e]&&_c(e),m=l?l.length:0;++k<m;)d=l[k],f[d]=j?j(f[d],e[d]):e[d];return f},fd=function(a,b,c){var d,e=a,f=e;if(!e)return f;for(var g=arguments,h=0,i="number"==typeof c?2:g.length;++h<i;)if(e=g[h],e&&V[typeof e])for(var j=-1,k=V[typeof e]&&_c(e),l=k?k.length:0;++j<l;)d=k[j],"undefined"==typeof f[d]&&(f[d]=e[d]);return f},gd=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!V[typeof e])return f;b=b&&"undefined"==typeof c?b:Y(b,c,3);for(d in e)if(b(e[d],d,a)===!1)return f;return f},hd=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!V[typeof e])return f;b=b&&"undefined"==typeof c?b:Y(b,c,3);for(var g=-1,h=V[typeof e]&&_c(e),i=h?h.length:0;++g<i;)if(d=h[g],b(e[d],d,a)===!1)return f;return f},id=Gc?function(a){if(!a||Ac.call(a)!=P)return!1;var b=a.valueOf,c=ja(b)&&(c=Gc(b))&&Gc(c);return c?a==c||Gc(a)==c:ka(a)}:ka,jd=fa(function(a,b,c){Hc.call(a,c)?a[c]++:a[c]=1}),kd=fa(function(a,b,c){(Hc.call(a,c)?a[c]:a[c]=[]).push(b)}),ld=fa(function(a,b,c){a[c]=b}),md=_a,nd=Va,od=ja(od=pc.now)&&od||function(){return(new pc).getTime()},pd=8==Uc(v+"08")?Uc:function(a,b){return Uc(Ja(a)?a.replace(D,""):a,b||0)};return d.after=Hb,d.assign=ed,d.at=Sa,d.bind=Ib,d.bindAll=Jb,d.bindKey=Kb,d.chain=ic,d.compact=lb,d.compose=Lb,d.constant=Wb,d.countBy=jd,d.create=pa,d.createCallback=Xb,d.curry=Mb,d.debounce=Nb,d.defaults=fd,d.defer=Ob,d.delay=Pb,d.difference=mb,d.filter=Va,d.flatten=qb,d.forEach=Ya,d.forEachRight=Za,d.forIn=gd,d.forInRight=sa,d.forOwn=hd,d.forOwnRight=ta,d.functions=ua,d.groupBy=kd,d.indexBy=ld,d.initial=sb,d.intersection=tb,d.invert=wa,d.invoke=$a,d.keys=_c,d.map=_a,d.mapValues=La,d.max=ab,d.memoize=Qb,d.merge=Ma,d.min=bb,d.omit=Na,d.once=Rb,d.pairs=Oa,d.partial=Sb,d.partialRight=Tb,d.pick=Pa,d.pluck=md,d.property=bc,d.pull=wb,d.range=xb,d.reject=eb,d.remove=yb,d.rest=zb,d.shuffle=gb,d.sortBy=jb,d.tap=jc,d.throttle=Ub,d.times=fc,d.toArray=kb,d.transform=Qa,d.union=Bb,d.uniq=Cb,d.values=Ra,d.where=nd,d.without=Db,d.wrap=Vb,d.xor=Eb,d.zip=Fb,d.zipObject=Gb,d.collect=_a,d.drop=zb,d.each=Ya,d.eachRight=Za,d.extend=ed,d.methods=ua,d.object=Gb,d.select=Va,d.tail=zb,d.unique=Cb,d.unzip=Fb,$b(d),d.clone=na,d.cloneDeep=oa,d.contains=Ta,d.escape=Yb,d.every=Ua,d.find=Wa,d.findIndex=nb,d.findKey=qa,d.findLast=Xa,d.findLastIndex=ob,d.findLastKey=ra,d.has=va,d.identity=Zb,d.indexOf=rb,d.isArguments=ma,d.isArray=Zc,d.isBoolean=xa,d.isDate=ya,d.isElement=za,d.isEmpty=Aa,d.isEqual=Ba,d.isFinite=Ca,d.isFunction=Da,d.isNaN=Fa,d.isNull=Ga,d.isNumber=Ha,d.isObject=Ea,d.isPlainObject=id,d.isRegExp=Ia,d.isString=Ja,d.isUndefined=Ka,d.lastIndexOf=vb,d.mixin=$b,d.noConflict=_b,d.noop=ac,d.now=od,d.parseInt=pd,d.random=cc,d.reduce=cb,d.reduceRight=db,d.result=dc,d.runInContext=n,d.size=hb,d.some=ib,d.sortedIndex=Ab,d.template=ec,d.unescape=gc,d.uniqueId=hc,d.all=Ua,d.any=ib,d.detect=Wa,d.findWhere=Wa,d.foldl=cb,d.foldr=db,d.include=Ta,d.inject=cb,$b(function(){var a={};return hd(d,function(b,c){d.prototype[c]||(a[c]=b)}),a}(),!1),d.first=pb,d.last=ub,d.sample=fb,d.take=pb,d.head=pb,hd(d,function(a,b){var c="sample"!==b;d.prototype[b]||(d.prototype[b]=function(b,d){var e=this.__chain__,f=a(this.__wrapped__,b,d);return e||null!=b&&(!d||c&&"function"==typeof b)?new p(f,e):f})}),d.VERSION="2.4.1",d.prototype.chain=kc,d.prototype.toString=lc,d.prototype.value=mc,d.prototype.valueOf=mc,Ya(["join","pop","shift"],function(a){var b=xc[a];d.prototype[a]=function(){var a=this.__chain__,c=b.apply(this.__wrapped__,arguments);return a?new p(c,a):c}}),Ya(["push","reverse","sort","unshift"],function(a){var b=xc[a];d.prototype[a]=function(){return b.apply(this.__wrapped__,arguments),this}}),Ya(["concat","slice","splice"],function(a){var b=xc[a];d.prototype[a]=function(){return new p(b.apply(this.__wrapped__,arguments),this.__chain__)}}),d}var o,p=[],q=[],r=0,s=+new Date+"",t=75,u=40,v=" \t\x0B\f \ufeff\n\r\u2028\u2029 ᠎             　",w=/\b__p \+= '';/g,x=/\b(__p \+=) '' \+/g,y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,z=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,A=/\w*$/,B=/^\s*function[ \n\r\t]+\w/,C=/<%=([\s\S]+?)%>/g,D=RegExp("^["+v+"]*0+(?=.$)"),E=/($^)/,F=/\bthis\b/,G=/['\n\r\t\u2028\u2029\\]/g,H=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],I=0,J="[object Arguments]",K="[object Array]",L="[object Boolean]",M="[object Date]",N="[object Function]",O="[object Number]",P="[object Object]",Q="[object RegExp]",R="[object String]",S={};S[N]=!1,S[J]=S[K]=S[L]=S[M]=S[O]=S[P]=S[Q]=S[R]=!0;var T={leading:!1,maxWait:0,trailing:!1},U={configurable:!1,enumerable:!1,value:null,writable:!1},V={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},W={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},X=V[typeof window]&&window||this,Y=V[typeof exports]&&exports&&!exports.nodeType&&exports,Z=V[typeof module]&&module&&!module.nodeType&&module,$=Z&&Z.exports===Y&&Y,_=V[typeof global]&&global;!_||_.global!==_&&_.window!==_||(X=_);var aa=n();"function"==typeof a&&"object"==typeof a.amd&&a.amd?(X._=aa,a("lodash-src",[],function(){return aa})):Y&&Z?$?(Z.exports=aa)._=aa:Y._=aa:X._=aa}).call(this)}(),function(){var a=System.amdDefine;a("lodash",["lodash-src"],function(){"use strict";var a=window._;return a.mixin({move:function(a,b,c){return a.splice(c,0,a.splice(b,1)[0]),a},toggle:function(a,b,c){return a===b?c:b},toggleInOut:function(b,c){return a.contains(b,c)?b=a.without(b,c):b.push(c),b}}),a})}(),function(){var a=System.amdDefine;a("app/core/settings.js",["lodash"],function(a){"use strict";return function(b){var c={datasources:{},window_title_prefix:"Grafana - ",panels:{},new_panel_title:"Panel Title",playlist_timespan:"1m",unsaved_changes_warning:!0,appSubUrl:""};return a.extend({},c,b)}})}(),function(){var a=System.amdDefine;a("app/core/config.js",["app/core/settings"],function(a){"use strict";var b=window.grafanaBootData||{settings:{}},c=b.settings;return c.bootData=b,new a(c)})}(),System.register("app/plugins/sdk.js",["app/features/panel/panel_ctrl","app/features/panel/metrics_panel_ctrl","app/features/panel/query_ctrl","app/core/config"],function(a){function b(a){f["default"].bootData.user.lightTheme?System["import"](a.light+"!css"):System["import"](a.dark+"!css")}var c,d,e,f;return a("loadPluginCss",b),{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){a("PanelCtrl",c.PanelCtrl),a("MetricsPanelCtrl",d.MetricsPanelCtrl),a("QueryCtrl",e.QueryCtrl)}}}),System.register("app/plugins/panel/text/module.js",["lodash","app/plugins/sdk"],function(a){var b,c,d,e=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};return{setters:[function(a){b=a},function(a){c=a}],execute:function(){d=function(a){function c(c,d,e,f){a.call(this,c,d),this.templateSrv=e,this.$sce=f,this.panelDefaults={mode:"markdown",content:"# title"},b["default"].defaults(this.panel,this.panelDefaults),this.events.on("init-edit-mode",this.onInitEditMode.bind(this)),this.events.on("refresh",this.onRender.bind(this)),this.events.on("render",this.onRender.bind(this))}return e(c,a),c.$inject=["$scope","$injector","templateSrv","$sce"],c.prototype.onInitEditMode=function(){this.addEditorTab("Options","public/app/plugins/panel/text/editor.html"),this.editorTabIndex=1},c.prototype.onRender=function(){"markdown"===this.panel.mode?this.renderMarkdown(this.panel.content):"html"===this.panel.mode?this.updateContent(this.panel.content):"text"===this.panel.mode&&this.renderText(this.panel.content),this.renderingCompleted()},c.prototype.renderText=function(a){a=a.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/\n/g,"<br/>"),this.updateContent(a)},c.prototype.renderMarkdown=function(a){var b=this;return this.remarkable?void this.updateContent(this.remarkable.render(a)):System["import"]("remarkable").then(function(c){b.remarkable=new c,b.$scope.$apply(function(){b.updateContent(b.remarkable.render(a))})})},c.prototype.updateContent=function(a){try{this.content=this.$sce.trustAsHtml(this.templateSrv.replace(a,this.panel.scopedVars))}catch(b){console.log("Text panel error: ",b),this.content=this.$sce.trustAsHtml(a)}},c.templateUrl="public/app/plugins/panel/text/module.html",c}(c.PanelCtrl),a("TextPanelCtrl",d),a("PanelCtrl",d)}}});