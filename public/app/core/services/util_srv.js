/*! grafana - v4.0.0-1478693311beta1 - 2016-11-09
 * Copyright (c) 2016 Torkel Ã–degaard; Licensed Apache-2.0 */

System.register(["app/core/core_module","app/core/app_events"],function(a){var b,c,d;return{setters:[function(a){b=a},function(a){c=a}],execute:function(){d=function(){function a(a,b){this.$rootScope=a,this.$modal=b}return a.$inject=["$rootScope","$modal"],a.prototype.init=function(){c["default"].on("show-modal",this.showModal.bind(this),this.$rootScope),c["default"].on("hide-modal",this.hideModal.bind(this),this.$rootScope)},a.prototype.hideModal=function(){this.modalScope&&this.modalScope.dismiss&&this.modalScope.dismiss()},a.prototype.showModal=function(a){this.modalScope&&this.modalScope.dismiss&&this.modalScope.dismiss(),this.modalScope=a.scope,a.model?(this.modalScope=this.$rootScope.$new(),this.modalScope.model=a.model):this.modalScope||(this.modalScope=this.$rootScope.$new());var b=this.$modal({modalClass:a.modalClass,template:a.src,templateHtml:a.templateHtml,persist:!1,show:!1,scope:this.modalScope,keyboard:!1,backdrop:a.backdrop});Promise.resolve(b).then(function(a){a.modal("show")})},a}(),a("UtilSrv",d),b["default"].service("utilSrv",d)}}});